==================
Unreleased Changes
==================

This file collects *unreleased* changes only.

For release notes, see:

  https://crate.io/docs/reference/en/latest/release_notes/index.html

For developers: changes should be recorded here (using RST syntax) as you are
developing CrateDB. When a new release is being cut, changes will be moved to
the appropriate section of the docs.

Breaking Changes
================

Changes
=======

- Arrays can now contain mixed types if they're safely convertible. JSON
  libraries tend to encode values like ``[ 0.0, 1.2]`` as ``[ 0, 1.2 ]``, this
  caused an error because of the strict type match we enforced before.

Fixes
=====

- Do not allow renaming a table when connected to a read-only node.

- Fixed an issue that caused an error to be thrown when filtering on a
  partitioned table using a column which is a source column for a ``GENERATED``
  column which in turn is used for partitioning. E.g.::

    CREATE TABLE parted_t(
        t TIMESTAMP,
        day TIMESTAMP GENERATED ALWAYS AS date_trunc('day', t)
    ) PARTITIONED BY (day);

    SELECT * FROM parted_t WHERE t > 1522170000000;
