<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Selecting Data &mdash; CrateDB  documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/normalize.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/mmenu.all.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/components.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/crateio.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/crateio-rtd.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css?ver=1.1" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!--[if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->
    <script type="text/javascript" src="https://cdn.crate.io/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script type="text/javascript" src="../../_static/js/modernizr.js?ver=1.1"></script>
    <script type="text/javascript" src="../../_static/js/underscore.min.js?ver=1.1"></script>
    <script type="text/javascript" src="../../_static/doctools.js?ver=1.1"></script>
    <script type="text/javascript" src="../../_static/js/searchtools.js?ver=1.1"></script>
    <script type="text/javascript" src="../../_static/js/webflow.js?ver=1.1"></script>
    <script type="text/javascript" src="../../_static/js/bootstrap.js?ver=1.1"></script>
    <script type="text/javascript" src="../../_static/js/mmenu.all.min.js?ver=1.1"></script>
    <script type="text/javascript" src="../../_static/js/fontawesome.js?ver=1.1"></script>
    <script type="text/javascript" src="../../_static/js/custom.js?ver=1.1"></script>
    <link rel="top" title="CrateDB  documentation" href="../../index.html" />
    <link rel="up" title="Querying Crate" href="index.html" />
    <link rel="next" title="Joins" href="joins.html" />
    <link rel="prev" title="Querying Crate" href="index.html" />
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
  <meta name="apple-mobile-web-app-capable" content="yes">
  
  </head>
  <body>
  <header class="header-nav">
  <div class="container">
    <div class="navbar w-nav" data-animation="default" data-collapse="small" data-contain="1" data-duration="400">
      <a class="brand w-nav-brand" href="https://crate.io">
        <img src="../../_static/images/logo-crate.png" width="217">
      </a>
      <nav class="w-nav-menu main-nav" role="navigation">
        <div class="dropdownBackground">
          <span class="arrow"></span>
        </div>
        <ul id="menu-top-navigation" class="menu">
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/overview/">CrateDB</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a href="https://crate.io/cratedb-solutions/">Use Cases</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/customers/">Customers</a></li>
              <li class="menu-item"><a href="https://crate.io/iot-sensor-solutions/">IoT &amp; Sensor Data</a></li>
              <li class="menu-item"><a href="https://crate.io/geospatial-analytics/">Geospatial Analytics</a></li>
              <li class="menu-item"><a href="https://crate.io/cyber-security/">Cyber Security</a></li>
              <li class="menu-item"><a href="https://crate.io/time-series/">Time Series</a></li>
            </ul>
          </li>
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/pricing/">Pricing</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a>Resources</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/docs/">Documentation</a></li>
              <li class="menu-item"><a href="https://crate.io/resources/">Resource Library</a></li>
              <li class="menu-item"><a href="https://crate.io/blog/">Blog</a></li>
              <li class="menu-item"><a href="https://crate.io/community/">Community</a></li>
            </ul>
          </li>
          <li class="btn-link w-nav-link menu-item"><a href="https://crate.io/download/">Download</a></li>
        </ul>
      </nav>

      <div id="mobile-nav" class="mm-menu">
        <ul class="offcanvas-menu">
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/overview/">CrateDB</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a href="https://crate.io/cratedb-solutions/">Use Cases</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/customers/">Customers</a></li>
              <li class="menu-item"><a href="https://crate.io/iot-sensor-solutions/">IoT &amp; Sensor Data</a></li>
              <li class="menu-item"><a href="https://crate.io/geospatial-analytics/">Geospatial Analytics</a></li>
              <li class="menu-item"><a href="https://crate.io/cyber-security/">Cyber Security</a></li>
              <li class="menu-item"><a href="https://crate.io/time-series/">Time Series</a></li>
            </ul>
          </li>
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/pricing/">Pricing</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a>Resources</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/docs/">Documentation</a></li>
              <li class="menu-item"><a href="https://crate.io/resources/">Resource Library</a></li>
              <li class="menu-item"><a href="https://crate.io/blog/">Blog</a></li>
              <li class="menu-item"><a href="https://crate.io/community/">Community</a></li>
            </ul>
          </li>
          <li class="btn-link w-nav-link menu-item"><a href="https://crate.io/download/">Download</a></li>
        </ul>
      </div>

      <a href="#mobile-nav" class="fa fa-bars mobile-nav-button"></a>
    </div>
  </div>
</header>

  <div class="w-section section border-top">
    <div class="w-container w-hidden-main margin-bottom-32">
      <div class="section" style="margin: 0px">
        <a href="#" id="mobile-menu-toggler" class="w-button">Toggle Doc Menu</a>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-4 col-lg-3">
          <aside class="wrapper-navleft"><div role="complementary" class="bs-docs-sidebar hidden-print" id="nav-affix">
  <div class="search-link">
    <a href="../../search.html" class="btn btn-primary">Search Documentation</a>
  </div>
  <ul class="bs-docs-sidenav bs-sidenav nav" role="complementary">

    

    
      <ul class="toctree nav nav-list">
  <li class="navleft-item">CrateDB</li>
  <ul>
    
    <li class="navleft-item"><a href="/docs/crate/getting-started/">Getting Started</a></li>
    
    
    <li class="current">
      <a class="current-active" href="../../index.html" title="CrateDB">Reference</a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../run.html">Running CrateDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../run.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../run.html#command-line-options">Command Line Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../run.html#signal-handling">Signal Handling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../config/index.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../config/node.html">Node Specific Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#basics">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#node-types">Node Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#read-only-node">Read-only node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#hosts">Hosts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#ports">Ports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#paths">Paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#plugins">Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#memory">Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#garbage-collection">Garbage Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#elasticsearch-http-rest-api">Elasticsearch HTTP REST API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#cross-origin-resource-sharing-cors">Cross-Origin Resource Sharing (CORS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#blobs">Blobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#repositories">Repositories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#queries">Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/node.html#custom-attributes">Custom Attributes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../config/cluster.html">Cluster Wide Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#non-runtime-cluster-wide-settings">Non-Runtime Cluster Wide Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#collecting-stats">Collecting Stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#usage-data-collector">Usage Data Collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#graceful-stop">Graceful Stop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#bulk-operations">Bulk Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#discovery">Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#routing-allocation">Routing Allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#recovery">Recovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#store-level-throttling">Store Level Throttling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#query-circuit-breaker">Query Circuit Breaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#field-data-circuit-breaker">Field Data Circuit Breaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#request-circuit-breaker">Request Circuit Breaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#thread-pools">Thread Pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/cluster.html#metadata">Metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../config/session.html">Session Setting Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config/logging.html">Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../config/logging.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/logging.html#settings">Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../config/environment.html">Environment Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../config/environment.html#crate-home"><code class="docutils literal"><span class="pre">CRATE_HOME</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/environment.html#crate-java-opts"><code class="docutils literal"><span class="pre">CRATE_JAVA_OPTS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/environment.html#crate-heap-size"><code class="docutils literal"><span class="pre">CRATE_HEAP_SIZE</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../config/system.html">Operating System Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../config/system.html#virtual-memory">Virtual Memory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../config/enterprise.html">Enterprise Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../config/enterprise.html#enterprise-license">Enterprise License</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/enterprise.html#javascript-language">Javascript Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/enterprise.html#authentication">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../config/enterprise.html#secured-communications-ssl-tls">Secured Communications (SSL/TLS)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">General Use</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ddl/index.html">Data Definition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../ddl/create-table.html">Creating Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/data-types.html">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/system-columns.html">System Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/generated-columns.html">Generated Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/constraints.html">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/storage.html">Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/partitioned-tables.html">Partitioned Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/sharding.html">Sharding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/replication.html">Replication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/column-policy.html">Column Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/fulltext-indices.html">Fulltext Indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/analyzers.html">Fulltext Analyzers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/show-create-table.html">Show Create Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ddl/alter-table.html">Altering Tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dml.html">Data Manipulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../dml.html#inserting-data">Inserting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dml.html#updating-data">Updating Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dml.html#deleting-data">Deleting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dml.html#import-and-export">Import and Export</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Querying Crate</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Selecting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="joins.html">Joins</a></li>
<li class="toctree-l3"><a class="reference internal" href="union.html">Union All</a></li>
<li class="toctree-l3"><a class="reference internal" href="refresh.html">Refresh</a></li>
<li class="toctree-l3"><a class="reference internal" href="fulltext.html">Fulltext Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="geo.html">Geo Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../builtins/index.html">Built-in Functions and Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../builtins/scalar.html">Scalar Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../builtins/aggregation.html">Aggregation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../builtins/arithmetic.html">Arithmetic Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../builtins/table-functions.html">Table Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../builtins/operators.html">Comparison Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../builtins/array-comparisons.html">Array Comparisons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../builtins/subquery-expressions.html">Subquery Expressions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user-defined-functions.html">User-Defined Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user-defined-functions.html#create-or-replace"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">OR</span> <span class="pre">REPLACE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-defined-functions.html#supported-types">Supported Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-defined-functions.html#overloading">Overloading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-defined-functions.html#determinism">Determinism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-defined-functions.html#drop-function"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-defined-functions.html#supported-languages">Supported Languages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../blobs.html">Blobs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../blobs.html#creating-a-table-for-blobs">Creating a Table for Blobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../blobs.html#custom-location-for-storing-blob-data">Custom Location for Storing Blob Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../blobs.html#list">List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../blobs.html#altering-a-blob-table">Altering a Blob Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../blobs.html#deleting-a-blob-table">Deleting a Blob Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../blobs.html#using-blob-tables">Using Blob Tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../occ.html">Optimistic Concurrency Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../occ.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../occ.html#optimistic-update">Optimistic Update</a></li>
<li class="toctree-l3"><a class="reference internal" href="../occ.html#optimistic-delete">Optimistic Delete</a></li>
<li class="toctree-l3"><a class="reference internal" href="../occ.html#known-limitations">Known Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../information-schema.html">Information Schema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../information-schema.html#access">Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="../information-schema.html#virtual-tables">Virtual Tables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/index.html">Administration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../admin/system-information.html">System Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#cluster">Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#nodes">Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#node-checks">Node Checks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#shards">Shards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#jobs-operations-and-logs">Jobs, Operations, and Logs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#cluster-checks">Cluster Checks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#repositories">Repositories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#snapshots">Snapshots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#summits">Summits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#users">Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#allocations">Allocations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/system-information.html#shard-table-permissions">Shard Table Permissions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/runtime-config.html">Runtime Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/user-management.html">User Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/user-management.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/user-management.html#create-user"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/user-management.html#alter-user"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/user-management.html#drop-user"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/user-management.html#list-users">List Users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/privileges.html">Privileges</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/privileges.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/privileges.html#privilege-types">Privilege Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/privileges.html#hierarchical-inheritance-of-privileges">Hierarchical Inheritance of Privileges</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/privileges.html#behavior-of-grant-deny-and-revoke">Behavior of <code class="docutils literal"><span class="pre">GRANT</span></code>, <code class="docutils literal"><span class="pre">DENY</span></code> and <code class="docutils literal"><span class="pre">REVOKE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/privileges.html#list-privileges">List Privileges</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/auth/index.html">Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/auth/methods.html">Authentication Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/auth/hba.html">Host Based Authentication (HBA)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/ssl.html">Secured Communications (SSL/TLS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/ssl.html#ssl-tls-configuration">SSL/TLS Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/ssl.html#setting-up-a-keystore-truststore-with-a-certificate-chain">Setting up a Keystore/Truststore With a Certificate Chain</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/ingestion/index.html">Ingestion Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/ingestion/sources/index.html">Ingestion Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/ingestion/rules.html">Ingestion Rules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/optimization.html">Optimization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/optimization.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/optimization.html#multiple-table-optimization">Multiple Table Optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/optimization.html#partition-optimization">Partition Optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/optimization.html#segments-upgrade">Segments Upgrade</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/jobs-management.html">Jobs Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/monitoring.html">JMX Monitoring</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/monitoring.html#setup">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/monitoring.html#using-docker">Using Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/monitoring.html#jmx-beans">JMX Beans</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/snapshots.html">Snapshots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/snapshots.html#snapshot">Snapshot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/snapshots.html#restore">Restore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/snapshots.html#cleanup">Cleanup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/snapshots.html#requirements-for-using-hdfs-repositories">Requirements for Using HDFS Repositories</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/discovery.html">Cloud Discovery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/discovery.html#amazon-ec2-discovery">Amazon EC2 Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/discovery.html#microsoft-azure-discovery">Microsoft Azure Discovery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/udc.html">Usage Data Collector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../admin/udc.html#technical-information">Technical Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/udc.html#admin-ui-tracking">Admin UI Tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/udc.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../admin/udc.html#how-to-disable-udc">How to Disable UDC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sql/index.html">SQL Syntax</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sql/general/index.html">General SQL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sql/general/constraints.html">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/general/value-expressions.html">Value Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/general/lexical-structure.html">Lexical Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/statements/index.html">SQL Statements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/alter-cluster.html"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">CLUSTER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/alter-table.html"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/alter-user.html"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/copy-from.html"><code class="docutils literal"><span class="pre">COPY</span> <span class="pre">FROM</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/copy-to.html"><code class="docutils literal"><span class="pre">COPY</span> <span class="pre">TO</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/create-analyzer.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">ANALYZER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/create-blob-table.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">BLOB</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/create-function.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/create-ingest-rule.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">INGEST</span> <span class="pre">RULE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/create-repository.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">REPOSITORY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/create-snapshot.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">SNAPSHOT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/create-table.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/create-user.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/delete.html"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/deny.html"><code class="docutils literal"><span class="pre">DENY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/drop-function.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/drop-ingest-rule.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">INGEST</span> <span class="pre">RULE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/drop-repository.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">REPOSITORY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/drop-snapshot.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">SNAPSHOT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/drop-table.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/drop-user.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/explain.html"><code class="docutils literal"><span class="pre">EXPLAIN</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/grant.html"><code class="docutils literal"><span class="pre">GRANT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/insert.html"><code class="docutils literal"><span class="pre">INSERT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/kill.html"><code class="docutils literal"><span class="pre">KILL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/optimize.html"><code class="docutils literal"><span class="pre">OPTIMIZE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/refresh.html"><code class="docutils literal"><span class="pre">REFRESH</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/restore-snapshot.html"><code class="docutils literal"><span class="pre">RESTORE</span> <span class="pre">SNAPSHOT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/revoke.html"><code class="docutils literal"><span class="pre">REVOKE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/select.html"><code class="docutils literal"><span class="pre">SELECT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/set.html"><code class="docutils literal"><span class="pre">SET</span></code> and <code class="docutils literal"><span class="pre">RESET</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/set-transaction.html"><code class="docutils literal"><span class="pre">SET</span> <span class="pre">TRANSACTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/show-columns.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">COLUMNS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/show-create-table.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">CREATE</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/show-schemas.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">SCHEMAS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/show-tables.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">TABLES</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql/statements/update.html"><code class="docutils literal"><span class="pre">UPDATE</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../interfaces/index.html">Client Interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../interfaces/http.html">HTTP Endpoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/http.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/http.html#parameter-substitution">Parameter Substitution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/http.html#default-schema">Default Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/http.html#column-types">Column Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/http.html#bulk-operations">Bulk Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/http.html#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../interfaces/postgres.html">PostgreSQL Wire Protocol</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/postgres.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/postgres.html#server-compatibility-and-implementation-status">Server Compatibility and Implementation Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/postgres.html#client-compatibility">Client Compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interfaces/postgres.html#implementation-differences">Implementation Differences</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../enterprise/index.html">Enterprise Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/index.html">Appendices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/release-notes/index.html">Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../appendices/release-notes/index.html#x">2.x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../appendices/release-notes/index.html#id6">1.x</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/sql-compliance.html">Standard SQL Compliance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../appendices/sql-compliance.html#data-types">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../appendices/sql-compliance.html#create-table">Create Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../appendices/sql-compliance.html#alter-table">Alter Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../appendices/sql-compliance.html#insert-update-and-delete">Insert, Update, and Delete</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../appendices/sql-compliance.html#system-information-tables">System Information Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../appendices/sql-compliance.html#blob-support">BLOB Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../appendices/sql-compliance.html#transactions-begin-commit-and-rollback">Transactions (<code class="docutils literal"><span class="pre">BEGIN</span></code>, <code class="docutils literal"><span class="pre">COMMIT</span></code>, and <code class="docutils literal"><span class="pre">ROLLBACK</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../appendices/sql-compliance.html#unsupported-features-and-functions">Unsupported Features and Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/supported-features.html">Supported Features</a></li>
</ul>
</li>
</ul>

    </li>
    
    
    <li class="navleft-item"><a href="/docs/crate/guide">Guide</a></li>
    
  </ul>
  <li class="navleft-item">CrateDB Clients</li>
  <ul>
    
    <li class="navleft-item"><a href="/docs/clients/crash">The CrateDB Shell</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/python">Python</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/jdbc">JDBC</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/dbal">PHP DBAL</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/pdo">PHP PDO</a></li>
    
  </ul>

  <li class="navleft-item border-top"><a href="https://github.com/crate/crate-sample-apps">Sample Applications</a></li>
  <li class="navleft-item"><a href="/docs/support/">Support</a></li>
</ul>
    

    
      
      
    

    
    

    
      <li></li>
    

  </ul>
</div>
            
          </aside>
        </div>
        <div class="col-md-8 col-lg-9">
          <div class="wrapper-content-right">
            
  <div class="section" id="selecting-data">
<span id="sql-dql-queries"></span><h1>Selecting Data<a class="headerlink" href="#selecting-data" title="Permalink to this headline">¶</a></h1>
<p>Selecting (i.e. retrieving) data from CrateDB is done by using a SQL <code class="docutils literal"><span class="pre">SELECT</span></code>
statement. The response to a <code class="docutils literal"><span class="pre">SELECT</span></code> query contains the column names of the
result, the actual result rows as a two-dimensional array of values, the row
count and the duration.</p>
<p class="rubric">Table of Contents</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#from-clause" id="id2"><code class="docutils literal"><span class="pre">FROM</span></code> Clause</a></li>
<li><a class="reference internal" href="#joins" id="id3">Joins</a></li>
<li><a class="reference internal" href="#distinct-clause" id="id4"><code class="docutils literal"><span class="pre">DISTINCT</span></code> Clause</a></li>
<li><a class="reference internal" href="#where-clause" id="id5"><code class="docutils literal"><span class="pre">WHERE</span></code> Clause</a><ul>
<li><a class="reference internal" href="#comparison-operators" id="id6">Comparison Operators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#regular-expressions" id="id7">Regular Expressions</a></li>
<li><a class="reference internal" href="#like" id="id8"><code class="docutils literal"><span class="pre">LIKE</span></code></a></li>
<li><a class="reference internal" href="#not" id="id9"><code class="docutils literal"><span class="pre">NOT</span></code></a></li>
<li><a class="reference internal" href="#in" id="id10"><code class="docutils literal"><span class="pre">IN</span></code></a></li>
<li><a class="reference internal" href="#is-null" id="id11"><code class="docutils literal"><span class="pre">IS</span> <span class="pre">NULL</span></code></a></li>
<li><a class="reference internal" href="#is-not-null" id="id12"><code class="docutils literal"><span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code></a></li>
<li><a class="reference internal" href="#any-array" id="id13"><code class="docutils literal"><span class="pre">ANY</span> <span class="pre">(array)</span></code></a><ul>
<li><a class="reference internal" href="#negating-any" id="id14">Negating <code class="docutils literal"><span class="pre">ANY</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#limits" id="id15">Limits</a></li>
<li><a class="reference internal" href="#inner-objects-and-nested-objects" id="id16">Inner Objects and Nested Objects</a></li>
<li><a class="reference internal" href="#object-arrays" id="id17">Object Arrays</a><ul>
<li><a class="reference internal" href="#selecting-array-elements" id="id18">Selecting Array Elements</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-aggregation" id="id19">Data Aggregation</a></li>
<li><a class="reference internal" href="#group-by" id="id20"><code class="docutils literal"><span class="pre">GROUP</span> <span class="pre">BY</span></code></a><ul>
<li><a class="reference internal" href="#having" id="id21"><code class="docutils literal"><span class="pre">HAVING</span></code></a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>A simple select:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span><span class="p">,</span> <span class="k">position</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id</span> <span class="k">limit</span> <span class="mf">2</span><span class="p">;</span>
<span class="go">+-------------------+----------+</span>
<span class="go">| name              | position |</span>
<span class="go">+-------------------+----------+</span>
<span class="go">| North West Ripple | 1        |</span>
<span class="go">| Arkintoofle Minor | 3        |</span>
<span class="go">+-------------------+----------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<p>If the &#8216;*&#8217; operator is used, all columns defined in the schema are returned for
each row:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id</span> <span class="k">limit</span> <span class="mf">1</span> <span class="k">offset</span> <span class="mf">1</span><span class="p">;</span>
<span class="go">+----...-+--------------...-+----+-------------+--...-+--...-+----------+------------------...-+</span>
<span class="go">| date   | description      | id | information | kind | name | position | race                 |</span>
<span class="go">+----...-+--------------...-+----+-------------+--...-+--...-+----------+------------------...-+</span>
<span class="go">| 308... | Motivated by ... | 10 |        NULL | P... | A... | 3        | {&quot;description&quot;: ...} |</span>
<span class="go">+----...-+--------------...-+----+-------------+--...-+--...-+----------+------------------...-+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<p>Aliases can be used to change the output name of the columns:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span> <span class="k">as</span> <span class="n">n</span>
<span class="mf">...</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="k">name</span> <span class="o">=</span> <span class="s1">&#39;North West Ripple&#39;</span><span class="p">;</span>
<span class="go">+-------------------+</span>
<span class="go">| n                 |</span>
<span class="go">+-------------------+</span>
<span class="go">| North West Ripple |</span>
<span class="go">+-------------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
</div>
<div class="section" id="from-clause">
<span id="sql-dql-from-clause"></span><h2><a class="toc-backref" href="#id2"><code class="docutils literal"><span class="pre">FROM</span></code> Clause</a><a class="headerlink" href="#from-clause" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">FROM</span></code> clause is used to reference the relation this select query is
based upon. Can be a single table, many tables, table <a class="reference internal" href="joins.html#sql-joins"><span class="std std-ref">JOIN</span></a>
or another <code class="docutils literal"><span class="pre">SELECT</span></code> statement. See <a class="reference internal" href="../../sql/statements/select.html#sql-reference-select"><span class="std std-ref">SELECT Reference</span></a></p>
<p>A table is referenced by schema and table name and can optionally be aliased.
If the table <code class="docutils literal"><span class="pre">t</span></code> is only referenced by table name, CrateDB assumes the table
<code class="docutils literal"><span class="pre">doc.t</span></code> was meant. Schemas that were newly created using
<a class="reference internal" href="../../sql/statements/create-table.html#ref-create-table"><span class="std std-ref">CREATE TABLE</span></a> must be referenced explicitly.</p>
<p>The two following queries are equivalent:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span><span class="p">,</span> <span class="k">position</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span> <span class="k">desc</span> <span class="k">nulls</span> <span class="k">last</span> <span class="k">limit</span> <span class="mf">2</span><span class="p">;</span>
<span class="go">+-------------------+----------+</span>
<span class="go">| name              | position |</span>
<span class="go">+-------------------+----------+</span>
<span class="go">| Outer Eastern Rim |        2 |</span>
<span class="go">| North West Ripple |        1 |</span>
<span class="go">+-------------------+----------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">doc</span><span class="mf">.</span><span class="n">locations</span><span class="mf">.</span><span class="k">name</span> <span class="k">as</span> <span class="n">n</span><span class="p">,</span> <span class="k">position</span> <span class="k">from</span> <span class="n">doc</span><span class="mf">.</span><span class="n">locations</span>
<span class="mf">...</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span> <span class="k">desc</span> <span class="k">nulls</span> <span class="k">last</span> <span class="k">limit</span> <span class="mf">2</span><span class="p">;</span>
<span class="go">+-------------------+----------+</span>
<span class="go">| n                 | position |</span>
<span class="go">+-------------------+----------+</span>
<span class="go">| Outer Eastern Rim |        2 |</span>
<span class="go">| North West Ripple |        1 |</span>
<span class="go">+-------------------+----------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<p>A table can be aliased for the sake of brevity too:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span> <span class="k">from</span> <span class="n">doc</span><span class="mf">.</span><span class="n">locations</span> <span class="k">as</span> <span class="n">l</span>
<span class="mf">...</span> <span class="k">where</span> <span class="n">l</span><span class="mf">.</span><span class="k">name</span> <span class="o">=</span> <span class="s1">&#39;Outer Eastern Rim&#39;</span><span class="p">;</span>
<span class="go">+-------------------+</span>
<span class="go">| name              |</span>
<span class="go">+-------------------+</span>
<span class="go">| Outer Eastern Rim |</span>
<span class="go">+-------------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
</div>
<div class="section" id="joins">
<span id="sql-dql-joins"></span><h2><a class="toc-backref" href="#id3">Joins</a><a class="headerlink" href="#joins" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>CrateDB currently supports only a limited set of JOINs.</p>
<p class="last">See the <a class="reference internal" href="joins.html#sql-joins"><span class="std std-ref">Joins</span></a> for current state.</p>
</div>
</div>
<div class="section" id="distinct-clause">
<span id="sql-dql-distinct-clause"></span><h2><a class="toc-backref" href="#id4"><code class="docutils literal"><span class="pre">DISTINCT</span></code> Clause</a><a class="headerlink" href="#distinct-clause" title="Permalink to this headline">¶</a></h2>
<p>If DISTINCT is specified, one unique row is kept. All other duplicate rows are
removed from the result set:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">distinct</span> <span class="nb">date</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">order</span> <span class="k">by</span> <span class="nb">date</span><span class="p">;</span>
<span class="go">+---------------+</span>
<span class="go">| date          |</span>
<span class="go">+---------------+</span>
<span class="go">| 308534400000  |</span>
<span class="go">| 1367366400000 |</span>
<span class="go">| 1373932800000 |</span>
<span class="go">+---------------+</span>
<span class="go">SELECT 3 rows in set (... sec)</span>
</pre></div>
</div>
</div>
<div class="section" id="where-clause">
<span id="sql-dql-where-clause"></span><h2><a class="toc-backref" href="#id5"><code class="docutils literal"><span class="pre">WHERE</span></code> Clause</a><a class="headerlink" href="#where-clause" title="Permalink to this headline">¶</a></h2>
<p>A simple where clause example using an equality operator:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">description</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="n">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span><span class="p">;</span>
<span class="go">+---------------------------------------...--------------------------------------+</span>
<span class="go">| description                                                                    |</span>
<span class="go">+---------------------------------------...--------------------------------------+</span>
<span class="go">| Relative to life on NowWhat, living on... a factor of about seventeen million. |</span>
<span class="go">+---------------------------------------...--------------------------------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="section" id="comparison-operators">
<h3><a class="toc-backref" href="#id6">Comparison Operators</a><a class="headerlink" href="#comparison-operators" title="Permalink to this headline">¶</a></h3>
<p>These <a class="reference internal" href="../builtins/operators.html#sql-operators"><span class="std std-ref">Comparison Operators</span></a> are supported and can be used for all simple data
types.</p>
<p>For strings a lexicographical comparison is performed based on the Lucene
TermRangeQuery:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="k">name</span> <span class="o">&gt;</span> <span class="s1">&#39;Argabuthon&#39;</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span><span class="p">;</span>
<span class="go">+------------------------------------+</span>
<span class="go">| name                               |</span>
<span class="go">+------------------------------------+</span>
<span class="go">| Arkintoofle Minor                  |</span>
<span class="go">| Bartledan                          |</span>
<span class="go">| Galactic Sector QQ7 Active J Gamma |</span>
<span class="go">| North West Ripple                  |</span>
<span class="go">| Outer Eastern Rim                  |</span>
<span class="go">+------------------------------------+</span>
<span class="go">SELECT 5 rows in set (... sec)</span>
</pre></div>
</div>
<p>For details please refer to the <a class="reference external" href="http://lucene.apache.org/core/4_0_0/core/org/apache/lucene/search/Query.html">Apache Lucene</a> site.</p>
<p>Number and date field comparison behave as expected from standard SQL.</p>
<p>The following example uses one of the supported ISO date formats:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="nb">date</span><span class="p">,</span> <span class="k">position</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="nb">date</span> <span class="o">&lt;=</span> <span class="s1">&#39;1979-10-12&#39;</span> <span class="k">and</span>
<span class="mf">...</span> <span class="k">position</span> <span class="o">&lt;</span> <span class="mf">3</span> <span class="k">order</span> <span class="k">by</span> <span class="k">position</span><span class="p">;</span>
<span class="go">+--------------+----------+</span>
<span class="go">| date         | position |</span>
<span class="go">+--------------+----------+</span>
<span class="go">| 308534400000 | 1        |</span>
<span class="go">| 308534400000 | 2        |</span>
<span class="go">+--------------+----------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<p>For a detailed explanation of the supported ISO date formats please refer to
the <a class="reference external" href="http://joda-time.sourceforge.net/api-release/org/joda/time/format/ISODateTimeFormat.html#dateOptionalTimeParser%28%29">joda date_optional_time</a> site.</p>
<p>For custom date types, or defined date formats in the object mapping the
corresponding format should be used for a comparison. Otherwise the operation
may fail.</p>
</div>
</div>
<div class="section" id="regular-expressions">
<span id="sql-ddl-regexp"></span><h2><a class="toc-backref" href="#id7">Regular Expressions</a><a class="headerlink" href="#regular-expressions" title="Permalink to this headline">¶</a></h2>
<p>Operators for matching using regular expressions.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="13%" />
<col width="50%" />
<col width="38%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">~</span></code></td>
<td>Matches regular expression, case sensitive</td>
<td><div class="first last highlight-psql"><div class="highlight"><pre><span></span><span class="s1">&#39;foo&#39;</span> <span class="o">~</span> <span class="s1">&#39;.*foo.*&#39;</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">~*</span></code></td>
<td>Matches regular expression, case insensitive</td>
<td><div class="first last highlight-psql"><div class="highlight"><pre><span></span><span class="s1">&#39;Foo&#39;</span> <span class="o">~*</span> <span class="s1">&#39;.*foo.*&#39;</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">!~</span></code></td>
<td>Does not match regular expression, case sensitive</td>
<td><div class="first last highlight-psql"><div class="highlight"><pre><span></span><span class="s1">&#39;Foo&#39;</span> <span class="o">!~</span> <span class="s1">&#39;.*foo.*&#39;</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">!~*</span></code></td>
<td>Does not match regular expression, case insensitive</td>
<td><div class="first last highlight-psql"><div class="highlight"><pre><span></span><span class="s1">&#39;foo&#39;</span> <span class="o">!~*</span> <span class="s1">&#39;.*bar.*&#39;</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">~</span></code> operator can be used to match a string against a regular expression.
It returns <code class="docutils literal"><span class="pre">true</span></code> if the string matches the pattern, <code class="docutils literal"><span class="pre">false</span></code> if not, and
<code class="docutils literal"><span class="pre">NULL</span></code> if string is <code class="docutils literal"><span class="pre">NULL</span></code>.</p>
<p>To negate the matching, use the optional <code class="docutils literal"><span class="pre">!</span></code> prefix. The operator returns
<code class="docutils literal"><span class="pre">true</span></code> if the string does not match the pattern, <code class="docutils literal"><span class="pre">false</span></code> otherwise.</p>
<p>The regular expression pattern is implicitly anchored, that means that the
whole string must match, not a single subsequence. All unicode characters are
allowed.</p>
<p>If using <a class="reference external" href="https://en.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions">PCRE</a> features in the regular expression pattern, the operator uses
the regular expression engine of the Java standard library <code class="docutils literal"><span class="pre">java.util.regex</span></code>.</p>
<p>If not using <a class="reference external" href="https://en.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions">PCRE</a> features in the regular expression pattern, the operator
uses <a class="reference external" href="http://lucene.apache.org/core/4_9_0/core/org/apache/lucene/util/automaton/RegExp.html">Lucene Regular Expressions</a>, which are optimized for fast regular
expression matching on Lucene terms.</p>
<p><a class="reference external" href="http://lucene.apache.org/core/4_9_0/core/org/apache/lucene/util/automaton/RegExp.html">Lucene Regular Expressions</a> are basically <a class="reference external" href="http://en.wikipedia.org/wiki/Regular_expression#POSIX_extended">POSIX Extended Regular
Expressions</a> without the character classes and with some extensions, like a
metacharacter <code class="docutils literal"><span class="pre">#</span></code>  for the empty string or <code class="docutils literal"><span class="pre">~</span></code> for negation and others. By
default all Lucene extensions are enabled. See the Lucene documentation for
more details.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since case-insensitive matching using <code class="docutils literal"><span class="pre">~*</span></code> or <code class="docutils literal"><span class="pre">!~*</span></code> implicitly uses the
regular expression engine of the Java standard library, features of <a class="reference external" href="http://lucene.apache.org/core/4_9_0/core/org/apache/lucene/util/automaton/RegExp.html">Lucene
Regular Expressions</a> do not work there.</p>
</div>
<p>Examples:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="k">name</span> <span class="o">~</span> <span class="s1">&#39;([A-Z][a-z0-9]+)+&#39;</span>
<span class="mf">...</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span><span class="p">;</span>
<span class="go">+------------+</span>
<span class="go">| name       |</span>
<span class="go">+------------+</span>
<span class="go">| Aldebaran  |</span>
<span class="go">| Algol      |</span>
<span class="go">| Altair     |</span>
<span class="go">| Argabuthon |</span>
<span class="go">| Bartledan  |</span>
<span class="go">+------------+</span>
<span class="go">SELECT 5 rows in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="s1">&#39;matches&#39;</span> <span class="k">from</span> <span class="n">sys</span><span class="mf">.</span><span class="k">cluster</span> <span class="k">where</span>
<span class="mf">...</span> <span class="s1">&#39;gcc --std=c99 -Wall source.c&#39;</span> <span class="o">~</span> <span class="s1">&#39;[A-Za-z0-9]+( (-|--)[A-Za-z0-9]+)*( [^ ]+)*&#39;</span><span class="p">;</span>
<span class="go">+-----------+</span>
<span class="go">| &#39;matches&#39; |</span>
<span class="go">+-----------+</span>
<span class="go">| matches   |</span>
<span class="go">+-----------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="s1">&#39;no_match&#39;</span> <span class="k">from</span> <span class="n">sys</span><span class="mf">.</span><span class="k">cluster</span> <span class="k">where</span> <span class="s1">&#39;foobaz&#39;</span> <span class="o">!~</span> <span class="s1">&#39;(foo)?(bar)$&#39;</span><span class="p">;</span>
<span class="go">+------------+</span>
<span class="go">| &#39;no_match&#39; |</span>
<span class="go">+------------+</span>
<span class="go">| no_match   |</span>
<span class="go">+------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
</div>
<div class="section" id="like">
<span id="sql-dql-like"></span><h2><a class="toc-backref" href="#id8"><code class="docutils literal"><span class="pre">LIKE</span></code></a><a class="headerlink" href="#like" title="Permalink to this headline">¶</a></h2>
<p>CrateDB supports the <cite>LIKE</cite> operator. This operator can be used to query for
rows where only part of a columns value should match something. For example to
get all locations where the name starts with &#8216;Ar&#8217; the following query can be
used:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="k">name</span> <span class="k">like</span> <span class="s1">&#39;Ar%&#39;</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span> <span class="k">asc</span><span class="p">;</span>
<span class="go">+-------------------+</span>
<span class="go">| name              |</span>
<span class="go">+-------------------+</span>
<span class="go">| Argabuthon        |</span>
<span class="go">| Arkintoofle Minor |</span>
<span class="go">+-------------------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<p>The following wildcard operators are available:</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="95%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>%</td>
<td>A substitute for zero or more characters</td>
</tr>
<tr class="row-even"><td>_</td>
<td>A substitute for a single character</td>
</tr>
</tbody>
</table>
<p>The wildcard operators may be used at any point in the string literal. For
example a more complicated like clause could look like this:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="k">name</span> <span class="k">like</span> <span class="s1">&#39;_r%a%&#39;</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span> <span class="k">asc</span><span class="p">;</span>
<span class="go">+------------+</span>
<span class="go">| name       |</span>
<span class="go">+------------+</span>
<span class="go">| Argabuthon |</span>
<span class="go">+------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<p>In order so search for the wildcard characters themselves it is possible to
escape them using a backslash:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">description</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="n">description</span> <span class="k">like</span> <span class="s1">&#39;%\%&#39;</span> <span class="k">order</span> <span class="k">by</span> <span class="n">description</span> <span class="k">asc</span><span class="p">;</span>
<span class="go">+-------------------------+</span>
<span class="go">| description             |</span>
<span class="go">+-------------------------+</span>
<span class="go">| The end of the Galaxy.% |</span>
<span class="go">+-------------------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Queries with a like clause can be quite slow. Especially if the like clause
starts with a wildcard character. Because in that case CrateDB has to
iterate over all rows and can&#8217;t utilize the index. For better performance
consider using a fulltext index.</p>
</div>
</div>
<div class="section" id="not">
<span id="sql-dql-not"></span><h2><a class="toc-backref" href="#id9"><code class="docutils literal"><span class="pre">NOT</span></code></a><a class="headerlink" href="#not" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">NOT</span></code> negates a boolean expression:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="k">NOT</span> <span class="p">]</span> <span class="n">boolean_expression</span>
</pre></div>
</div>
<p>The result type is boolean.</p>
<table border="1" class="docutils">
<colgroup>
<col width="63%" />
<col width="38%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">expression</th>
<th class="head">result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>true</td>
<td>false</td>
</tr>
<tr class="row-odd"><td>false</td>
<td>true</td>
</tr>
<tr class="row-even"><td>null</td>
<td>null</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">CrateDB handles the case of <cite>NOT (NULL)</cite> inconsistently. The above is only
true when the <cite>NOT</cite> appears in a <cite>SELECT</cite> clause or a <cite>WHERE</cite> clause that
operates on system tables. The result of <cite>NOT (NULL)</cite> in a <cite>WHERE</cite> clause
that operates on user tables will produce inconsistent but deterministic
results (<cite>NULL</cite> or <cite>TRUE</cite>) depending on the specifics of the clause. This
does not adhere to standard SQL three-valued-logic and will be fixed in a
future release.</p>
</div>
</div>
<div class="section" id="in">
<span id="sql-dql-in"></span><h2><a class="toc-backref" href="#id10"><code class="docutils literal"><span class="pre">IN</span></code></a><a class="headerlink" href="#in" title="Permalink to this headline">¶</a></h2>
<p>CrateDB also supports the binary operator <code class="docutils literal"><span class="pre">IN</span></code>, which allows you to verify
the membership of left-hand operand in a right-hand set of expressions. Returns
<code class="docutils literal"><span class="pre">true</span></code> if any evaluated expression value from a right-hand set equals
left-hand operand. Returns <code class="docutils literal"><span class="pre">false</span></code> otherwise:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span><span class="p">,</span> <span class="n">kind</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="p">(</span><span class="n">kind</span> <span class="k">in</span> <span class="p">(</span><span class="s1">&#39;Star System&#39;</span><span class="p">,</span> <span class="s1">&#39;Planet&#39;</span><span class="p">))</span>  <span class="k">order</span> <span class="k">by</span> <span class="k">name</span> <span class="k">asc</span><span class="p">;</span>
<span class="go"> +---------------------+-------------+</span>
<span class="go"> | name                | kind        |</span>
<span class="go"> +---------------------+-------------+</span>
<span class="go"> |                     | Planet      |</span>
<span class="go"> | Aldebaran           | Star System |</span>
<span class="go"> | Algol               | Star System |</span>
<span class="go"> | Allosimanius Syneca | Planet      |</span>
<span class="go"> | Alpha Centauri      | Star System |</span>
<span class="go"> | Altair              | Star System |</span>
<span class="go"> | Argabuthon          | Planet      |</span>
<span class="go"> | Arkintoofle Minor   | Planet      |</span>
<span class="go"> | Bartledan           | Planet      |</span>
<span class="go"> +---------------------+-------------+</span>
<span class="go"> SELECT 9 rows in set (... sec)</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">IN</span></code> construct can be used in <a class="reference internal" href="../builtins/subquery-expressions.html#sql-subquery-expressions"><span class="std std-ref">Subquery Expressions</span></a> or
<a class="reference internal" href="../builtins/array-comparisons.html#sql-array-comparisons"><span class="std std-ref">Array Comparisons</span></a>.</p>
</div>
<div class="section" id="is-null">
<span id="sql-dql-is-null"></span><h2><a class="toc-backref" href="#id11"><code class="docutils literal"><span class="pre">IS</span> <span class="pre">NULL</span></code></a><a class="headerlink" href="#is-null" title="Permalink to this headline">¶</a></h2>
<p>Returns <code class="docutils literal"><span class="pre">TRUE</span></code> if <code class="docutils literal"><span class="pre">expr</span></code> evaluates to <code class="docutils literal"><span class="pre">NULL</span></code>. Given a column reference it
returns <code class="docutils literal"><span class="pre">TRUE</span></code> if the field contains <code class="docutils literal"><span class="pre">NULL</span></code> or is missing.</p>
<p>Use this predicate to check for <code class="docutils literal"><span class="pre">NULL</span></code> values as SQL&#8217;s three-valued logic
does always return <code class="docutils literal"><span class="pre">NULL</span></code> when comparing <code class="docutils literal"><span class="pre">NULL</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">expr:</th><td class="field-body">expression of one of the supported <a class="reference internal" href="../ddl/data-types.html#data-types"><span class="std std-ref">Data Types</span></a> supported by
CrateDB.</td>
</tr>
</tbody>
</table>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="n">race</span> <span class="k">is</span> <span class="k">null</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span><span class="p">;</span>
<span class="go">+------------------------------------+</span>
<span class="go">| name                               |</span>
<span class="go">+------------------------------------+</span>
<span class="go">|                                    |</span>
<span class="go">| Aldebaran                          |</span>
<span class="go">| Algol                              |</span>
<span class="go">| Allosimanius Syneca                |</span>
<span class="go">| Alpha Centauri                     |</span>
<span class="go">| Altair                             |</span>
<span class="go">| Argabuthon                         |</span>
<span class="go">| Galactic Sector QQ7 Active J Gamma |</span>
<span class="go">| North West Ripple                  |</span>
<span class="go">| Outer Eastern Rim                  |</span>
<span class="go">| NULL                               |</span>
<span class="go">+------------------------------------+</span>
<span class="go">SELECT 11 rows in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="k">name</span> <span class="k">is</span> <span class="k">null</span><span class="p">;</span>
<span class="go">+----------+</span>
<span class="go">| count(*) |</span>
<span class="go">+----------+</span>
<span class="go">|        1 |</span>
<span class="go">+----------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
</div>
<div class="section" id="is-not-null">
<span id="sql-dql-is-not-null"></span><h2><a class="toc-backref" href="#id12"><code class="docutils literal"><span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code></a><a class="headerlink" href="#is-not-null" title="Permalink to this headline">¶</a></h2>
<p>Returns <code class="docutils literal"><span class="pre">TRUE</span></code> if <code class="docutils literal"><span class="pre">expr</span></code> does not evaluate to <code class="docutils literal"><span class="pre">NULL</span></code>. Additionally, for
column references it returns <code class="docutils literal"><span class="pre">FALSE</span></code> if the column does not exist.</p>
<p>Use this predicate to check for non-<code class="docutils literal"><span class="pre">NULL</span></code> values as SQL&#8217;s three-valued logic
does always return <code class="docutils literal"><span class="pre">NULL</span></code> when comparing <code class="docutils literal"><span class="pre">NULL</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">expr:</th><td class="field-body">expression of one of the supported <a class="reference internal" href="../ddl/data-types.html#data-types"><span class="std std-ref">Data Types</span></a> supported by
CrateDB.</td>
</tr>
</tbody>
</table>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]</span> <span class="k">is</span> <span class="k">not</span> <span class="k">null</span><span class="p">;</span>
<span class="go">+-------------------+</span>
<span class="go">| name              |</span>
<span class="go">+-------------------+</span>
<span class="go">| Arkintoofle Minor |</span>
<span class="go">| Bartledan         |</span>
<span class="go">+-------------------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="k">name</span> <span class="k">is</span> <span class="k">not</span> <span class="k">null</span><span class="p">;</span>
<span class="go">+----------+</span>
<span class="go">| count(*) |</span>
<span class="go">+----------+</span>
<span class="go">|       12 |</span>
<span class="go">+----------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
</div>
<div class="section" id="any-array">
<span id="sql-dql-any-array"></span><h2><a class="toc-backref" href="#id13"><code class="docutils literal"><span class="pre">ANY</span> <span class="pre">(array)</span></code></a><a class="headerlink" href="#any-array" title="Permalink to this headline">¶</a></h2>
<p>The ANY (or SOME) operator allows to search for elements within arrays. This
allows to query for rows where an element of an array is, for example, equal to
or greater than some <code class="docutils literal"><span class="pre">expression</span></code>.</p>
<p>The following example returns any row where the array <code class="docutils literal"><span class="pre">race['interests']</span></code>
contains an element &#8216;netball&#8217;:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="s1">&#39;netball&#39;</span> <span class="o">=</span> <span class="k">ANY</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]);</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">| race[&#39;name&#39;]   | race[&#39;interests&#39;]                       |</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">| Bartledannians | [&quot;netball&quot;, &quot;books with 100.000 words&quot;] |</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="s1">&#39;books%&#39;</span> <span class="k">LIKE</span> <span class="k">ANY</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]);</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">| race[&#39;name&#39;]   | race[&#39;interests&#39;]                       |</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">| Bartledannians | [&quot;netball&quot;, &quot;books with 100.000 words&quot;] |</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<p>It can also be used on arrays:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span><span class="p">,</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="k">name</span> <span class="o">=</span> <span class="k">ANY</span><span class="p">(</span><span class="k">ARRAY</span><span class="p">[</span><span class="s1">&#39;Bartledan&#39;</span><span class="p">,</span> <span class="s1">&#39;Algol&#39;</span><span class="p">])</span>
<span class="mf">...</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span> <span class="k">asc</span><span class="p">;</span>
<span class="go">+-----------+-----------------------------------------+</span>
<span class="go">| name      | race[&#39;interests&#39;]                       |</span>
<span class="go">+-----------+-----------------------------------------+</span>
<span class="go">| Algol     | NULL                                    |</span>
<span class="go">| Bartledan | [&quot;netball&quot;, &quot;books with 100.000 words&quot;] |</span>
<span class="go">+-----------+-----------------------------------------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<p>This way it can be used as a shortcut for <code class="docutils literal"><span class="pre">name</span> <span class="pre">=</span> <span class="pre">'Bartledan'</span> <span class="pre">OR</span> <span class="pre">name</span> <span class="pre">=</span>
<span class="pre">'Algol'</span></code> or any other ANY comparison.</p>
<p>The <code class="docutils literal"><span class="pre">ANY</span></code> construct can be used in <a class="reference internal" href="../builtins/subquery-expressions.html#sql-subquery-expressions"><span class="std std-ref">Subquery Expressions</span></a> or
<a class="reference internal" href="../builtins/array-comparisons.html#sql-array-comparisons"><span class="std std-ref">Array Comparisons</span></a>.</p>
<div class="section" id="negating-any">
<h3><a class="toc-backref" href="#id14">Negating <code class="docutils literal"><span class="pre">ANY</span></code></a><a class="headerlink" href="#negating-any" title="Permalink to this headline">¶</a></h3>
<p>One important thing to notice when using ANY is that negating the ANY operator
does not behave as negating normal comparison operators.</p>
<p>The following query can be translated to <em>get all rows where race[&#8216;interests&#8217;]
has at least one element that equals &#8216;netball&#8217;</em>:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="s1">&#39;netball&#39;</span> <span class="o">=</span> <span class="k">ANY</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]);</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">| race[&#39;name&#39;]   | race[&#39;interests&#39;]                       |</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">| Bartledannians | [&quot;netball&quot;, &quot;books with 100.000 words&quot;] |</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<p>The following query using the negated operator <code class="docutils literal"><span class="pre">!=</span></code> can be translated to <em>get
all rows where race[&#8216;interests&#8217;] has at least one element that does not equal
&#8216;netball&#8217;</em>. As you see, the result is the same in this case:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="s1">&#39;netball&#39;</span> <span class="o">!=</span> <span class="k">ANY</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]);</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">| race[&#39;name&#39;]   | race[&#39;interests&#39;]                       |</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">| Minories       | [&quot;baseball&quot;, &quot;short stories&quot;]           |</span>
<span class="go">| Bartledannians | [&quot;netball&quot;, &quot;books with 100.000 words&quot;] |</span>
<span class="go">+----------------+-----------------------------------------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using the negated operator <code class="docutils literal"><span class="pre">!=</span> <span class="pre">ANY</span></code> by default the maximum size of
the array to operate on is <code class="docutils literal"><span class="pre">8192</span></code>. To be able to use larger arrays the
<a class="reference internal" href="../../config/node.html#conf-indices-query-bool-max-clause-count"><span class="std std-ref">indices.query.bool.max_clause_count</span></a>
setting must be changed appropriately on each node.</p>
</div>
<p>Negating the <code class="docutils literal"><span class="pre">=</span></code> query from above is totally different. It can be translated
to <em>get all rows where race[&#8216;interests&#8217;] has no value that equals &#8216;netball&#8217;</em>:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">]</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="k">not</span> <span class="s1">&#39;netball&#39;</span> <span class="o">=</span> <span class="k">ANY</span><span class="p">(</span><span class="n">race</span><span class="p">[</span><span class="s1">&#39;interests&#39;</span><span class="p">])</span> <span class="k">order</span> <span class="k">by</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>
<span class="go">+--------------+-------------------------------+</span>
<span class="go">| race[&#39;name&#39;] | race[&#39;interests&#39;]             |</span>
<span class="go">+--------------+-------------------------------+</span>
<span class="go">| Minories     | [&quot;baseball&quot;, &quot;short stories&quot;] |</span>
<span class="go">+--------------+-------------------------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<p>The same behaviour (though different comparison operations involved) holds true
for operators</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">LIKE</span></code> and <code class="docutils literal"><span class="pre">NOT</span> <span class="pre">LIKE</span></code></li>
<li>all other comparison operators (excluding <code class="docutils literal"><span class="pre">IS</span> <span class="pre">NULL</span></code> and <code class="docutils literal"><span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code>)</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using the operators <code class="docutils literal"><span class="pre">LIKE</span> <span class="pre">ANY</span></code> and <code class="docutils literal"><span class="pre">NOT</span> <span class="pre">LIKE</span> <span class="pre">ANY</span></code> by default the
maximum size of the array to operate on is <code class="docutils literal"><span class="pre">8192</span></code>. To be able to use
larger arrays the <a class="reference internal" href="../../config/node.html#conf-indices-query-bool-max-clause-count"><span class="std std-ref">indices.query.bool.max_clause_count</span></a>
setting must be changed appropriately on each node.</p>
</div>
</div>
</div>
<div class="section" id="limits">
<h2><a class="toc-backref" href="#id15">Limits</a><a class="headerlink" href="#limits" title="Permalink to this headline">¶</a></h2>
<p>As unlimited SELECT queries could break your cluster if the matching rows
exceed your node&#8217;s RAM, SELECT statements are limited by default to <strong>10000</strong>
rows.</p>
<p>You can expand this limit by using an explicit LIMIT-clause.</p>
<p>But you are encouraged to make use of a windowing using LIMIT and OFFSET to
iterate through all the results of a potentially large resultset instead of
expanding the default limit.</p>
<p>When using the PostgreSQL wire protocol, there is no implicit <strong>10000</strong> row
limit on SELECT statements.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The sum of <code class="docutils literal"><span class="pre">LIMIT</span></code> and <code class="docutils literal"><span class="pre">OFFSET</span></code> may not exceed 2147483630
(which is Lucene&#8217;s <code class="docutils literal"><span class="pre">MAX_ARRAY_LENGTH</span></code>).</p>
</div>
</div>
<div class="section" id="inner-objects-and-nested-objects">
<span id="sql-dql-objects"></span><h2><a class="toc-backref" href="#id16">Inner Objects and Nested Objects</a><a class="headerlink" href="#inner-objects-and-nested-objects" title="Permalink to this headline">¶</a></h2>
<p>CrateDB supports an <code class="docutils literal"><span class="pre">object</span></code> data type, used for simple storing a whole
object into a column and it&#8217;s even possible to select and query for properties
of such objects.</p>
<p>Select a property of an inner object:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span><span class="p">,</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="k">name</span> <span class="o">=</span> <span class="s1">&#39;Bartledan&#39;</span><span class="p">;</span>
<span class="go">+-----------+----------------+</span>
<span class="go">| name      | race[&#39;name&#39;]   |</span>
<span class="go">+-----------+----------------+</span>
<span class="go">| Bartledan | Bartledannians |</span>
<span class="go">+-----------+----------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<p>Query for a property of an inner object:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span><span class="p">,</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="n">race</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Bartledannians&#39;</span><span class="p">;</span>
<span class="go">+-----------+----------------+</span>
<span class="go">| name      | race[&#39;name&#39;]   |</span>
<span class="go">+-----------+----------------+</span>
<span class="go">| Bartledan | Bartledannians |</span>
<span class="go">+-----------+----------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<p>Inserting objects:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">locations</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="k">name</span><span class="p">,</span> <span class="k">position</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">race</span><span class="p">)</span>
<span class="mf">...</span> <span class="k">values</span> <span class="p">(</span><span class="s1">&#39;DO&#39;</span><span class="p">,</span> <span class="s1">&#39;Dornbirn&#39;</span><span class="p">,</span> <span class="mf">14</span><span class="p">,</span> <span class="s1">&#39;City&#39;</span><span class="p">,</span> <span class="p">{</span><span class="k">name</span><span class="o">=</span><span class="s1">&#39;Vorarlberger&#39;</span><span class="p">,</span>
<span class="mf">...</span>     <span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Very nice people with a strange accent&#39;</span><span class="p">,</span>
<span class="mf">...</span>     <span class="n">interests</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mountains&#39;</span><span class="p">,</span> <span class="s1">&#39;cheese&#39;</span><span class="p">,</span> <span class="s1">&#39;enzian&#39;</span><span class="p">]}</span>
<span class="mf">...</span> <span class="p">);</span>
<span class="go">INSERT OK, 1 row affected (... sec)</span>
</pre></div>
</div>
</div>
<div class="section" id="object-arrays">
<span id="sql-dql-object-arrays"></span><h2><a class="toc-backref" href="#id17">Object Arrays</a><a class="headerlink" href="#object-arrays" title="Permalink to this headline">¶</a></h2>
<p>Arrays in CrateDB can only be queried for containment using the
<a class="reference internal" href="#sql-dql-any-array"><span class="std std-ref">ANY (array)</span></a> operator. One exception are object arrays. As you can
access fields of <a class="reference internal" href="#sql-dql-objects"><span class="std std-ref">Inner Objects and Nested Objects</span></a> using subscript expressions, you can
access fields of object arrays.</p>
<p>As an object array is no object, you won&#8217;t get the value for a single field,
but an array of all the values of that field for all objects in that object
array.</p>
<p>Examples:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span><span class="p">,</span> <span class="n">information</span><span class="p">[</span><span class="s1">&#39;population&#39;</span><span class="p">]</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="n">information</span><span class="p">[</span><span class="s1">&#39;population&#39;</span><span class="p">]</span> <span class="k">is</span> <span class="k">not</span> <span class="k">null</span>
<span class="mf">...</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span><span class="p">;</span>
<span class="go">+-------------------+---------------------------+</span>
<span class="go">| name              | information[&#39;population&#39;] |</span>
<span class="go">+-------------------+---------------------------+</span>
<span class="go">| North West Ripple | [12, 42]                  |</span>
<span class="go">| Outer Eastern Rim | [5673745846]              |</span>
<span class="go">+-------------------+---------------------------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">information</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="n">information</span><span class="p">[</span><span class="s1">&#39;population&#39;</span><span class="p">]</span> <span class="k">is</span> <span class="k">not</span> <span class="k">null</span>
<span class="mf">...</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span><span class="p">;</span>
<span class="go">+----------------------------------------------------...-----------------------+</span>
<span class="go">| information                                                                  |</span>
<span class="go">+----------------------------------------------------...-----------------------+</span>
<span class="go">| [{&quot;evolution_level&quot;: 4, &quot;population&quot;: 12}, {&quot;evolu...&quot;: 42, &quot;popul...&quot;: 42}] |</span>
<span class="go">| [{&quot;evolution_level&quot;: 2, &quot;population&quot;: 5673745846}]                           |</span>
<span class="go">+---------------------------------------------------...------------------------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">locations</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="k">name</span><span class="p">,</span> <span class="k">position</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">information</span><span class="p">)</span>
<span class="mf">...</span> <span class="k">values</span> <span class="p">(</span>
<span class="mf">...</span>   <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;Berlin&#39;</span><span class="p">,</span> <span class="mf">15</span><span class="p">,</span> <span class="s1">&#39;City&#39;</span><span class="p">,</span>
<span class="mf">...</span>   <span class="p">[{</span><span class="n">evolution_level</span><span class="o">=</span><span class="mf">6</span><span class="p">,</span> <span class="n">population</span><span class="o">=</span><span class="mf">3600001</span><span class="p">},</span>
<span class="mf">...</span>   <span class="p">{</span><span class="n">evolution_level</span><span class="o">=</span><span class="mf">42</span><span class="p">,</span> <span class="n">population</span><span class="o">=</span><span class="mf">1</span><span class="p">}]</span>
<span class="mf">...</span> <span class="p">);</span>
<span class="go">INSERT OK, 1 row affected (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">refresh</span> <span class="k">table</span> <span class="n">locations</span><span class="p">;</span>
<span class="go">REFRESH OK, 1 row affected (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="mf">4</span> <span class="o">&lt;</span> <span class="k">ANY</span> <span class="p">(</span><span class="n">information</span><span class="p">[</span><span class="s1">&#39;evolution_level&#39;</span><span class="p">])</span>
<span class="mf">...</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span><span class="p">;</span>
<span class="go">+-------------------+</span>
<span class="go">| name              |</span>
<span class="go">+-------------------+</span>
<span class="go">| Berlin            |</span>
<span class="go">| North West Ripple |</span>
<span class="go">+-------------------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<div class="section" id="selecting-array-elements">
<span id="sql-dql-object-arrays-select"></span><h3><a class="toc-backref" href="#id18">Selecting Array Elements</a><a class="headerlink" href="#selecting-array-elements" title="Permalink to this headline">¶</a></h3>
<p>Array elements can be selected directly using a integer value greater than or
equal to <strong>1</strong>. The maximum supported array index is <strong>2147483648</strong>. Using an
index greater than the actual array size results in a NULL value.</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span><span class="p">,</span> <span class="n">information</span><span class="p">[</span><span class="mf">1</span><span class="p">][</span><span class="s1">&#39;population&#39;</span><span class="p">]</span> <span class="k">as</span> <span class="n">population</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">where</span> <span class="n">information</span><span class="p">[</span><span class="s1">&#39;population&#39;</span><span class="p">]</span> <span class="k">is</span> <span class="k">not</span> <span class="k">null</span>
<span class="mf">...</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span><span class="p">;</span>
<span class="go">+-------------------+------------+</span>
<span class="go">| name              | population |</span>
<span class="go">+-------------------+------------+</span>
<span class="go">| Berlin            |    3600001 |</span>
<span class="go">| North West Ripple |         12 |</span>
<span class="go">| Outer Eastern Rim | 5673745846 |</span>
<span class="go">+-------------------+------------+</span>
<span class="go">SELECT 3 rows in set (... sec)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Only 1 array notation inside a subscript expression is supported,
e.g. following won&#8217;t work:</p>
<p class="last"><code class="docutils literal"><span class="pre">select</span> <span class="pre">information[1][tags][1]</span> <span class="pre">from</span> <span class="pre">locations;</span></code></p>
</div>
</div>
</div>
<div class="section" id="data-aggregation">
<span id="sql-dql-aggregation"></span><h2><a class="toc-backref" href="#id19">Data Aggregation</a><a class="headerlink" href="#data-aggregation" title="Permalink to this headline">¶</a></h2>
<p>CrateDB supports <a class="reference internal" href="../builtins/aggregation.html#aggregation"><span class="std std-ref">Aggregation</span></a> via the following aggregation functions.</p>
<p>Aggregation works across all the rows that match a query or on all matching
rows in every distinct group of a <code class="docutils literal"><span class="pre">GROUP</span> <span class="pre">BY</span></code> statement. Aggregating
<code class="docutils literal"><span class="pre">SELECT</span></code> statements without <code class="docutils literal"><span class="pre">GROUP</span> <span class="pre">BY</span></code> will always return one row.</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="16%" />
<col width="37%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Arguments</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ARBITRARY</td>
<td>column name of
a primitive
typed
column
(all but
object)</td>
<td>Returns an undefined value of
all the values in the argument
column. Can be NULL.</td>
<td>the input
column type or NULL
if some value of the
matching rows in that
column is NULL</td>
</tr>
<tr class="row-odd"><td>AVG / MEAN</td>
<td>column name of
a numeric or
timestamp
column</td>
<td>Returns the arithmetic mean of
the values in the argument
column.
NULL-values are ignored.</td>
<td>double or NULL
if all values of all
matching rows in that
column are NULL</td>
</tr>
<tr class="row-even"><td>COUNT(*)</td>
<td>star as
parameter or
as constant</td>
<td>Counts the number of rows
that match the query.</td>
<td>long</td>
</tr>
<tr class="row-odd"><td>COUNT</td>
<td>column name</td>
<td>Counts the number of rows
that contain a non NULL
value for the given column.</td>
<td>long</td>
</tr>
<tr class="row-even"><td>COUNT(DISTINCT col)</td>
<td>column name</td>
<td>Counts the number of distinct
values for the given column
that are not NULL.</td>
<td>long</td>
</tr>
<tr class="row-odd"><td>GEOMETRIC_MEAN</td>
<td>column name of
a numeric or
timestamp
column</td>
<td>Computes the geometric mean for
positive numbers.</td>
<td>double or NULL
if all values of all
matching rows in that
are NULL or if a value
is negative.</td>
</tr>
<tr class="row-even"><td>MIN</td>
<td>column name of
a numeric,
timestamp
or string
column</td>
<td>Returns the smallest of the
values in the argument column
in case of strings this
means the lexicographically
smallest. NULL-values are ignored</td>
<td>the input
column type or NULL
if all values in that
matching rows in that
column are NULL</td>
</tr>
<tr class="row-odd"><td>MAX</td>
<td>column name of
a numeric,
timestamp
or string
column</td>
<td>Returns the biggest of the
values in the argument column
in case of strings this
means the lexicographically
biggest. NULL-values are ignored</td>
<td>the input
column type or NULL
if all values of all
matching rows in that
column are NULL</td>
</tr>
<tr class="row-even"><td>STDDEV</td>
<td>column name of
a numeric or
timestamp
column</td>
<td>Returns the standard deviation
of the values in the argument
column.
NULL-values are ignored.</td>
<td>double or NULL
if all values are NULL
or we got no value at
all</td>
</tr>
<tr class="row-odd"><td>SUM</td>
<td>column name of
a numeric or
timestamp
column</td>
<td>Returns the sum of the values in
the argument column.
NULL-values are ignored.</td>
<td>double or NULL
if all values of all
matching rows in that
column are NULL</td>
</tr>
<tr class="row-even"><td>VARIANCE</td>
<td>column name of
a numeric or
timestamp
column</td>
<td>Returns the variance of the
values in the argument column.
NULL-values are ignored.</td>
<td>double or NULL
if all values are NULL
or we got no value at
all</td>
</tr>
</tbody>
</table>
<p>Some Examples:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">locations</span><span class="p">;</span>
<span class="go">+----------+</span>
<span class="go">| count(*) |</span>
<span class="go">+----------+</span>
<span class="go">| 15       |</span>
<span class="go">+----------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">locations</span> <span class="k">where</span> <span class="n">kind</span> <span class="o">=</span> <span class="s1">&#39;Planet&#39;</span><span class="p">;</span>
<span class="go">+----------+</span>
<span class="go">| count(*) |</span>
<span class="go">+----------+</span>
<span class="go">| 5        |</span>
<span class="go">+----------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="k">name</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">locations</span><span class="p">;</span>
<span class="go">+-------------+----------+</span>
<span class="go">| count(name) | count(*) |</span>
<span class="go">+-------------+----------+</span>
<span class="go">| 14          | 15       |</span>
<span class="go">+-------------+----------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">max</span><span class="p">(</span><span class="k">name</span><span class="p">)</span> <span class="k">from</span> <span class="n">locations</span><span class="p">;</span>
<span class="go">+-------------------+</span>
<span class="go">| max(name)         |</span>
<span class="go">+-------------------+</span>
<span class="go">| Outer Eastern Rim |</span>
<span class="go">+-------------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">min</span><span class="p">(</span><span class="nb">date</span><span class="p">)</span> <span class="k">from</span> <span class="n">locations</span><span class="p">;</span>
<span class="go">+--------------+</span>
<span class="go">| min(date)    |</span>
<span class="go">+--------------+</span>
<span class="go">| 308534400000 |</span>
<span class="go">+--------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">),</span> <span class="n">kind</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">group</span> <span class="k">by</span> <span class="n">kind</span> <span class="k">order</span> <span class="k">by</span> <span class="n">kind</span> <span class="k">asc</span><span class="p">;</span>
<span class="go">+----------+-------------+</span>
<span class="go">| count(*) | kind        |</span>
<span class="go">+----------+-------------+</span>
<span class="go">| 2        | City        |</span>
<span class="go">| 4        | Galaxy      |</span>
<span class="go">| 5        | Planet      |</span>
<span class="go">| 4        | Star System |</span>
<span class="go">+----------+-------------+</span>
<span class="go">SELECT 4 rows in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">max</span><span class="p">(</span><span class="k">position</span><span class="p">),</span> <span class="n">kind</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">group</span> <span class="k">by</span> <span class="n">kind</span> <span class="k">order</span> <span class="k">by</span> <span class="n">max</span><span class="p">(</span><span class="k">position</span><span class="p">)</span> <span class="k">desc</span><span class="p">;</span>
<span class="go">+---------------+-------------+</span>
<span class="go">| max(position) | kind        |</span>
<span class="go">+---------------+-------------+</span>
<span class="go">| 15            | City        |</span>
<span class="go">| 6             | Galaxy      |</span>
<span class="go">| 5             | Planet      |</span>
<span class="go">| 4             | Star System |</span>
<span class="go">+---------------+-------------+</span>
<span class="go">SELECT 4 rows in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">min</span><span class="p">(</span><span class="k">name</span><span class="p">),</span> <span class="n">kind</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">group</span> <span class="k">by</span> <span class="n">kind</span> <span class="k">order</span> <span class="k">by</span> <span class="n">min</span><span class="p">(</span><span class="k">name</span><span class="p">)</span> <span class="k">asc</span><span class="p">;</span>
<span class="go">+------------------------------------+-------------+</span>
<span class="go">| min(name)                          | kind        |</span>
<span class="go">+------------------------------------+-------------+</span>
<span class="go">|                                    | Planet      |</span>
<span class="go">| Aldebaran                          | Star System |</span>
<span class="go">| Berlin                             | City        |</span>
<span class="go">| Galactic Sector QQ7 Active J Gamma | Galaxy      |</span>
<span class="go">+------------------------------------+-------------+</span>
<span class="go">SELECT 4 rows in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">),</span> <span class="n">min</span><span class="p">(</span><span class="k">name</span><span class="p">),</span> <span class="n">kind</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">group</span> <span class="k">by</span> <span class="n">kind</span> <span class="k">order</span> <span class="k">by</span> <span class="n">kind</span><span class="p">;</span>
<span class="go">+----------+------------------------------------+-------------+</span>
<span class="go">| count(*) | min(name)                          | kind        |</span>
<span class="go">+----------+------------------------------------+-------------+</span>
<span class="go">| 2        | Berlin                             | City        |</span>
<span class="go">| 4        | Galactic Sector QQ7 Active J Gamma | Galaxy      |</span>
<span class="go">| 5        |                                    | Planet      |</span>
<span class="go">| 4        | Aldebaran                          | Star System |</span>
<span class="go">+----------+------------------------------------+-------------+</span>
<span class="go">SELECT 4 rows in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">sum</span><span class="p">(</span><span class="k">position</span><span class="p">)</span> <span class="k">as</span> <span class="n">sum_positions</span><span class="p">,</span> <span class="n">kind</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">group</span> <span class="k">by</span> <span class="n">kind</span> <span class="k">order</span> <span class="k">by</span> <span class="n">sum_positions</span><span class="p">;</span>
<span class="go">+---------------+-------------+</span>
<span class="go">| sum_positions | kind        |</span>
<span class="go">+---------------+-------------+</span>
<span class="go">|            10 | Star System |</span>
<span class="go">|            13 | Galaxy      |</span>
<span class="go">|            15 | Planet      |</span>
<span class="go">|            29 | City        |</span>
<span class="go">+---------------+-------------+</span>
<span class="go">SELECT 4 rows in set (... sec)</span>
</pre></div>
</div>
</div>
<div class="section" id="group-by">
<span id="sql-dql-group-by"></span><h2><a class="toc-backref" href="#id20"><code class="docutils literal"><span class="pre">GROUP</span> <span class="pre">BY</span></code></a><a class="headerlink" href="#group-by" title="Permalink to this headline">¶</a></h2>
<p>CrateDB supports the <cite>group by</cite> clause. This clause can be used to group the
resulting rows by the value(s) of one or more columns. That means that rows
that contain duplicate values will be merged together.</p>
<p>This is useful if used in conjunction with aggregation functions:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">),</span> <span class="n">kind</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">group</span> <span class="k">by</span> <span class="n">kind</span> <span class="k">order</span> <span class="k">by</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">desc</span><span class="p">,</span> <span class="n">kind</span> <span class="k">asc</span><span class="p">;</span>
<span class="go">+----------+-------------+</span>
<span class="go">| count(*) | kind        |</span>
<span class="go">+----------+-------------+</span>
<span class="go">| 5        | Planet      |</span>
<span class="go">| 4        | Galaxy      |</span>
<span class="go">| 4        | Star System |</span>
<span class="go">| 2        | City        |</span>
<span class="go">+----------+-------------+</span>
<span class="go">SELECT 4 rows in set (... sec)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All columns that are used either as result column or in the order by clause
have to be used within the group by clause. Otherwise the statement won&#8217;t
execute.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Grouping will be executed against the real table column when aliases that
shadow the table columns are used.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Grouping on multi-value fields doesn&#8217;t work. If such a field is encountered
during a group by operation an error is thrown.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Grouping can only be applied to columns with a plain index, which is the
default for all columns.</p>
<p class="last">For more information, please refer to <a class="reference internal" href="../ddl/fulltext-indices.html#sql-ddl-index-plain"><span class="std std-ref">Plain index (Default)</span></a>.</p>
</div>
<div class="section" id="having">
<span id="sql-dql-having"></span><h3><a class="toc-backref" href="#id21"><code class="docutils literal"><span class="pre">HAVING</span></code></a><a class="headerlink" href="#having" title="Permalink to this headline">¶</a></h3>
<p>The having clause is the equivalent to the where clause for the resulting rows
of a group by clause.</p>
<p>A simple having clause example using an equality operator:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">),</span> <span class="n">kind</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">group</span> <span class="k">by</span> <span class="n">kind</span> <span class="k">having</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">=</span> <span class="mf">4</span> <span class="k">order</span> <span class="k">by</span> <span class="n">kind</span><span class="p">;</span>
<span class="go">+----------+-------------+</span>
<span class="go">| count(*) | kind        |</span>
<span class="go">+----------+-------------+</span>
<span class="go">|        4 | Galaxy      |</span>
<span class="go">|        4 | Star System |</span>
<span class="go">+----------+-------------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<p>The condition of the having clause can refer to the resulting columns of the
group by clause.</p>
<p>It is also possible to use aggregates in the having clause just like in the
result columns:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">),</span> <span class="n">kind</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">group</span> <span class="k">by</span> <span class="n">kind</span> <span class="k">having</span> <span class="n">min</span><span class="p">(</span><span class="k">name</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;Berlin&#39;</span><span class="p">;</span>
<span class="go">+----------+------+</span>
<span class="go">| count(*) | kind |</span>
<span class="go">+----------+------+</span>
<span class="go">|        2 | City |</span>
<span class="go">+----------+------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">),</span> <span class="n">kind</span> <span class="k">from</span> <span class="n">locations</span>
<span class="mf">...</span> <span class="k">group</span> <span class="k">by</span> <span class="n">kind</span> <span class="k">having</span> <span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">=</span> <span class="mf">4</span> <span class="k">and</span> <span class="n">kind</span> <span class="k">like</span> <span class="s1">&#39;Gal%&#39;</span><span class="p">;</span>
<span class="go">+----------+--------+</span>
<span class="go">| count(*) | kind   |</span>
<span class="go">+----------+--------+</span>
<span class="go">|        4 | Galaxy |</span>
<span class="go">+----------+--------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Aliases are not supported in the having clause.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
    </div>
  </div><footer class="footer">
  <div class="w-container">
    <div class="w-clearfix">
      <div class="w-row mobileAlign">
        <div class="w-col w-col-3 footer-menu">
          <p class="menu-Label">Product</p>
          <ul class="vertical-menu">
            <li class="footer-listitem-new"><a href="https://crate.io/overview/">Overview</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/download/">Download</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/use-cases/">Use Cases</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/customers/">Customers</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/pricing/">Pricing</a></li>
          </ul>
        </div>
        <div class="w-col w-col-3 footer-menu">
          <p class="menu-Label">Resources</p>
          <ul class="vertical-menu">
            <li class="footer-listitem-new"><a href="https://crate.io/resources/">Resource Library</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/docs/">Documentation</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/docs/support/">Support</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/events/">Events</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/blog/">Blog</a></li>
          </ul>
        </div>
        <div class="w-col w-col-3 footer-menu">
          <p class="menu-Label">Company</p>
          <ul class="vertical-menu">
            <li class="footer-listitem-new "><a href="https://crate.io/about/">About</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/jobs/">Jobs</a></li>
            <li class="footer-listitem-new "><a href="https://crate.io/partners/">Partners</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/in-the-news/">In the News</a></li>
          </ul>
        </div>
        <div class="w-col w-col-3">
          <ul class="footer-list w-list-unstyled" style="margin-top: 0; padding-left: 0;">
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://www.facebook.com/crate.io" target="_blank" style="padding-left: 0;">
                <img src="../../_static/images/f-logo-facebook.png" width="12">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://twitter.com/Crateio" target="_blank">
                <img src="../../_static/images/f-logo-twitter.png" width="23">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://plus.google.com/105753392254543335997" target="_blank">
                <img src="../../_static/images/f-logo-google.png" width="23">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://www.linkedin.com/company/crateio" target="_blank">
                <img src="../../_static/images/f-logo-linkedin.png" width="22">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://www.youtube.com/channel/UCcp_IqjXaejmwBcwg51n1AA" target="_blank">
                <img src="../../_static/images/f-logo-youtube.png" width="24">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://github.com/crate">
                <img src="../../_static/images/f-logo-github.png" width="22">
              </a>
            </li>
            <div class="mobileHoriztonalMenu">
              <li class="footer-listitem-new"><a href="https://crate.io/contact/">Contact</a></li>
              <li class="footer-listitem-new"><a href="https://crate.io/legal/">Legal</a></li>
              <li class="footer-listitem-new"><a href="https://crate.io/legal/imprint/">Imprint</a></li>
            </div>
            <li class="footer-listitem link-list">
              <a class="footer-link-eu w-inline-block" href="/erdf/">
                <img class="logo-eu" sizes="100px" src="../../_static/images/logo-eu-optimized-1.jpg" width="101">
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="w-row">
        <a class="brand footer-brand w-inline-block" href="/">
          <img src="../../_static/images/logo-crate.png" width="217">
        </a>
      </div>
    </div>
  </div>
</footer>

  <script>
  var $navAffix = $('#nav-affix');
  var $contentEl = $('.wrapper-content-right');
  // Desktop only
  if( !$('#mobile-menu-toggler').is(':visible') ) {

    // Only if the content is taller than the sidebar,
    // to avoid scroll jerk
    if ( $contentEl.height() > $navAffix.height() ) {
      // Init
      $navAffix.affix({
        offset: {
          top: 100,
          bottom: function () {
            return (this.bottom = $('footer').outerHeight(true) + 200)
          }
        }
      });
      // Recalculate the sidebar
      $(window).resize(function() {
        $navAffix.affix('checkPosition');
      });
    }

    $('body').scrollspy();

  } else {

    $('.wrapper-navleft').hide();
    $('#mobile-menu-toggler').click(function() {
      $('.wrapper-navleft').toggle();
    });

  }

  $(document).ready(function() {
    window.setTimeout(function() {$('body').append('<a href="https://crate.io/docs/support/slackin/" style="z-index: 10; position: fixed; bottom: 20px; right: ' + ($('#intercom-launcher').is(':visible') ? '90' : '20') + 'px; box-shadow: 0 6px 13px 0 rgba(0, 0, 0, .23)"><img src="../../_static/images/slack.png" id="slack-container" /></a>'); }, 2000);
  });
  </script>

  <!-- Segment -->
  <script>
    !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","setAnonymousId"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
      analytics.load("FToR4cE5lXyQziQirvt0kSnFQj0rAgu9");
      analytics.setAnonymousId($.cookie('uid'));
      analytics.page();
      analytics.track('visited_section_docs', {
        project: 'crate',
        version: ''
      });
    }}();
  </script>
  </body>
</html>