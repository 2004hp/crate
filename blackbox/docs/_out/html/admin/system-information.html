<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>System Information &mdash; CrateDB  documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/normalize.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/bootstrap.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/mmenu.all.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/components.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/crateio.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/crateio-rtd.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/custom.css?ver=1.1" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!--[if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->
    <script type="text/javascript" src="https://cdn.crate.io/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script type="text/javascript" src="../_static/js/modernizr.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/underscore.min.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/doctools.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/searchtools.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/webflow.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/bootstrap.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/mmenu.all.min.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/fontawesome.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/custom.js?ver=1.1"></script>
    <link rel="top" title="CrateDB  documentation" href="../index.html" />
    <link rel="up" title="Administration" href="index.html" />
    <link rel="next" title="Runtime Configuration" href="runtime-config.html" />
    <link rel="prev" title="Administration" href="index.html" />
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
  <meta name="apple-mobile-web-app-capable" content="yes">
  
  </head>
  <body>
  <header class="header-nav">
  <div class="container">
    <div class="navbar w-nav" data-animation="default" data-collapse="small" data-contain="1" data-duration="400">
      <a class="brand w-nav-brand" href="https://crate.io">
        <img src="../_static/images/logo-crate.png" width="217">
      </a>
      <nav class="w-nav-menu main-nav" role="navigation">
        <div class="dropdownBackground">
          <span class="arrow"></span>
        </div>
        <ul id="menu-top-navigation" class="menu">
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/overview/">CrateDB</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a href="https://crate.io/cratedb-solutions/">Use Cases</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/customers/">Customers</a></li>
              <li class="menu-item"><a href="https://crate.io/iot-sensor-solutions/">IoT &amp; Sensor Data</a></li>
              <li class="menu-item"><a href="https://crate.io/geospatial-analytics/">Geospatial Analytics</a></li>
              <li class="menu-item"><a href="https://crate.io/cyber-security/">Cyber Security</a></li>
              <li class="menu-item"><a href="https://crate.io/time-series/">Time Series</a></li>
            </ul>
          </li>
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/pricing/">Pricing</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a>Resources</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/docs/">Documentation</a></li>
              <li class="menu-item"><a href="https://crate.io/resources/">Resource Library</a></li>
              <li class="menu-item"><a href="https://crate.io/blog/">Blog</a></li>
              <li class="menu-item"><a href="https://crate.io/community/">Community</a></li>
            </ul>
          </li>
          <li class="btn-link w-nav-link menu-item"><a href="https://crate.io/download/">Download</a></li>
        </ul>
      </nav>

      <div id="mobile-nav" class="mm-menu">
        <ul class="offcanvas-menu">
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/overview/">CrateDB</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a href="https://crate.io/cratedb-solutions/">Use Cases</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/customers/">Customers</a></li>
              <li class="menu-item"><a href="https://crate.io/iot-sensor-solutions/">IoT &amp; Sensor Data</a></li>
              <li class="menu-item"><a href="https://crate.io/geospatial-analytics/">Geospatial Analytics</a></li>
              <li class="menu-item"><a href="https://crate.io/cyber-security/">Cyber Security</a></li>
              <li class="menu-item"><a href="https://crate.io/time-series/">Time Series</a></li>
            </ul>
          </li>
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/pricing/">Pricing</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a>Resources</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/docs/">Documentation</a></li>
              <li class="menu-item"><a href="https://crate.io/resources/">Resource Library</a></li>
              <li class="menu-item"><a href="https://crate.io/blog/">Blog</a></li>
              <li class="menu-item"><a href="https://crate.io/community/">Community</a></li>
            </ul>
          </li>
          <li class="btn-link w-nav-link menu-item"><a href="https://crate.io/download/">Download</a></li>
        </ul>
      </div>

      <a href="#mobile-nav" class="fa fa-bars mobile-nav-button"></a>
    </div>
  </div>
</header>

  <div class="w-section section border-top">
    <div class="w-container w-hidden-main margin-bottom-32">
      <div class="section" style="margin: 0px">
        <a href="#" id="mobile-menu-toggler" class="w-button">Toggle Doc Menu</a>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-4 col-lg-3">
          <aside class="wrapper-navleft"><div role="complementary" class="bs-docs-sidebar hidden-print" id="nav-affix">
  <div class="search-link">
    <a href="../search.html" class="btn btn-primary">Search Documentation</a>
  </div>
  <ul class="bs-docs-sidenav bs-sidenav nav" role="complementary">

    

    
      <ul class="toctree nav nav-list">
  <li class="navleft-item">CrateDB</li>
  <ul>
    
    <li class="navleft-item"><a href="/docs/crate/getting-started/">Getting Started</a></li>
    
    
    <li class="current">
      <a class="current-active" href="../index.html" title="CrateDB">Reference</a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../run.html">Running CrateDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../run.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../run.html#command-line-options">Command Line Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../run.html#signal-handling">Signal Handling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../config/node.html">Node Specific Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#basics">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#node-types">Node Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#read-only-node">Read-only node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#hosts">Hosts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#ports">Ports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#paths">Paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#plugins">Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#memory">Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#garbage-collection">Garbage Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#elasticsearch-http-rest-api">Elasticsearch HTTP REST API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#cross-origin-resource-sharing-cors">Cross-Origin Resource Sharing (CORS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#blobs">Blobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#repositories">Repositories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#queries">Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#custom-attributes">Custom Attributes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../config/cluster.html">Cluster Wide Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#non-runtime-cluster-wide-settings">Non-Runtime Cluster Wide Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#collecting-stats">Collecting Stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#usage-data-collector">Usage Data Collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#graceful-stop">Graceful Stop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#bulk-operations">Bulk Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#discovery">Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#routing-allocation">Routing Allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#recovery">Recovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#store-level-throttling">Store Level Throttling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#query-circuit-breaker">Query Circuit Breaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#field-data-circuit-breaker">Field Data Circuit Breaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#request-circuit-breaker">Request Circuit Breaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#thread-pools">Thread Pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#metadata">Metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../config/session.html">Session Setting Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config/logging.html">Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/logging.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/logging.html#settings">Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../config/environment.html">Environment Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/environment.html#crate-home"><code class="docutils literal"><span class="pre">CRATE_HOME</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/environment.html#crate-java-opts"><code class="docutils literal"><span class="pre">CRATE_JAVA_OPTS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/environment.html#crate-heap-size"><code class="docutils literal"><span class="pre">CRATE_HEAP_SIZE</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../config/system.html">Operating System Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/system.html#virtual-memory">Virtual Memory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../config/enterprise.html">Enterprise Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/enterprise.html#enterprise-license">Enterprise License</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/enterprise.html#javascript-language">Javascript Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/enterprise.html#authentication">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/enterprise.html#secured-communications-ssl-tls">Secured Communications (SSL/TLS)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/ddl/index.html">Data Definition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/create-table.html">Creating Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/data-types.html">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/system-columns.html">System Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/generated-columns.html">Generated Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/constraints.html">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/storage.html">Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/partitioned-tables.html">Partitioned Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/sharding.html">Sharding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/replication.html">Replication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/column-policy.html">Column Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/fulltext-indices.html">Fulltext Indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/analyzers.html">Fulltext Analyzers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/show-create-table.html">Show Create Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/alter-table.html">Altering Tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/dml.html">Data Manipulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/dml.html#inserting-data">Inserting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dml.html#updating-data">Updating Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dml.html#deleting-data">Deleting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dml.html#import-and-export">Import and Export</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/dql/index.html">Querying Crate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/selects.html">Selecting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/joins.html">Joins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/union.html">Union All</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/refresh.html">Refresh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/fulltext.html">Fulltext Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/geo.html">Geo Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/builtins/index.html">Built-in Functions and Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/scalar.html">Scalar Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/aggregation.html">Aggregation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/arithmetic.html">Arithmetic Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/table-functions.html">Table Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/operators.html">Comparison Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/array-comparisons.html">Array Comparisons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/subquery-expressions.html">Subquery Expressions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/user-defined-functions.html">User-Defined Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#create-or-replace"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">OR</span> <span class="pre">REPLACE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#supported-types">Supported Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#overloading">Overloading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#determinism">Determinism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#drop-function"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#supported-languages">Supported Languages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/blobs.html">Blobs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#creating-a-table-for-blobs">Creating a Table for Blobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#custom-location-for-storing-blob-data">Custom Location for Storing Blob Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#list">List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#altering-a-blob-table">Altering a Blob Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#deleting-a-blob-table">Deleting a Blob Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#using-blob-tables">Using Blob Tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/occ.html">Optimistic Concurrency Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/occ.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/occ.html#optimistic-update">Optimistic Update</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/occ.html#optimistic-delete">Optimistic Delete</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/occ.html#known-limitations">Known Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/information-schema.html">Information Schema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/information-schema.html#access">Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/information-schema.html#virtual-tables">Virtual Tables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Administration</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">System Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cluster">Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nodes">Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-checks">Node Checks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shards">Shards</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jobs-operations-and-logs">Jobs, Operations, and Logs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cluster-checks">Cluster Checks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#repositories">Repositories</a></li>
<li class="toctree-l3"><a class="reference internal" href="#snapshots">Snapshots</a></li>
<li class="toctree-l3"><a class="reference internal" href="#summits">Summits</a></li>
<li class="toctree-l3"><a class="reference internal" href="#users">Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="#allocations">Allocations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shard-table-permissions">Shard Table Permissions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="runtime-config.html">Runtime Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-management.html">User Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user-management.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-management.html#create-user"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user-management.html#alter-user"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user-management.html#drop-user"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user-management.html#list-users">List Users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="privileges.html">Privileges</a><ul>
<li class="toctree-l3"><a class="reference internal" href="privileges.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="privileges.html#privilege-types">Privilege Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="privileges.html#hierarchical-inheritance-of-privileges">Hierarchical Inheritance of Privileges</a></li>
<li class="toctree-l3"><a class="reference internal" href="privileges.html#behavior-of-grant-deny-and-revoke">Behavior of <code class="docutils literal"><span class="pre">GRANT</span></code>, <code class="docutils literal"><span class="pre">DENY</span></code> and <code class="docutils literal"><span class="pre">REVOKE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="privileges.html#list-privileges">List Privileges</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="auth/index.html">Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auth/methods.html">Authentication Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="auth/hba.html">Host Based Authentication (HBA)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ssl.html">Secured Communications (SSL/TLS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ssl.html#ssl-tls-configuration">SSL/TLS Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="ssl.html#setting-up-a-keystore-truststore-with-a-certificate-chain">Setting up a Keystore/Truststore With a Certificate Chain</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ingestion/index.html">Ingestion Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ingestion/sources/index.html">Ingestion Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="ingestion/rules.html">Ingestion Rules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="optimization.html">Optimization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="optimization.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="optimization.html#multiple-table-optimization">Multiple Table Optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="optimization.html#partition-optimization">Partition Optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="optimization.html#segments-upgrade">Segments Upgrade</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jobs-management.html">Jobs Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">JMX Monitoring</a><ul>
<li class="toctree-l3"><a class="reference internal" href="monitoring.html#setup">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="monitoring.html#using-docker">Using Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="monitoring.html#jmx-beans">JMX Beans</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="snapshots.html">Snapshots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="snapshots.html#snapshot">Snapshot</a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshots.html#restore">Restore</a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshots.html#cleanup">Cleanup</a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshots.html#requirements-for-using-hdfs-repositories">Requirements for Using HDFS Repositories</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="discovery.html">Cloud Discovery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="discovery.html#amazon-ec2-discovery">Amazon EC2 Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="discovery.html#microsoft-azure-discovery">Microsoft Azure Discovery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="udc.html">Usage Data Collector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="udc.html#technical-information">Technical Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="udc.html#admin-ui-tracking">Admin UI Tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="udc.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="udc.html#how-to-disable-udc">How to Disable UDC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sql/index.html">SQL Syntax</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sql/general/index.html">General SQL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sql/general/constraints.html">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/general/value-expressions.html">Value Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/general/lexical-structure.html">Lexical Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sql/statements/index.html">SQL Statements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/alter-cluster.html"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">CLUSTER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/alter-table.html"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/alter-user.html"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/copy-from.html"><code class="docutils literal"><span class="pre">COPY</span> <span class="pre">FROM</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/copy-to.html"><code class="docutils literal"><span class="pre">COPY</span> <span class="pre">TO</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-analyzer.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">ANALYZER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-blob-table.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">BLOB</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-function.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-ingest-rule.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">INGEST</span> <span class="pre">RULE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-repository.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">REPOSITORY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-snapshot.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">SNAPSHOT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-table.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-user.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/delete.html"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/deny.html"><code class="docutils literal"><span class="pre">DENY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-function.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-ingest-rule.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">INGEST</span> <span class="pre">RULE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-repository.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">REPOSITORY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-snapshot.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">SNAPSHOT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-table.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-user.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/explain.html"><code class="docutils literal"><span class="pre">EXPLAIN</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/grant.html"><code class="docutils literal"><span class="pre">GRANT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/insert.html"><code class="docutils literal"><span class="pre">INSERT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/kill.html"><code class="docutils literal"><span class="pre">KILL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/optimize.html"><code class="docutils literal"><span class="pre">OPTIMIZE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/refresh.html"><code class="docutils literal"><span class="pre">REFRESH</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/restore-snapshot.html"><code class="docutils literal"><span class="pre">RESTORE</span> <span class="pre">SNAPSHOT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/revoke.html"><code class="docutils literal"><span class="pre">REVOKE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/select.html"><code class="docutils literal"><span class="pre">SELECT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/set.html"><code class="docutils literal"><span class="pre">SET</span></code> and <code class="docutils literal"><span class="pre">RESET</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/set-transaction.html"><code class="docutils literal"><span class="pre">SET</span> <span class="pre">TRANSACTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/show-columns.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">COLUMNS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/show-create-table.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">CREATE</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/show-schemas.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">SCHEMAS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/show-tables.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">TABLES</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/update.html"><code class="docutils literal"><span class="pre">UPDATE</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interfaces/index.html">Client Interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/http.html">HTTP Endpoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#parameter-substitution">Parameter Substitution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#default-schema">Default Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#column-types">Column Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#bulk-operations">Bulk Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/postgres.html">PostgreSQL Wire Protocol</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/postgres.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/postgres.html#server-compatibility-and-implementation-status">Server Compatibility and Implementation Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/postgres.html#client-compatibility">Client Compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/postgres.html#implementation-differences">Implementation Differences</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise/index.html">Enterprise Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/index.html">Appendices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendices/release-notes/index.html">Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../appendices/release-notes/index.html#x">2.x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/release-notes/index.html#id6">1.x</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/sql-compliance.html">Standard SQL Compliance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#data-types">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#create-table">Create Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#alter-table">Alter Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#insert-update-and-delete">Insert, Update, and Delete</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#system-information-tables">System Information Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#blob-support">BLOB Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#transactions-begin-commit-and-rollback">Transactions (<code class="docutils literal"><span class="pre">BEGIN</span></code>, <code class="docutils literal"><span class="pre">COMMIT</span></code>, and <code class="docutils literal"><span class="pre">ROLLBACK</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#unsupported-features-and-functions">Unsupported Features and Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/supported-features.html">Supported Features</a></li>
</ul>
</li>
</ul>

    </li>
    
    
    <li class="navleft-item"><a href="/docs/crate/guide">Guide</a></li>
    
  </ul>
  <li class="navleft-item">CrateDB Clients</li>
  <ul>
    
    <li class="navleft-item"><a href="/docs/clients/crash">The CrateDB Shell</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/python">Python</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/jdbc">JDBC</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/dbal">PHP DBAL</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/pdo">PHP PDO</a></li>
    
  </ul>

  <li class="navleft-item border-top"><a href="https://github.com/crate/crate-sample-apps">Sample Applications</a></li>
  <li class="navleft-item"><a href="/docs/support/">Support</a></li>
</ul>
    

    
      
      
    

    
    

    
      <li></li>
    

  </ul>
</div>
            
          </aside>
        </div>
        <div class="col-md-8 col-lg-9">
          <div class="wrapper-content-right">
            
  <div class="section" id="system-information">
<span id="id1"></span><h1>System Information<a class="headerlink" href="#system-information" title="Permalink to this headline">¶</a></h1>
<p>CrateDB provides the <code class="docutils literal"><span class="pre">sys</span></code> schema which contains virtual tables. These tables
are read-only and can be queried to get statistical real-time information about
the cluster, its nodes and their shards:</p>
<p class="rubric">Table of Contents</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#cluster" id="id3">Cluster</a><ul>
<li><a class="reference internal" href="#cluster-settings" id="id4">Cluster Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nodes" id="id5">Nodes</a><ul>
<li><a class="reference internal" href="#id" id="id6"><code class="docutils literal"><span class="pre">id</span></code></a></li>
<li><a class="reference internal" href="#name" id="id7"><code class="docutils literal"><span class="pre">name</span></code></a></li>
<li><a class="reference internal" href="#hostname" id="id8"><code class="docutils literal"><span class="pre">hostname</span></code></a></li>
<li><a class="reference internal" href="#rest-url" id="id9"><code class="docutils literal"><span class="pre">rest_url</span></code></a></li>
<li><a class="reference internal" href="#port" id="id10"><code class="docutils literal"><span class="pre">port</span></code></a></li>
<li><a class="reference internal" href="#load" id="id11"><code class="docutils literal"><span class="pre">load</span></code></a></li>
<li><a class="reference internal" href="#mem" id="id12"><code class="docutils literal"><span class="pre">mem</span></code></a></li>
<li><a class="reference internal" href="#heap" id="id13"><code class="docutils literal"><span class="pre">heap</span></code></a></li>
<li><a class="reference internal" href="#version" id="id14"><code class="docutils literal"><span class="pre">version</span></code></a></li>
<li><a class="reference internal" href="#fs" id="id15"><code class="docutils literal"><span class="pre">fs</span></code></a></li>
<li><a class="reference internal" href="#thread-pools" id="id16"><code class="docutils literal"><span class="pre">thread_pools</span></code></a></li>
<li><a class="reference internal" href="#os" id="id17"><code class="docutils literal"><span class="pre">os</span></code></a><ul>
<li><a class="reference internal" href="#cgroup-limitations" id="id18">Cgroup Limitations</a></li>
<li><a class="reference internal" href="#uptime-limitations" id="id19">Uptime Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#os-info" id="id20"><code class="docutils literal"><span class="pre">os_info</span></code></a></li>
<li><a class="reference internal" href="#network" id="id21"><code class="docutils literal"><span class="pre">network</span></code></a></li>
<li><a class="reference internal" href="#process" id="id22"><code class="docutils literal"><span class="pre">process</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#node-checks" id="id23">Node Checks</a><ul>
<li><a class="reference internal" href="#acknowledge-failed-checks" id="id24">Acknowledge Failed Checks</a></li>
<li><a class="reference internal" href="#description-of-checked-node-settings" id="id25">Description of Checked Node Settings</a><ul>
<li><a class="reference internal" href="#recovery-expected-nodes" id="id26">Recovery Expected Nodes</a></li>
<li><a class="reference internal" href="#recovery-after-nodes" id="id27">Recovery After Nodes</a></li>
<li><a class="reference internal" href="#recovery-after-time" id="id28">Recovery After Time</a></li>
<li><a class="reference internal" href="#routing-allocation-disk-watermark-high" id="id29">Routing Allocation Disk Watermark High</a></li>
<li><a class="reference internal" href="#routing-allocation-disk-watermark-low" id="id30">Routing Allocation Disk Watermark Low</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#shards" id="id31">Shards</a><ul>
<li><a class="reference internal" href="#table-schema" id="id32">Table Schema</a></li>
<li><a class="reference internal" href="#example" id="id33">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#jobs-operations-and-logs" id="id34">Jobs, Operations, and Logs</a><ul>
<li><a class="reference internal" href="#jobs" id="id35">Jobs</a></li>
<li><a class="reference internal" href="#operations" id="id36">Operations</a></li>
<li><a class="reference internal" href="#logs" id="id37">Logs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cluster-checks" id="id38">Cluster Checks</a><ul>
<li><a class="reference internal" href="#current-checks" id="id39">Current Checks</a><ul>
<li><a class="reference internal" href="#minimum-master-nodes" id="id40">Minimum Master Nodes</a></li>
<li><a class="reference internal" href="#number-of-partitions" id="id41">Number of Partitions</a></li>
<li><a class="reference internal" href="#tables-need-to-be-upgraded" id="id42">Tables Need to Be Upgraded</a></li>
<li><a class="reference internal" href="#tables-need-to-be-recreated" id="id43">Tables Need to Be Recreated</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#repositories" id="id44">Repositories</a></li>
<li><a class="reference internal" href="#snapshots" id="id45">Snapshots</a></li>
<li><a class="reference internal" href="#summits" id="id46">Summits</a></li>
<li><a class="reference internal" href="#users" id="id47">Users</a></li>
<li><a class="reference internal" href="#allocations" id="id48">Allocations</a></li>
<li><a class="reference internal" href="#shard-table-permissions" id="id49">Shard Table Permissions</a></li>
</ul>
</div>
<div class="section" id="cluster">
<span id="sys-cluster"></span><h2><a class="toc-backref" href="#id3">Cluster</a><a class="headerlink" href="#cluster" title="Permalink to this headline">¶</a></h2>
<p>Basic information about the CrateDB cluster can be retrieved from the
<code class="docutils literal"><span class="pre">sys.cluster</span></code> table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="52%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">id</span></code></td>
<td>A unique ID generated by the
system.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>The cluster name.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">master_node</span></code></td>
<td>Node ID of the node which
currently operates as master</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">settings</span></code></td>
<td>The cluster settings.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
</tbody>
</table>
<p>The result has at most 1 row:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="k">name</span> <span class="k">from</span> <span class="n">sys</span><span class="mf">.</span><span class="k">cluster</span><span class="p">;</span>
<span class="go">+--------------+</span>
<span class="go">| name         |</span>
<span class="go">+--------------+</span>
<span class="go">| Testing...   |</span>
<span class="go">+--------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="section" id="cluster-settings">
<span id="sys-cluster-settings"></span><h3><a class="toc-backref" href="#id4">Cluster Settings</a><a class="headerlink" href="#cluster-settings" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">sys.cluster.settings</span></code> expression returns information about the currently
applied cluster settings.</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">settings</span> <span class="k">from</span> <span class="n">sys</span><span class="mf">.</span><span class="k">cluster</span><span class="p">;</span>
<span class="go">+-----------------------------------------------------------------------------------------------------------------------------------------------------...-+</span>
<span class="go">| settings                                                                                                                                                |</span>
<span class="go">+-----------------------------------------------------------------------------------------------------------------------------------------------------...-+</span>
<span class="go">| {&quot;bulk&quot;: {...}, &quot;cluster&quot;: {...}, &quot;discovery&quot;: {...}, &quot;gateway&quot;: {...}, &quot;indices&quot;: {...}, &quot;license&quot;: {...}, &quot;logger&quot;: [], &quot;stats&quot;: {...}, &quot;udc&quot;: {...}} |</span>
<span class="go">+-----------------------------------------------------------------------------------------------------------------------------------------------------...-+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">column_name</span><span class="p">,</span> <span class="n">data_type</span> <span class="k">from</span> <span class="n">information_schema</span><span class="mf">.</span><span class="n">columns</span>
<span class="mf">...</span> <span class="k">where</span> <span class="n">column_name</span> <span class="k">like</span> <span class="s1">&#39;settings%&#39;</span>
<span class="mf">...</span> <span class="k">and</span> <span class="n">table_name</span> <span class="o">=</span> <span class="s1">&#39;cluster&#39;</span><span class="p">;</span>
<span class="go">+-----------------------------------------------------------------------------------+--------------+</span>
<span class="go">| column_name                                                                       | data_type    |</span>
<span class="go">+-----------------------------------------------------------------------------------+--------------+</span>
<span class="go">| settings                                                                          | object       |</span>
<span class="go">| settings[&#39;bulk&#39;]                                                                  | object       |</span>
<span class="go">| settings[&#39;bulk&#39;][&#39;request_timeout&#39;]                                               | string       |</span>
<span class="go">| settings[&#39;cluster&#39;]                                                               | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;graceful_stop&#39;]                                              | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;graceful_stop&#39;][&#39;force&#39;]                                     | boolean      |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;graceful_stop&#39;][&#39;min_availability&#39;]                          | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;graceful_stop&#39;][&#39;reallocate&#39;]                                | boolean      |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;graceful_stop&#39;][&#39;timeout&#39;]                                   | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;info&#39;]                                                       | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;info&#39;][&#39;update&#39;]                                             | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;info&#39;][&#39;update&#39;][&#39;interval&#39;]                                 | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;]                                                    | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;]                                      | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;allow_rebalance&#39;]                   | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;balance&#39;]                           | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;balance&#39;][&#39;index&#39;]                  | float        |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;balance&#39;][&#39;shard&#39;]                  | float        |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;balance&#39;][&#39;threshold&#39;]              | float        |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;cluster_concurrent_rebalance&#39;]      | integer      |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;disk&#39;]                              | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;disk&#39;][&#39;threshold_enabled&#39;]         | boolean      |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;disk&#39;][&#39;watermark&#39;]                 | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;disk&#39;][&#39;watermark&#39;][&#39;high&#39;]         | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;disk&#39;][&#39;watermark&#39;][&#39;low&#39;]          | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;enable&#39;]                            | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;exclude&#39;]                           | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;exclude&#39;][&#39;_host&#39;]                  | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;exclude&#39;][&#39;_id&#39;]                    | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;exclude&#39;][&#39;_ip&#39;]                    | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;exclude&#39;][&#39;_name&#39;]                  | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;include&#39;]                           | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;include&#39;][&#39;_host&#39;]                  | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;include&#39;][&#39;_id&#39;]                    | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;include&#39;][&#39;_ip&#39;]                    | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;include&#39;][&#39;_name&#39;]                  | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;node_concurrent_recoveries&#39;]        | integer      |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;node_initial_primaries_recoveries&#39;] | integer      |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;require&#39;]                           | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;require&#39;][&#39;_host&#39;]                  | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;require&#39;][&#39;_id&#39;]                    | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;require&#39;][&#39;_ip&#39;]                    | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;allocation&#39;][&#39;require&#39;][&#39;_name&#39;]                  | string       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;rebalance&#39;]                                       | object       |</span>
<span class="go">| settings[&#39;cluster&#39;][&#39;routing&#39;][&#39;rebalance&#39;][&#39;enable&#39;]                             | string       |</span>
<span class="go">| settings[&#39;discovery&#39;]                                                             | object       |</span>
<span class="go">| settings[&#39;discovery&#39;][&#39;zen&#39;]                                                      | object       |</span>
<span class="go">| settings[&#39;discovery&#39;][&#39;zen&#39;][&#39;minimum_master_nodes&#39;]                              | integer      |</span>
<span class="go">| settings[&#39;discovery&#39;][&#39;zen&#39;][&#39;ping_timeout&#39;]                                      | string       |</span>
<span class="go">| settings[&#39;discovery&#39;][&#39;zen&#39;][&#39;publish_timeout&#39;]                                   | string       |</span>
<span class="go">| settings[&#39;gateway&#39;]                                                               | object       |</span>
<span class="go">| settings[&#39;gateway&#39;][&#39;expected_nodes&#39;]                                             | integer      |</span>
<span class="go">| settings[&#39;gateway&#39;][&#39;recover_after_nodes&#39;]                                        | integer      |</span>
<span class="go">| settings[&#39;gateway&#39;][&#39;recover_after_time&#39;]                                         | string       |</span>
<span class="go">| settings[&#39;indices&#39;]                                                               | object       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;breaker&#39;]                                                    | object       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;breaker&#39;][&#39;fielddata&#39;]                                       | object       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;breaker&#39;][&#39;fielddata&#39;][&#39;limit&#39;]                              | string       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;breaker&#39;][&#39;fielddata&#39;][&#39;overhead&#39;]                           | double       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;breaker&#39;][&#39;query&#39;]                                           | object       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;breaker&#39;][&#39;query&#39;][&#39;limit&#39;]                                  | string       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;breaker&#39;][&#39;query&#39;][&#39;overhead&#39;]                               | double       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;breaker&#39;][&#39;request&#39;]                                         | object       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;breaker&#39;][&#39;request&#39;][&#39;limit&#39;]                                | string       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;breaker&#39;][&#39;request&#39;][&#39;overhead&#39;]                             | double       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;recovery&#39;]                                                   | object       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;recovery&#39;][&#39;internal_action_long_timeout&#39;]                   | string       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;recovery&#39;][&#39;internal_action_timeout&#39;]                        | string       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;recovery&#39;][&#39;max_bytes_per_sec&#39;]                              | string       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;recovery&#39;][&#39;recovery_activity_timeout&#39;]                      | string       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;recovery&#39;][&#39;retry_delay_network&#39;]                            | string       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;recovery&#39;][&#39;retry_delay_state_sync&#39;]                         | string       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;store&#39;]                                                      | object       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;store&#39;][&#39;throttle&#39;]                                          | object       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;store&#39;][&#39;throttle&#39;][&#39;max_bytes_per_sec&#39;]                     | string       |</span>
<span class="go">| settings[&#39;indices&#39;][&#39;store&#39;][&#39;throttle&#39;][&#39;type&#39;]                                  | string       |</span>
<span class="go">| settings[&#39;license&#39;]                                                               | object       |</span>
<span class="go">| settings[&#39;license&#39;][&#39;enterprise&#39;]                                                 | boolean      |</span>
<span class="go">| settings[&#39;license&#39;][&#39;ident&#39;]                                                      | string       |</span>
<span class="go">| settings[&#39;logger&#39;]                                                                | object_array |</span>
<span class="go">| settings[&#39;logger&#39;][&#39;level&#39;]                                                       | string       |</span>
<span class="go">| settings[&#39;logger&#39;][&#39;name&#39;]                                                        | string       |</span>
<span class="go">| settings[&#39;stats&#39;]                                                                 | object       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;breaker&#39;]                                                      | object       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;breaker&#39;][&#39;log&#39;]                                               | object       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;breaker&#39;][&#39;log&#39;][&#39;jobs&#39;]                                       | object       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;breaker&#39;][&#39;log&#39;][&#39;jobs&#39;][&#39;limit&#39;]                              | string       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;breaker&#39;][&#39;log&#39;][&#39;jobs&#39;][&#39;overhead&#39;]                           | double       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;breaker&#39;][&#39;log&#39;][&#39;operations&#39;]                                 | object       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;breaker&#39;][&#39;log&#39;][&#39;operations&#39;][&#39;limit&#39;]                        | string       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;breaker&#39;][&#39;log&#39;][&#39;operations&#39;][&#39;overhead&#39;]                     | double       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;enabled&#39;]                                                      | boolean      |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;jobs_log_expiration&#39;]                                          | string       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;jobs_log_size&#39;]                                                | integer      |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;operations_log_expiration&#39;]                                    | string       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;operations_log_size&#39;]                                          | integer      |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;service&#39;]                                                      | object       |</span>
<span class="go">| settings[&#39;stats&#39;][&#39;service&#39;][&#39;interval&#39;]                                          | string       |</span>
<span class="go">| settings[&#39;udc&#39;]                                                                   | object       |</span>
<span class="go">| settings[&#39;udc&#39;][&#39;enabled&#39;]                                                        | boolean      |</span>
<span class="go">| settings[&#39;udc&#39;][&#39;initial_delay&#39;]                                                  | string       |</span>
<span class="go">| settings[&#39;udc&#39;][&#39;interval&#39;]                                                       | string       |</span>
<span class="go">| settings[&#39;udc&#39;][&#39;url&#39;]                                                            | string       |</span>
<span class="go">+-----------------------------------------------------------------------------------+--------------+</span>
<span class="go">SELECT ... rows in set (... sec)</span>
</pre></div>
</div>
<p>For further details, see the <a class="reference internal" href="../config/cluster.html#conf-cluster-settings"><span class="std std-ref">Cluster Settings</span></a>
configuration section.</p>
</div>
</div>
<div class="section" id="nodes">
<span id="sys-nodes"></span><h2><a class="toc-backref" href="#id5">Nodes</a><a class="headerlink" href="#nodes" title="Permalink to this headline">¶</a></h2>
<p>To get information about the nodes query for <cite>sys.nodes</cite>.</p>
<p>This table can be queried for one, multiple or all nodes within a cluster.</p>
<p>The table schema is as follows:</p>
<div class="section" id="id">
<h3><a class="toc-backref" href="#id6"><code class="docutils literal"><span class="pre">id</span></code></a><a class="headerlink" href="#id" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="63%" />
<col width="18%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">id</span></code></td>
<td>A unique ID within the cluster generated by
the system.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="name">
<h3><a class="toc-backref" href="#id7"><code class="docutils literal"><span class="pre">name</span></code></a><a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="65%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>The node name within a cluster. The system will
choose a random name. You can specify the node
name via your own custom <a class="reference external" href="../configuration.html">configuration</a>.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="hostname">
<h3><a class="toc-backref" href="#id8"><code class="docutils literal"><span class="pre">hostname</span></code></a><a class="headerlink" href="#hostname" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="64%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">hostname</span></code></td>
<td>The specified host name of the machine the node
is running on.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rest-url">
<h3><a class="toc-backref" href="#id9"><code class="docutils literal"><span class="pre">rest_url</span></code></a><a class="headerlink" href="#rest-url" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="66%" />
<col width="16%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">rest_url</span></code></td>
<td>Full http(s) address where the REST API of the node
is exposed, including schema, hostname (or IP)
and port.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="port">
<h3><a class="toc-backref" href="#id10"><code class="docutils literal"><span class="pre">port</span></code></a><a class="headerlink" href="#port" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="58%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">port</span></code></td>
<td>The specified ports for both HTTP and binary
transport interfaces. You can specify the ports
via your own custom <a class="reference external" href="../configuration.html">configuration</a>.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">port['http']</span></code></td>
<td>CrateDB&#8217;s HTTP port.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">port['transport']</span></code></td>
<td>CrateDB&#8217;s binary transport port.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">port['psql']</span></code></td>
<td>The PostgreSQL wire protocol port.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="load">
<h3><a class="toc-backref" href="#id11"><code class="docutils literal"><span class="pre">load</span></code></a><a class="headerlink" href="#load" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="50%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">load</span></code></td>
<td>System load statistics</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">load['1']</span></code></td>
<td>Average load over the last 1 minute.</td>
<td><code class="docutils literal"><span class="pre">DOUBLE</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">load['5']</span></code></td>
<td>Average load over the last 5 minutes.</td>
<td><code class="docutils literal"><span class="pre">DOUBLE</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">load['15']</span></code></td>
<td>Average load over the last 15 minutes.</td>
<td><code class="docutils literal"><span class="pre">DOUBLE</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">load['probe_timestamp']</span></code></td>
<td>Unix timestamp at the time of collection
of the load probe.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mem">
<h3><a class="toc-backref" href="#id12"><code class="docutils literal"><span class="pre">mem</span></code></a><a class="headerlink" href="#mem" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="54%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">mem</span></code></td>
<td>Memory utilization statistics of the host.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">mem['used']</span></code></td>
<td>Currently used memory in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">mem['used_percent']</span></code></td>
<td>Currently used memory in percent of total.</td>
<td><code class="docutils literal"><span class="pre">SHORT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">mem['free']</span></code></td>
<td>Currently available memory in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">mem['free_percent']</span></code></td>
<td>Currently available memory in percent of total.</td>
<td><code class="docutils literal"><span class="pre">SHORT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">mem['probe_timestamp']</span></code></td>
<td>Unix timestamp at the time of collection
of the memory probe.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="heap">
<h3><a class="toc-backref" href="#id13"><code class="docutils literal"><span class="pre">heap</span></code></a><a class="headerlink" href="#heap" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="53%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">heap</span></code></td>
<td>Heap memory utilization statistics.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">heap['used']</span></code></td>
<td>Currently used heap memory in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">heap['max']</span></code></td>
<td>Maximum available heap memory. You can specify
the max heap memory CrateDB should use in the
<a class="reference external" href="../configuration.html">configuration</a>.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">heap['free']</span></code></td>
<td>Currently available heap memory in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">heap['probe_timestamp']</span></code></td>
<td>Unix timestamp at the time of collection
of the heap probe.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="version">
<span id="sys-versions"></span><h3><a class="toc-backref" href="#id14"><code class="docutils literal"><span class="pre">version</span></code></a><a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="54%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">version</span></code></td>
<td>CrateDB version information.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">version['number']</span></code></td>
<td>Version string in format <code class="docutils literal"><span class="pre">&quot;major.minor.hotfix&quot;</span></code></td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">version['build_hash']</span></code></td>
<td>SHA hash of the Github commit which
this build was built from.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">version['build_snapshot']</span></code></td>
<td>Indicates whether this build is a snapshot build.</td>
<td><code class="docutils literal"><span class="pre">BOOLEAN</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="fs">
<h3><a class="toc-backref" href="#id15"><code class="docutils literal"><span class="pre">fs</span></code></a><a class="headerlink" href="#fs" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="51%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs</span></code></td>
<td>Utilization statistics about the file system.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fs['total']</span></code></td>
<td>Aggregated usage statistic of all disks on the
host.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs['total']['size']</span></code></td>
<td>Total size of all disks in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fs['total']['used']</span></code></td>
<td>Total used space of all disks in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs['total']['available']</span></code></td>
<td>Total available space of all disks in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fs['total']['reads']</span></code></td>
<td>Total number of reads on all disks.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs['total']['bytes_read']</span></code></td>
<td>Total size of reads on all disks in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fs['total']['writes']</span></code></td>
<td>Total number of writes on all disks.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs['total']['bytes_written']</span></code></td>
<td>Total size of writes on all disks in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fs['disks']</span></code></td>
<td>Usage statistics of individual disks on the
host.</td>
<td><code class="docutils literal"><span class="pre">ARRAY</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs['disks']['dev']</span></code></td>
<td>Device name</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fs['disks']['size']</span></code></td>
<td>Total size of the disk in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs['disks']['used']</span></code></td>
<td>Used space of the disk in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fs['disks']['available']</span></code></td>
<td>Available space of the disk in bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs['disks']['reads']</span></code></td>
<td><p class="first">Number of reads on the disk.</p>
<p class="last">DEPRECATED: always returns -1</p>
</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fs['disks']['bytes_read']</span></code></td>
<td><p class="first">Total size of reads on the disk in bytes.</p>
<p class="last">DEPRECATED: always returns -1</p>
</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs['disks']['writes']</span></code></td>
<td><p class="first">Number of writes on the disk.</p>
<p class="last">DEPRECATED: always returns -1</p>
</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fs['disks']['bytes_written']</span></code></td>
<td><p class="first">Total size of writes on the disk in bytes.</p>
<p class="last">DEPRECATED: always returns -1</p>
</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs['data']</span></code></td>
<td>Information about data paths used by the node.</td>
<td><code class="docutils literal"><span class="pre">ARRAY</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fs['data']['dev']</span></code></td>
<td>Device name</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fs['data']['path']</span></code></td>
<td>File path where the data of the node resides.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="thread-pools">
<h3><a class="toc-backref" href="#id16"><code class="docutils literal"><span class="pre">thread_pools</span></code></a><a class="headerlink" href="#thread-pools" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="52%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">thread_pools</span></code></td>
<td>Usage statistics of Java thread pools.</td>
<td><code class="docutils literal"><span class="pre">ARRAY</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">thread_pools['name']</span></code></td>
<td>Name of the pool.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">thread_pools['active']</span></code></td>
<td>Number of currently running thread in the
thread pool.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">thread_pools['rejected']</span></code></td>
<td>Total number of rejected threads in the thread
pool.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">thread_pools['largest']</span></code></td>
<td>Largest number of threads that have ever
simultaniously been in the pool.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">thread_pools['completed']</span></code></td>
<td>Total number of completed thread in teh thread
pool.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">thread_pools['threads']</span></code></td>
<td>Size of the thread pool.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">thread_pools['queue']</span></code></td>
<td>Number of thread currently in the queue.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="os">
<h3><a class="toc-backref" href="#id17"><code class="docutils literal"><span class="pre">os</span></code></a><a class="headerlink" href="#os" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="47%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os</span></code></td>
<td>Operating system stats</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['uptime']</span></code></td>
<td><p class="first">System uptime in milliseconds</p>
<p class="last">Requires allowing system calls on Windows and macOS.
See notes in <a class="reference internal" href="#os-uptime-limitations"><span class="std std-ref">Uptime Limitations</span></a>.</p>
</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['timestamp']</span></code></td>
<td>UNIX timestamp in millisecond resolution</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['cpu']</span></code></td>
<td>Information about CPU utilization</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cpu']['used']</span></code></td>
<td>System CPU usage as percentage</td>
<td><code class="docutils literal"><span class="pre">SHORT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['cpu']['system']</span></code></td>
<td><p class="first">CPU time used by the system</p>
<p class="last">DEPRECATED: always returns -1</p>
</td>
<td><code class="docutils literal"><span class="pre">SHORT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cpu']['user']</span></code></td>
<td><p class="first">CPU time used by applications</p>
<p class="last">DEPRECATED: always returns -1</p>
</td>
<td><code class="docutils literal"><span class="pre">SHORT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['cpu']['idle']</span></code></td>
<td><p class="first">Idle CPU time</p>
<p class="last">DEPRECATED: always returns -1</p>
</td>
<td><code class="docutils literal"><span class="pre">SHORT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cpu']['stolen']</span></code></td>
<td><p class="first">The amount of CPU &#8216;stolen&#8217; from this virtual
machine by the hypervisor for other tasks.</p>
<p class="last">DEPRECATED: always returns -1</p>
</td>
<td><code class="docutils literal"><span class="pre">SHORT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['probe_timestamp']</span></code></td>
<td>Unix timestamp at the time of collection
of the OS probe.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cgroup']</span></code></td>
<td>Information about Cgroups <strong>(Linux only)</strong></td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['cgroup']['cpuacct']</span></code></td>
<td>Information about CPU accounting</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cgroup']['cpuacct']['control_group']</span></code></td>
<td>The path to the cpu accounting cgroup</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['cgroup']['cpuacct']['usage_nanos']</span></code></td>
<td>The total CPU time (in nanoseconds) consumed by
all tasks in this cgroup.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cgroup']['cpu']</span></code></td>
<td>Information about the CPU subsystem</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['cgroup']['cpu']['control_group']</span></code></td>
<td>The path to the cpu cgroup</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cgroup']['cpu']['cfs_period_micros']</span></code></td>
<td>The period of time (in microseconds) the cgroup
access to the CPU gets reallocated.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['cgroup']['cpu']['cfs_quota_micros']</span></code></td>
<td>The total amount of time (in microseconds) for which
all tasks in the cgroup can run during one period
(cfs_period_micros).</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cgroup']['cpu']['num_elapsed_periods']</span></code></td>
<td>The nr. of period intervals (cfs_period_micros) that
have elapsed.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['cgroup']['cpu']['num_times_throttled']</span></code></td>
<td>The nr. of times tasks in the cgroup have been
throttled.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cgroup']['cpu']['time_throttled_nanos']</span></code></td>
<td>The total time (in nanoseconds) for which tasks in
the cgroup have been throttled.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['cgroup']['mem']</span></code></td>
<td>Information about memory resources used by tasks in
a cgroup.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cgroup']['mem']['control_group']</span></code></td>
<td>The path to the memory cgroup</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os['cgroup']['mem']['usage_bytes']</span></code></td>
<td>The total current memory usage by processes in
the cgroup.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os['cgroup']['mem']['limit_bytes']</span></code></td>
<td>The max. amount of user memory in the cgroup.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
</tbody>
</table>
<p>The cpu information values are cached for 1s. They might differ from the actual
values at query time. Use the probe timestamp to get the time of collection.
When analyzing the cpu usage over time, always use <code class="docutils literal"><span class="pre">os['probe_timestamp']</span></code> to
calculate the time difference between 2 probes.</p>
<div class="section" id="cgroup-limitations">
<span id="os-cgroup-limitations"></span><h4><a class="toc-backref" href="#id18">Cgroup Limitations</a><a class="headerlink" href="#cgroup-limitations" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Cgroup metrics only work if the stats are available from
<code class="docutils literal"><span class="pre">/sys/fs/cgroup/cpu</span></code> and <code class="docutils literal"><span class="pre">/sys/fs/cgroup/cpuacct</span></code>.</p>
</div>
</div>
<div class="section" id="uptime-limitations">
<span id="os-uptime-limitations"></span><h4><a class="toc-backref" href="#id19">Uptime Limitations</a><a class="headerlink" href="#uptime-limitations" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">os[&#8216;uptime&#8217;] required a system call when running CrateDB on Windows or
macOS, however, system calls are not permitted by default. If you require
this metric you need to allow system calls by setting <code class="docutils literal"><span class="pre">bootstrap.seccomp</span></code>
to <code class="docutils literal"><span class="pre">false</span></code>. This setting must be set in the crate.yml or via command line
argument and cannot be changed at runtime.</p>
</div>
</div>
</div>
<div class="section" id="os-info">
<h3><a class="toc-backref" href="#id20"><code class="docutils literal"><span class="pre">os_info</span></code></a><a class="headerlink" href="#os-info" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="48%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os_info</span></code></td>
<td>Operating system information</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os_info['available_processors']</span></code></td>
<td>Number of processors that are available in
the JVM. This is usually equal to the number
of cores of the CPU.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os_info['name']</span></code></td>
<td>Name of the operating system (ex: Linux,
Windows, Mac OS X)</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os_info['arch']</span></code></td>
<td>Name of the JVM architecture (ex: amd64,
x86)</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os_info['version']</span></code></td>
<td>Version of the operating system</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os_info['jvm']</span></code></td>
<td>Information about the JVM (Java Virtual
Machine)</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os_info['jvm']['version']</span></code></td>
<td>The JVM version</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os_info['jvm']['vm_name']</span></code></td>
<td>The name of the JVM (eg. OpenJDK,
Java Hotspot(TM) )</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">os_info['jvm']['vm_vendor']</span></code></td>
<td>The vendor name of the JVM</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">os_info['jvm']['vm_version']</span></code></td>
<td>The version of the JVM</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="network">
<h3><a class="toc-backref" href="#id21"><code class="docutils literal"><span class="pre">network</span></code></a><a class="headerlink" href="#network" title="Permalink to this headline">¶</a></h3>
<p>Network statistics are deprecated in CrateDB 2.3 and may completely be removed
in subsequent versions. All <code class="docutils literal"><span class="pre">LONG</span></code> columns always return <code class="docutils literal"><span class="pre">0</span></code>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="57%" />
<col width="8%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">network</span></code></td>
<td>Statistics about network activity on the host.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">network['probe_timestamp']</span></code></td>
<td>Unix timestamp at the time of collection of the network probe.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">network['tcp']</span></code></td>
<td>TCP network activity on the host.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">network['tcp']['connections']</span></code></td>
<td>Information about TCP network connections.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">network['tpc']['connections']['initiated']</span></code></td>
<td>Total number of initiated TCP connections.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">network['tpc']['connections']['accepted']</span></code></td>
<td>Total number of accepted TCP connections.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">network['tpc']['connections']['curr_established']</span></code></td>
<td>Total number of currently established TCP connections.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">network['tcp']['connections']['dropped']</span></code></td>
<td>Total number of dropped TCP connections.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">network['tcp']['connections']['embryonic_dropped']</span></code></td>
<td>Total number of TCP connections that have been dropped before they were accepted.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">network['tcp']['packets']</span></code></td>
<td>Information about TCP packets.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">network['tpc']['packets']['sent']</span></code></td>
<td>Total number of TCP packets sent.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">network['tcp']['packets']['received']</span></code></td>
<td>Total number of TCP packets received.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">network['tpc']['packets']['retransmitted']</span></code></td>
<td>Total number of TCP packets retransmitted due to an error.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">network['tcp']['packets']['errors_received']</span></code></td>
<td>Total number of TCP packets that contained checksum errors, had a bad offset, were dropped
because of a lack of memory or were too short.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">network['tcp']]['packets']['rst_sent']</span></code></td>
<td>Total number of RST packets sent due to left unread
data in queue when socket is closed.
See <a class="reference external" href="https://tools.ietf.org/html/rfc2525#page-50">tools.ietf.org</a>.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="process">
<h3><a class="toc-backref" href="#id22"><code class="docutils literal"><span class="pre">process</span></code></a><a class="headerlink" href="#process" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="46%" />
<col width="13%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">process</span></code></td>
<td>Statistics about the CrateDB process.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">process['open_file_descriptors']</span></code></td>
<td>Number of currently open file descriptors used
by the CrateDB process.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">process['max_open_file_descriptors']</span></code></td>
<td>The maximum number of open file descriptors
CrateDB can use.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">process['probe_timestamp']</span></code></td>
<td>The system UNIX timestamp at the moment of
the probe collection.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">process['cpu']</span></code></td>
<td>Information about the CPU usage of the CrateDB
process.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">process['cpu']['percent']</span></code></td>
<td>The CPU usage of the CrateDB JVM process given
in percent.</td>
<td><code class="docutils literal"><span class="pre">SHORT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">process['cpu']['user']</span></code></td>
<td><p class="first">The process CPU user time in milliseconds.</p>
<p class="last">DEPRECATED: always returns -1</p>
</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">process['cpu']['system']</span></code></td>
<td><p class="first">The process CPU kernel time in milliseconds.</p>
<p class="last">DEPRECATED: always returns -1</p>
</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
</tbody>
</table>
<p>The cpu information values are cached for 1s. They might differ from the actual
values at query time. Use the probe timestamp to get the time of the collect.
When analyzing the cpu usage over time, always use
<code class="docutils literal"><span class="pre">process['probe_timestamp']</span></code> to calculate the time difference between 2
probes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If one of the queried nodes is not responding within three seconds it
returns <code class="docutils literal"><span class="pre">null</span></code> every column except <code class="docutils literal"><span class="pre">id</span></code> and <code class="docutils literal"><span class="pre">name</span></code>. This behaviour
could be used to detect hanging nodes.</p>
</div>
</div>
</div>
<div class="section" id="node-checks">
<span id="sys-node-checks"></span><h2><a class="toc-backref" href="#id23">Node Checks</a><a class="headerlink" href="#node-checks" title="Permalink to this headline">¶</a></h2>
<p>The table <code class="docutils literal"><span class="pre">sys.node_checks</span></code> exposes a list of internal node checks and
results of their validation.</p>
<p>The table schema is the following:</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="52%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">id</span></code></td>
<td>The unique check ID.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">node_id</span></code></td>
<td>The unique node ID.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">severity</span></code></td>
<td>The level of severity.
The higher the value of the
field the higher severity.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>The description message for the
setting check.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">passed</span></code></td>
<td>The flag determines whether the
check for the setting has passed.</td>
<td><code class="docutils literal"><span class="pre">BOOLEAN</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">acknowledged</span></code></td>
<td>The flag determines whether the
check for this setting has been
acknowledged by the user in
order to ignored the value of
<cite>passed</cite> column. This column can
be <em>updated</em>.</td>
<td><code class="docutils literal"><span class="pre">BOOLEAN</span></code></td>
</tr>
</tbody>
</table>
<p>Example query:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">description</span> <span class="k">from</span> <span class="n">sys</span><span class="mf">.</span><span class="n">node_checks</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">;</span>
<span class="go">+-...-+---------...-+--------------------------------------------------------------...-+</span>
<span class="go">|  id | node_id     | description                                                      |</span>
<span class="go">+-...-+---------...-+--------------------------------------------------------------...-+</span>
<span class="go">|   1 | ...         | The value of the cluster setting &#39;gateway.expected_nodes&#39; mus... |</span>
<span class="go">|   2 | ...         | The value of the cluster setting &#39;gateway.recover_after_nodes... |</span>
<span class="go">|   3 | ...         | If any of the &quot;expected nodes&quot; recovery settings are set, the... |</span>
<span class="go">|   5 | ...         | The high disk watermark is exceeded on the node. The cluster ... |</span>
<span class="go">|   6 | ...         | The low disk watermark is exceeded on the node. The cluster w... |</span>
<span class="go">...</span>
<span class="go">+-...-+---------...-+--------------------------------------------------------------...-+</span>
<span class="go">SELECT ... rows in set (... sec)</span>
</pre></div>
</div>
<div class="section" id="acknowledge-failed-checks">
<span id="sys-node-checks-ack"></span><h3><a class="toc-backref" href="#id24">Acknowledge Failed Checks</a><a class="headerlink" href="#acknowledge-failed-checks" title="Permalink to this headline">¶</a></h3>
<p>It is possible to acknowledge every check by updating the <code class="docutils literal"><span class="pre">acknowledged</span></code>
column. By doing this, specially CrateDB&#8217;s built-in Admin-UI won&#8217;t complain
anymore about failing checks.</p>
<p>Imagine we&#8217;ve added a new node to our cluster, but as the
<a class="reference internal" href="../config/cluster.html#gateway-expected-nodes"><span class="std std-ref">gateway.expected_nodes</span></a> column can only
be set via config-file or command-line argument, the check for this setting
will not pass on the already running nodes until the config-file or
command-line argument on these nodes is updated and the nodes are restarted
(which is not what we want on a healthy well running cluster).</p>
<p>In order to make the Admin-UI accept a failing check (so the checks label goes
green again), we must acknowledge this check by updating it&#8217;s <code class="docutils literal"><span class="pre">acknowledged</span></code>
flag:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">update</span> <span class="n">sys</span><span class="mf">.</span><span class="n">node_checks</span> <span class="k">set</span> <span class="n">acknowledged</span> <span class="o">=</span> <span class="k">true</span> <span class="k">where</span> <span class="n">id</span> <span class="o">=</span> <span class="mf">1</span><span class="p">;</span>
<span class="go">UPDATE OK, 1 row affected (... sec)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Updates on this column are transient, so changed values are lost after the
affected node is restarted.</p>
</div>
</div>
<div class="section" id="description-of-checked-node-settings">
<h3><a class="toc-backref" href="#id25">Description of Checked Node Settings</a><a class="headerlink" href="#description-of-checked-node-settings" title="Permalink to this headline">¶</a></h3>
<div class="section" id="recovery-expected-nodes">
<h4><a class="toc-backref" href="#id26">Recovery Expected Nodes</a><a class="headerlink" href="#recovery-expected-nodes" title="Permalink to this headline">¶</a></h4>
<p>The check for the <a class="reference internal" href="../config/cluster.html#gateway-expected-nodes"><span class="std std-ref">gateway.expected_nodes</span></a>
setting checks that the number of nodes that should be waited for the immediate
cluster state recovery, must be equal to the maximum number of data and master
nodes in the cluster.</p>
</div>
<div class="section" id="recovery-after-nodes">
<h4><a class="toc-backref" href="#id27">Recovery After Nodes</a><a class="headerlink" href="#recovery-after-nodes" title="Permalink to this headline">¶</a></h4>
<p>The check for the <a class="reference internal" href="../config/cluster.html#gateway-recover-after-nodes"><span class="std std-ref">gateway.recover_after_nodes</span></a> verifies that the number of started nodes before
the cluster starts must be greater than the half of the expected number of
nodes and equal/less than number of nodes in the cluster.</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">E</span> <span class="o">/</span> <span class="mf">2</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">R</span> <span class="o">&lt;=</span> <span class="n">E</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">R</span></code> is the number of recovery nodes, <code class="docutils literal"><span class="pre">E</span></code> is the number of expected
nodes.</p>
</div>
<div class="section" id="recovery-after-time">
<h4><a class="toc-backref" href="#id28">Recovery After Time</a><a class="headerlink" href="#recovery-after-time" title="Permalink to this headline">¶</a></h4>
<p>If <a class="reference internal" href="../config/cluster.html#gateway-recover-after-nodes"><span class="std std-ref">gateway.recover_after_nodes</span></a> is set,
then <a class="reference internal" href="../config/cluster.html#gateway-recover-after-time"><span class="std std-ref">gateway.recover_after_time</span></a> must not be
set to <code class="docutils literal"><span class="pre">0s</span></code>, otherwise the <code class="docutils literal"><span class="pre">gateway.recover_after_nodes</span></code> setting wouldn&#8217;t
have any effect.</p>
</div>
<div class="section" id="routing-allocation-disk-watermark-high">
<h4><a class="toc-backref" href="#id29">Routing Allocation Disk Watermark High</a><a class="headerlink" href="#routing-allocation-disk-watermark-high" title="Permalink to this headline">¶</a></h4>
<p>The check for the <a class="reference internal" href="../config/cluster.html#cluster-routing-allocation-disk-watermark-high"><span class="std std-ref">cluster.routing.allocation.disk.watermark.high</span></a> setting verifies that the
high watermark is not exceeded on the current node. The usage of each disk for
configured CrateDB data paths is verified against the threshold setting. If one
or more verification fails the check is marked as not passed.</p>
</div>
<div class="section" id="routing-allocation-disk-watermark-low">
<h4><a class="toc-backref" href="#id30">Routing Allocation Disk Watermark Low</a><a class="headerlink" href="#routing-allocation-disk-watermark-low" title="Permalink to this headline">¶</a></h4>
<p>The check for the <a class="reference internal" href="../config/cluster.html#cluster-routing-allocation-disk-watermark-low"><span class="std std-ref">cluster.routing.allocation.disk.watermark.low</span></a> which controls the low
watermark for the node disk usage. The check verifies that the low watermark is
not exceeded on the current node. The verification is done against each disk
for configured CrateDB data paths. The check is not passed if the verification
for one or more disk fails.</p>
</div>
</div>
</div>
<div class="section" id="shards">
<span id="sys-shards"></span><h2><a class="toc-backref" href="#id31">Shards</a><a class="headerlink" href="#shards" title="Permalink to this headline">¶</a></h2>
<p>The table <code class="docutils literal"><span class="pre">sys.shards</span></code> contains real-time statistics for all shards of all
(non-system) tables.</p>
<div class="section" id="table-schema">
<h3><a class="toc-backref" href="#id32">Table Schema</a><a class="headerlink" href="#table-schema" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="51%" />
<col width="13%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">id</span></code></td>
<td><p class="first">The shard ID.</p>
<p class="last">This shard ID is managed by the managed by the
system ranging from 0 and up to the specified
number of shards of a table (by default the number
of shards is 5).</p>
</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">schema_name</span></code></td>
<td><p class="first">The schema name.</p>
<p class="last">This will be &#8220;blob&#8221; for shards of blob tables and
&#8220;doc&#8221; for shards of common tables without a
defined schema.</p>
</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">table_name</span></code></td>
<td>The table name.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">partition_ident</span></code></td>
<td><p class="first">The partition ident of a partitioned table.</p>
<p class="last">Empty string on non-partitioned tables.</p>
</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">num_docs</span></code></td>
<td>The total amount of docs within a shard.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">min_lucene_version</span></code></td>
<td>Shows the oldest lucene segment version used in
this shard.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">primary</span></code></td>
<td>Describes if the shard is the primary shard.</td>
<td><code class="docutils literal"><span class="pre">BOOLEAN</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">relocating_node</span></code></td>
<td>The node ID which the shard is getting relocated
to at the time.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">size</span></code></td>
<td><p class="first">Current size in bytes.</p>
<p class="last">This value is cached for max. 10 seconds to reduce
file system access.</p>
</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">state</span></code></td>
<td><p class="first">The current state of the shard.</p>
<p>Possible states are:</p>
<ul class="last simple">
<li>CREATED</li>
<li>RECOVERING</li>
<li>POST_RECOVERY</li>
<li>STARTED</li>
<li>RELOCATED</li>
<li>CLOSED</li>
<li>INITIALIZING</li>
<li>UNASSIGNED</li>
</ul>
</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">routing_state</span></code></td>
<td><p class="first">The current state of a shard as defined by the
routing.</p>
<p>Possible states of the shard routing are:</p>
<ul class="last simple">
<li>UNASSIGNED,</li>
<li>INITIALIZING</li>
<li>STARTED</li>
<li>RELOCATING</li>
</ul>
</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">orphan_partition</span></code></td>
<td><p class="first">True if the partition has NO table associated
with. In rare situations the table is missing.</p>
<p class="last">False on non-partitioned tables.</p>
</td>
<td><code class="docutils literal"><span class="pre">BOOLEAN</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">path</span></code></td>
<td><p class="first">Path to the shard directory on the filesystem.</p>
<p class="last">This directory contains state and index files.</p>
</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">blob_path</span></code></td>
<td>Path to the directory which contains the blob
files of the shard, or null if the shard is not a
blob shard.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">_node</span></code></td>
<td><p class="first">Information about the node the shard is located
at.</p>
<p class="last">Contains the same information as the <code class="docutils literal"><span class="pre">sys.nodes</span></code>
table.</p>
</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">recovery</span></code></td>
<td><p class="first">Represents recovery statistic of the particular
shard.</p>
<p class="last">Recovery is the process of moving a table shard to
a different node or loading it from disk, e.g.
during node startup (local gateway recovery),
replication, shard rebalancing or snapshot
recovery.</p>
</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">recovery['stage']</span></code></td>
<td><p class="first">Recovery stage:</p>
<ul class="last simple">
<li>init: Recovery has not started</li>
<li>index: Reading the Lucene index meta-data and
copying bytes from source to destination</li>
<li>start: Starting the engine,
opening the index for use</li>
<li>translog: Replaying transaction log</li>
<li>finalize: Cleanup</li>
<li>done: Complete</li>
</ul>
</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">recovery['type']</span></code></td>
<td><p class="first">Recovery type:</p>
<ul class="last simple">
<li>gateway</li>
<li>snapshot</li>
<li>replica</li>
<li>relocating</li>
</ul>
</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">recovery['size']</span></code></td>
<td>Shards recovery statistic in bytes.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">recovery['size']['used']</span></code></td>
<td>Total number of bytes in the shard.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">recovery['size']['reused']</span></code></td>
<td>Number of bytes reused from a local copy
while recovering the shard.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">recovery['size']['recovered']</span></code></td>
<td>Number of actual bytes recovered in the shard.
Includes both existing and reused bytes.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">recovery['size']['percent']</span></code></td>
<td>Percentage of bytes already recovered.</td>
<td><code class="docutils literal"><span class="pre">FLOAT</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">recovery['files']</span></code></td>
<td>Shards recovery statistic in files.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">recovery['files']['used']</span></code></td>
<td>Total number of files in the shard.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">recovery['files']['reused']</span></code></td>
<td>Total number of files reused from a local copy
while recovering the shard.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">recovery['files']['recovered']</span></code></td>
<td>Number of actual files recovered in the shard.
Includes both existing and reused files.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">recovery['files']['percent']</span></code></td>
<td>Percentage of files already recovered.</td>
<td><code class="docutils literal"><span class="pre">FLOAT</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">recovery['total_time']</span></code></td>
<td>Returns elapsed time from the start of the shard
recovery.</td>
<td><code class="docutils literal"><span class="pre">LONG</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">sys.shards</span></code> table is subject to <a class="reference internal" href="#shard-table-permissions"><span class="std std-ref">Shard Table Permissions</span></a>.</p>
</div>
</div>
<div class="section" id="example">
<h3><a class="toc-backref" href="#id33">Example</a><a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>For example, you can query shards like this:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">schema_name</span> <span class="k">as</span> <span class="k">schema</span><span class="p">,</span>
<span class="mf">...</span>   <span class="n">table_name</span> <span class="k">as</span> <span class="n">t</span><span class="p">,</span>
<span class="mf">...</span>   <span class="n">id</span><span class="p">,</span>
<span class="mf">...</span>   <span class="n">partition_ident</span> <span class="k">as</span> <span class="n">p_i</span><span class="p">,</span>
<span class="mf">...</span>   <span class="n">num_docs</span> <span class="k">as</span> <span class="n">docs</span><span class="p">,</span>
<span class="mf">...</span>   <span class="k">primary</span><span class="p">,</span>
<span class="mf">...</span>   <span class="n">relocating_node</span> <span class="k">as</span> <span class="n">r_n</span><span class="p">,</span>
<span class="mf">...</span>   <span class="n">routing_state</span> <span class="k">as</span> <span class="n">r_state</span><span class="p">,</span>
<span class="mf">...</span>   <span class="n">state</span><span class="p">,</span>
<span class="mf">...</span>   <span class="n">orphan_partition</span> <span class="k">as</span> <span class="n">o_p</span>
<span class="mf">...</span> <span class="k">from</span> <span class="n">sys</span><span class="mf">.</span><span class="n">shards</span> <span class="k">where</span> <span class="n">table_name</span> <span class="o">=</span> <span class="s1">&#39;locations&#39;</span> <span class="k">and</span> <span class="n">id</span> <span class="o">=</span> <span class="mf">1</span><span class="p">;</span>
<span class="go">+--------+-----------+----+-----+------+---------+------+---------+---------+-------+</span>
<span class="go">| schema | t         | id | p_i | docs | primary | r_n  | r_state |  state  | o_p   |</span>
<span class="go">+--------+-----------+----+-----+------+---------+------+---------+---------+-------+</span>
<span class="go">| doc    | locations |  1 |     |    8 | TRUE    | NULL | STARTED | STARTED | FALSE |</span>
<span class="go">+--------+-----------+----+-----+------+---------+------+---------+---------+-------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="jobs-operations-and-logs">
<span id="jobs-operations-logs"></span><h2><a class="toc-backref" href="#id34">Jobs, Operations, and Logs</a><a class="headerlink" href="#jobs-operations-and-logs" title="Permalink to this headline">¶</a></h2>
<p>To let you inspect the activities currently taking place in a cluster, CrateDB
provides system tables that let you track current cluster jobs and operations.
CrateDB also logs both of these tables.</p>
<p>By default, these tables are not populated, because tracking jobs and
operations adds a slight performance overhead.</p>
<p>If you want to use the jobs and operations tables, you must enable the
collection of CrateDB statistics with <a class="reference internal" href="../sql/statements/set.html#ref-set"><span class="std std-ref">SET and RESET</span></a>, like so:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">set</span> <span class="k">global</span> <span class="n">stats</span><span class="mf">.</span><span class="n">enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
<span class="go">SET OK, 1 row affected (... sec)</span>
</pre></div>
</div>
<div class="section" id="jobs">
<span id="sys-jobs"></span><h3><a class="toc-backref" href="#id35">Jobs</a><a class="headerlink" href="#jobs" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">sys.jobs</span></code> table is a constantly updated view of all jobs that are
currently being executed in the cluster. The field <code class="docutils literal"><span class="pre">username</span></code> corresponds to
the <a class="reference internal" href="../general/builtins/scalar.html#session-user"><span class="std std-ref">SESSION_USER</span></a> that is performing the query:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">stmt</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">started</span> <span class="k">from</span> <span class="n">sys</span><span class="mf">.</span><span class="n">jobs</span> <span class="k">where</span> <span class="n">stmt</span> <span class="k">like</span> <span class="s1">&#39;sel% from %jobs%&#39;</span><span class="p">;</span>
<span class="go">+---------------------------------------------------------------------------------+----------+-...-----+</span>
<span class="go">| stmt                                                                            | username | started |</span>
<span class="go">+---------------------------------------------------------------------------------+----------+-...-----+</span>
<span class="go">| select stmt, username, started from sys.jobs where stmt like &#39;sel% from %jobs%&#39; | crate    | ...     |</span>
<span class="go">+---------------------------------------------------------------------------------+----------+-...-----+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the <a class="reference internal" href="../enterprise/index.html#enterprise-features"><span class="std std-ref">enterprise edition</span></a> is disabled or the
user management module is not available, the <code class="docutils literal"><span class="pre">username</span></code> is represented as
<code class="docutils literal"><span class="pre">NULL</span></code>.</p>
</div>
<p>Every request that queries data or manipulates data is considered a &#8220;job&#8221; if it
is a valid query. Requests that are not valid queries (for example, a request
that tries to query a non-existent table) will not show up as jobs.</p>
</div>
<div class="section" id="operations">
<span id="sys-operations"></span><h3><a class="toc-backref" href="#id36">Operations</a><a class="headerlink" href="#operations" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">sys.operations</span></code> table is a constantly updated view of all operations
that are currently being executed in the cluster:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">_node</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="n">job_id</span><span class="p">,</span> <span class="k">name</span><span class="p">,</span> <span class="n">used_bytes</span> <span class="k">from</span> <span class="n">sys</span><span class="mf">.</span><span class="n">operations</span>
<span class="mf">...</span> <span class="k">order</span> <span class="k">by</span> <span class="k">name</span> <span class="k">limit</span> <span class="mf">1</span><span class="p">;</span>
<span class="go">+---------------+--------...-+-----...-+------------+</span>
<span class="go">| _node[&#39;name&#39;] | job_id     | name    | used_bytes |</span>
<span class="go">+---------------+--------...-+-----...-+------------+</span>
<span class="go">| crate         | ...        | ...     | ...        |</span>
<span class="go">+---------------+--------...-+-----...-+------------+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
<p>An operation is a node-specific sub-component of a job (for when a job involves
multi-node processing). Jobs that do not require multi-node processing will not
produce any operations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In some cases, operations are generated for internal CrateDB work that does
not directly correspond to a user request. These entries do not have
corresponding entries in <code class="docutils literal"><span class="pre">sys.jobs</span></code>.</p>
</div>
</div>
<div class="section" id="logs">
<span id="sys-logs"></span><h3><a class="toc-backref" href="#id37">Logs</a><a class="headerlink" href="#logs" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#sys-jobs"><span class="std std-ref">sys.jobs</span></a> and <a class="reference internal" href="#sys-operations"><span class="std std-ref">sys.operations</span></a> tables
have corresponding log tables: <code class="docutils literal"><span class="pre">sys.jobs_log</span></code> and <code class="docutils literal"><span class="pre">sys.operations_log</span></code>.</p>
<p>After a job or operation finishes, the corresponding entry will be moved into
the corresponding log table:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">id</span><span class="p">,</span> <span class="n">stmt</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">started</span><span class="p">,</span> <span class="n">ended</span><span class="p">,</span> <span class="n">error</span>
<span class="mf">...</span> <span class="k">from</span> <span class="n">sys</span><span class="mf">.</span><span class="n">jobs_log</span> <span class="k">order</span> <span class="k">by</span> <span class="n">ended</span> <span class="k">desc</span> <span class="k">limit</span> <span class="mf">2</span><span class="p">;</span>
<span class="go">+-...+----------------------------------------------...-+----------+-...-----+-...---+-------+</span>
<span class="go">| id | stmt                                             | username | started | ended | error |</span>
<span class="go">+-...+----------------------------------------------...-+----------+-...-----+-...---+-------+</span>
<span class="go">| ...| select _node[&#39;name&#39;], ...                        | crate    | ...     | ...   |  NULL |</span>
<span class="go">| ...| select stmt, username, started from sys.jobs ... | crate    | ...     | ...   |  NULL |</span>
<span class="go">+-...+----------------------------------------------...-+----------+-...-----+-...---+-------+</span>
<span class="go">SELECT 2 rows in set (... sec)</span>
</pre></div>
</div>
<p>Invalid queries are also logged in the <code class="docutils literal"><span class="pre">sys.jobs_log</span></code> table, i.e. queries
that never make it to the <code class="docutils literal"><span class="pre">sys.jobs</span></code> table because they could not be
executed.</p>
<p>The log tables are bound by a fixed size
(<a class="reference internal" href="../config/cluster.html#stats-jobs-log-size"><span class="std std-ref">stats.jobs_log_size</span></a>) or by an expiration time
(<a class="reference internal" href="../config/cluster.html#stats-jobs-log-expiration"><span class="std std-ref">stats.jobs_log_expiration</span></a>)</p>
<p>See <a class="reference internal" href="../config/cluster.html#conf-collecting-stats"><span class="std std-ref">Collecting Stats</span></a> for information on how to configure logs.</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">If you deactivate statistics tracking, the logs tables will be truncated.</p>
</div>
</div>
</div>
<div class="section" id="cluster-checks">
<span id="sys-checks"></span><h2><a class="toc-backref" href="#id38">Cluster Checks</a><a class="headerlink" href="#cluster-checks" title="Permalink to this headline">¶</a></h2>
<p>The table <code class="docutils literal"><span class="pre">sys.checks</span></code> exposes a list of internal cluster checks and results
of their validation.</p>
<p>The <code class="docutils literal"><span class="pre">sys.checks</span></code> table looks like this:</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="53%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">id</span></code></td>
<td>The unique check id.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">severity</span></code></td>
<td>The level of severity.
The higher the value of the field
the higher severity.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>The description message for the
setting check.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">passed</span></code></td>
<td>The flag determines whether the
check for the setting has passed.</td>
<td><code class="docutils literal"><span class="pre">BOOLEAN</span></code></td>
</tr>
</tbody>
</table>
<p>Here&#8217;s an example query:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">id</span><span class="p">,</span> <span class="n">description</span> <span class="k">from</span> <span class="n">sys</span><span class="mf">.</span><span class="n">checks</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id</span><span class="p">;</span>
<span class="go">+----+--------------------------------------------------------------...-+</span>
<span class="go">| id | description                                                      |</span>
<span class="go">+----+--------------------------------------------------------------...-+</span>
<span class="go">|  1 | The setting &#39;discovery.zen.minimum_master_nodes&#39; must not be ... |</span>
<span class="go">|  2 | The total number of partitions of one or more partitioned tab... |</span>
<span class="go">|  3 | The following tables need to be upgraded for compatibility wi... |</span>
<span class="go">|  4 | CrateDB Enterprise features are active. Please request a lice... |</span>
<span class="go">|  5 | The following tables need to be recreated for compatibility w... |</span>
<span class="go">+----+--------------------------------------------------------------...-+</span>
<span class="go">SELECT 5 rows in set (... sec)</span>
</pre></div>
</div>
<p>Cluster checks are also indicated in the CrateDB <a class="reference external" href="https://crate.io/docs/connect/admin_ui/">admin console</a>. When all
cluster checks (and all <a class="reference internal" href="#sys-node-checks"><span class="std std-ref">Node Checks</span></a>) pass, the <em>Checks</em> icon will be
green. Here&#8217;s what it looks like when some checks are failing at the <em>CRITICAL</em>
severity level:</p>
<div class="figure align-center">
<img alt="../_images/cluster-checks-critical.png" src="../_images/cluster-checks-critical.png" />
</div>
<div class="section" id="current-checks">
<h3><a class="toc-backref" href="#id39">Current Checks</a><a class="headerlink" href="#current-checks" title="Permalink to this headline">¶</a></h3>
<div class="section" id="minimum-master-nodes">
<h4><a class="toc-backref" href="#id40">Minimum Master Nodes</a><a class="headerlink" href="#minimum-master-nodes" title="Permalink to this headline">¶</a></h4>
<p>The check for the <a class="reference internal" href="../config/cluster.html#discovery-zen-minimum-master-nodes"><span class="std std-ref">discovery.zen.minimum_master_nodes</span></a> setting verifies that the minimum number
of nodes is equal/greater than the half of maximum number of nodes in the
cluster.</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">N</span> <span class="o">/</span> <span class="mf">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">1</span> <span class="o">&lt;=</span> <span class="n">M</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">N</span></code> is the number of nodes in the cluster, and <code class="docutils literal"><span class="pre">M</span></code> is the value of
the setting <a class="reference internal" href="../config/cluster.html#discovery-zen-minimum-master-nodes"><span class="std std-ref">discovery.zen.minimum_master_nodes</span></a>.</p>
<p>You can change the value (via <a class="reference internal" href="../sql/statements/set.html#ref-set"><span class="std std-ref">SET and RESET</span></a>) permanently by issuing the
following SQL statement:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="k">SET</span> <span class="k">GLOBAL</span> <span class="n">PERSISTENT</span> <span class="n">discovery</span><span class="mf">.</span><span class="n">zen</span><span class="mf">.</span><span class="n">minimum_master_nodes</span> <span class="o">=</span> <span class="n">M</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="number-of-partitions">
<h4><a class="toc-backref" href="#id41">Number of Partitions</a><a class="headerlink" href="#number-of-partitions" title="Permalink to this headline">¶</a></h4>
<p>This check warns if any <a class="reference internal" href="../general/ddl/partitioned-tables.html#partitioned-tables"><span class="std std-ref">partitioned table</span></a> has more
than 1000 partitions to detect the usage of a high cardinality field for
partitioning.</p>
</div>
<div class="section" id="tables-need-to-be-upgraded">
<h4><a class="toc-backref" href="#id42">Tables Need to Be Upgraded</a><a class="headerlink" href="#tables-need-to-be-upgraded" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not attempt to upgrade your cluster if this cluster check is failing.
Follow the instructions below to get this cluster check passing.</p>
</div>
<p>This check warns you if there are tables that need to be upgraded for
compatibility with future versions of CrateDB.</p>
<p>For tables that need upgrading, use the <a class="reference internal" href="../sql/statements/optimize.html#sql-ref-optimize"><span class="std std-ref">OPTIMIZE</span></a> command to
perform a <a class="reference internal" href="optimization.html#optimize-segments-upgrade"><span class="std std-ref">Segments Upgrade</span></a>.</p>
<p>For each table, run a command like so:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">OPTIMIZE</span> <span class="k">TABLE</span> <span class="n">table_ident</span> <span class="k">WITH</span> <span class="p">(</span><span class="n">upgrade_segments</span><span class="o">=</span><span class="k">true</span><span class="p">);</span>
</pre></div>
</div>
<p>Here, replace <code class="docutils literal"><span class="pre">table_ident</span></code> with the name of the table you are upgrading.</p>
<p>When all tables that needed upgrading have been upgraded, this cluster check
should pass.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Snapshots of your tables created prior to them being upgraded will not work
with future versions of CrateDB. For this reason, you should create a new
snapshot for each of your tables. (See <a class="reference internal" href="snapshots.html#snapshot-restore"><span class="std std-ref">Snapshots</span></a>.)</p>
</div>
</div>
<div class="section" id="tables-need-to-be-recreated">
<h4><a class="toc-backref" href="#id43">Tables Need to Be Recreated</a><a class="headerlink" href="#tables-need-to-be-recreated" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not attempt to upgrade your cluster if this cluster check is failing.
Follow the instructions below to get this cluster check passing.</p>
</div>
<p>This check warns you if there are tables that need to be recreated for
compatibility with future versions of CrateDB.</p>
<p>For tables that need recreating, use <a class="reference internal" href="../sql/statements/show-create-table.html#ref-show-create-table"><span class="std std-ref">SHOW CREATE TABLE</span></a> to get the
SQL statement needed to restore the table, like so:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">table_ident</span><span class="p">;</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal"><span class="pre">table_ident</span></code> is the name of the table you want to recreate.</p>
<p>Copy the output of this command, replace the <code class="docutils literal"><span class="pre">table_ident</span></code> with
<code class="docutils literal"><span class="pre">table_ident_new</span></code>, and execute it to create a new table identical to the one
you want to recreate.</p>
<p>Make sure you stop inserting data to the original <code class="docutils literal"><span class="pre">table_ident</span></code> by
executing:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_ident</span> <span class="k">SET</span> <span class="p">(</span><span class="s s-Name">&quot;blocks.read_only&quot;</span> <span class="o">=</span> <span class="k">true</span><span class="p">);</span>
</pre></div>
</div>
<p>Copy the data from the original table to the new one by executing:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">table_ident_new</span> <span class="p">(</span><span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">,</span> <span class="mf">...</span><span class="p">)</span>
   <span class="p">(</span><span class="k">SELECT</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">,</span> <span class="mf">...</span> <span class="k">FROM</span> <span class="n">table_ident</span><span class="p">);</span>
</pre></div>
</div>
<p>Make sure that you include all columns and that the columns appear in the same
order in both lists.</p>
<p>Execute refresh on the new table like so:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="k">REFRESH</span> <span class="k">TABLE</span> <span class="n">table_ident_new</span><span class="p">;</span>
</pre></div>
</div>
<p>Make sure table the new table and the old table have the same data.</p>
<p>Drop the original table by executing:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_ident</span> <span class="k">SET</span> <span class="p">(</span><span class="s s-Name">&quot;blocks.read_only&quot;</span> <span class="o">=</span> <span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">table_ident</span><span class="p">;</span>
</pre></div>
</div>
<p>Rename the new table back to its original name:</p>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">table_ident_new</span> <span class="k">RENAME</span> <span class="k">TO</span> <span class="n">table_ident</span><span class="p">;</span>
</pre></div>
</div>
<p>When all tables that needed recreating have been recreated by following this
procedure, this cluster check should disappear.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Snapshots of your tables created prior to them being recreated will not work
with future versions of CrateDB. For this reason, you should create a new
snapshot for each of your tables. (See <a class="reference internal" href="snapshots.html#snapshot-restore"><span class="std std-ref">Snapshots</span></a>.)</p>
</div>
</div>
</div>
</div>
<div class="section" id="repositories">
<span id="sys-repositories"></span><h2><a class="toc-backref" href="#id44">Repositories</a><a class="headerlink" href="#repositories" title="Permalink to this headline">¶</a></h2>
<p>The table <code class="docutils literal"><span class="pre">sys.repositories</span></code> lists all configured repositories that can be
used to create, manage and restore snapshots (see <a class="reference internal" href="snapshots.html#snapshot-restore"><span class="std std-ref">Snapshots</span></a>).</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="56%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>The repository name</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">type</span></code></td>
<td>The type of the repository
determining how and where the
repository stores its snapshots.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">settings</span></code></td>
<td>The configuration settings the
repository has been created
with. The specific settings
depend on the repository type,
see <a class="reference internal" href="../sql/statements/create-repository.html#ref-create-repository"><span class="std std-ref">CREATE REPOSITORY</span></a>.</td>
<td><code class="docutils literal"><span class="pre">OBJECT</span></code></td>
</tr>
</tbody>
</table>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">name</span><span class="p">,</span> <span class="k">type</span><span class="p">,</span> <span class="n">settings</span> <span class="k">FROM</span> <span class="n">sys</span><span class="mf">.</span><span class="n">repositories</span>
<span class="mf">...</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="k">name</span><span class="p">;</span>
<span class="go">+---------+------+---------------------------------------------------...--+</span>
<span class="go">| name    | type | settings                                               |</span>
<span class="go">+---------+------+---------------------------------------------------...--+</span>
<span class="go">| my_repo | fs   | {&quot;compress&quot;: &quot;true&quot;, &quot;location&quot;: &quot;repo_location&quot;, ...} |</span>
<span class="go">+---------+------+---------------------------------------------------...--+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
</div>
<div class="section" id="snapshots">
<span id="sys-snapshots"></span><h2><a class="toc-backref" href="#id45">Snapshots</a><a class="headerlink" href="#snapshots" title="Permalink to this headline">¶</a></h2>
<p>The table <code class="docutils literal"><span class="pre">sys.snapshots</span></code> lists all existing snapshots in all configured
repositories (see <a class="reference internal" href="snapshots.html#snapshot-restore"><span class="std std-ref">Snapshots</span></a>).</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="48%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>The name of the snapshot</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">repository</span></code></td>
<td>The name of the repository that
contains this snapshot.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">concrete_indices</span></code></td>
<td>Contains the names of all
tables and partitions that are
contained in this snapshot
how they are represented
as ES index names.</td>
<td><code class="docutils literal"><span class="pre">ARRAY</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">started</span></code></td>
<td>The point in time when the
creation of the snapshot
started. Changes made after
that are not stored in this
snapshot.</td>
<td><code class="docutils literal"><span class="pre">TIMESTAMP</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">finished</span></code></td>
<td>The point in time when the
snapshot creation finished.</td>
<td><code class="docutils literal"><span class="pre">TIMESTAMP</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">state</span></code></td>
<td>The current state of the
snapshot. One of:
<code class="docutils literal"><span class="pre">IN_PROGRESS</span></code>, <code class="docutils literal"><span class="pre">SUCCESS</span></code>,
<code class="docutils literal"><span class="pre">PARTIAL</span></code>, or <code class="docutils literal"><span class="pre">FAILED</span></code>.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">version</span></code></td>
<td>An internal version this
snapshot was created with.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
</tbody>
</table>
<p>Snapshot/Restore operates on a per-shard basis. Hence, the <code class="docutils literal"><span class="pre">state</span></code> column
indicates whether all (<code class="docutils literal"><span class="pre">SUCCESS</span></code>), some (<code class="docutils literal"><span class="pre">PARTIAL</span></code>), or no
shards(<code class="docutils literal"><span class="pre">FAILED</span></code>) have been backed up. <code class="docutils literal"><span class="pre">PARTIAL</span></code> snapshots are the result of
some primaries becoming unavailable while taking the snapshot when there are no
replicas at hand (cluster state is <em>RED</em>). If there are replicas of the (now
unavailable) primaries (cluster state is <em>YELLOW</em>) the snapshot succeeds and
all shards are included (state <code class="docutils literal"><span class="pre">SUCCESS</span></code>). Building on a <code class="docutils literal"><span class="pre">PARTIAL</span></code> snapshot
will include all primaries again.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In case of a <code class="docutils literal"><span class="pre">PARTIAL</span></code> state another snapshot should be created in order
to guarantee a full backup! Only <code class="docutils literal"><span class="pre">SUCCESS</span></code> includes all shards.</p>
</div>
<p>The <code class="docutils literal"><span class="pre">concrete_indices</span></code> column contains the names of all Elasticsearch indices
that were stored in the snapshot. A <em>normal</em> CrateDB table maps to one
Elasticsearch index, a partitioned table maps to one Elasticsearch index per
partition. The mapping follows the following pattern:</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CrateDB table / partition name</th>
<th class="head"><code class="docutils literal"><span class="pre">concrete_indices</span></code> entry</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">doc.my_table</span></code></td>
<td><code class="docutils literal"><span class="pre">my_table</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">my_schema.my_table</span></code></td>
<td><code class="docutils literal"><span class="pre">my_schema.my_table</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">doc.parted_table</span></code> (value=null)</td>
<td><code class="docutils literal"><span class="pre">.partitioned.my_table.0400</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">my_schema.parted_table</span></code> (value=null)</td>
<td><code class="docutils literal"><span class="pre">my_schema..partitioned.my_table.0400</span></code></td>
</tr>
</tbody>
</table>
<div class="highlight-psql"><div class="highlight"><pre><span></span><span class="n">cr</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s s-Name">&quot;repository&quot;</span><span class="p">,</span> <span class="k">name</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">concrete_indices</span>
<span class="mf">...</span> <span class="k">FROM</span> <span class="n">sys</span><span class="mf">.</span><span class="n">snapshots</span> <span class="k">order</span> <span class="k">by</span> <span class="s s-Name">&quot;repository&quot;</span><span class="p">,</span> <span class="k">name</span><span class="p">;</span>
<span class="go">+------------+-------------+---------+-----------------...-+</span>
<span class="go">| repository | name        | state   | concrete_indices    |</span>
<span class="go">+------------+-------------+---------+-----------------...-+</span>
<span class="go">| my_repo    | my_snapshot | SUCCESS | [...]               |</span>
<span class="go">+------------+-------------+---------+-----------------...-+</span>
<span class="go">SELECT 1 row in set (... sec)</span>
</pre></div>
</div>
</div>
<div class="section" id="summits">
<span id="sys-summits"></span><h2><a class="toc-backref" href="#id46">Summits</a><a class="headerlink" href="#summits" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">sys.summits</span></code> table contains the information about the mountains in the
Alps higher than 2000m. The mountain names from the table are also used to
generate random nodes names.</p>
</div>
<div class="section" id="users">
<span id="sys-users"></span><h2><a class="toc-backref" href="#id47">Users</a><a class="headerlink" href="#users" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">sys.users</span></code> table contains all existing database users in the cluster.
The table is only available in the CrateDB <a class="reference external" href="https://crate.io/enterprise/">Enterprise Edition</a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="62%" />
<col width="18%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>The name of the database user.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">superuser</span></code></td>
<td>BOOLEAN flag to indicate whether the user
is a superuser.</td>
<td><code class="docutils literal"><span class="pre">BOOLEAN</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="allocations">
<span id="sys-allocations"></span><h2><a class="toc-backref" href="#id48">Allocations</a><a class="headerlink" href="#allocations" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">sys.allocations</span></code> table contains information about shards and their
allocation state. The table contains:</p>
<ul class="simple">
<li>shards that are unassigned and why they are unassigned</li>
<li>shards that are assigned but cannot be moved or rebalanced and why they
remain on their current node</li>
</ul>
<p>It can help to identify problems if shard allocations behave different than
expected, e.g. when a shard stays unassigned or a shard does not move off a
node.</p>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="41%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column Name</th>
<th class="head">Description</th>
<th class="head">Return Type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">table_schema</span></code></td>
<td>Schema name of the table of
the shard.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">table_name</span></code></td>
<td>Table name of the shard.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">partition_ident</span></code></td>
<td>Identifier of the partition
of the shard.
<code class="docutils literal"><span class="pre">NULL</span></code> if the table is not
partitioned.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">shard_id</span></code></td>
<td>ID of the effected shard.</td>
<td><code class="docutils literal"><span class="pre">INTEGER</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">node_id</span></code></td>
<td>ID of the node on which the
shard resides. <code class="docutils literal"><span class="pre">NULL</span></code> if
the shard is unassigned.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">primary</span></code></td>
<td>Whether the shard is a
primary shard.</td>
<td><code class="docutils literal"><span class="pre">BOOLEAN</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">current_state</span></code></td>
<td>Current state of the shard.
Possible states are:
<code class="docutils literal"><span class="pre">UNASSIGNED</span></code>,
<code class="docutils literal"><span class="pre">INITIALIZING</span></code>,
<code class="docutils literal"><span class="pre">STARTED</span></code>,
<code class="docutils literal"><span class="pre">RELOCATING</span></code></td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">explanation</span></code></td>
<td>Explanation why the shard
cannot be allocated, moved
or rebalanced.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">decisions</span></code></td>
<td>A list of decisions that
describe in detail why the
shard in the current state.</td>
<td><code class="docutils literal"><span class="pre">ARRAY</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">decisions['node_id']</span></code></td>
<td>ID of the node of the
decision.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">decisions['node_name']</span></code></td>
<td>Name of the node of the
decision.</td>
<td><code class="docutils literal"><span class="pre">STRING</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">decisions['explanations']</span></code></td>
<td>Detailed list of human
readable explanations why the
node decided whether to
allocate or rebalance the
shard. Returns <code class="docutils literal"><span class="pre">NULL</span></code> if
there is no need to rebalance
the shard.</td>
<td><code class="docutils literal"><span class="pre">ARRAY</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">sys.allocations</span></code> table is subject to <a class="reference internal" href="#shard-table-permissions"><span class="std std-ref">Shard Table Permissions</span></a>.</p>
</div>
</div>
<div class="section" id="shard-table-permissions">
<span id="id2"></span><h2><a class="toc-backref" href="#id49">Shard Table Permissions</a><a class="headerlink" href="#shard-table-permissions" title="Permalink to this headline">¶</a></h2>
<p>Accessing tables that return shards (<code class="docutils literal"><span class="pre">sys.shards</span></code>, <code class="docutils literal"><span class="pre">sys.allocations</span></code>) is
subjected to the same privileges constraints as the other tables. Namely, in
order to query them, the connected user needs to have the <code class="docutils literal"><span class="pre">DQL</span></code> privilege on
that particular table, either directly or inherited from the <code class="docutils literal"><span class="pre">SCHEMA</span></code> or
<code class="docutils literal"><span class="pre">CLUSTER</span></code> (for more information on privileges inheritance see
<a class="reference internal" href="privileges.html#hierarchical-privileges-inheritance"><span class="std std-ref">Hierarchical Inheritance of Privileges</span></a>).</p>
<p>However, being able to query shard returning system tables will not allow the
user to retrieve all the rows in the table, as they may contain information
related to tables, which the connected user does not have any privileges for.
The only rows that will be returned will be the ones the user is allowed to
access.</p>
<p>For example, if the user <code class="docutils literal"><span class="pre">john</span></code> has any privilege on the <code class="docutils literal"><span class="pre">doc.books</span></code> table
but no privilege at all on <code class="docutils literal"><span class="pre">doc.locations</span></code>, when <code class="docutils literal"><span class="pre">john</span></code> issues a
<code class="docutils literal"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">sys.shards</span></code> statement, the shards information related to the
<code class="docutils literal"><span class="pre">doc.locations</span></code> table will not be returned.</p>
</div>
</div>


          </div>
        </div>
      </div>
    </div>
  </div><footer class="footer">
  <div class="w-container">
    <div class="w-clearfix">
      <div class="w-row mobileAlign">
        <div class="w-col w-col-3 footer-menu">
          <p class="menu-Label">Product</p>
          <ul class="vertical-menu">
            <li class="footer-listitem-new"><a href="https://crate.io/overview/">Overview</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/download/">Download</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/use-cases/">Use Cases</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/customers/">Customers</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/pricing/">Pricing</a></li>
          </ul>
        </div>
        <div class="w-col w-col-3 footer-menu">
          <p class="menu-Label">Resources</p>
          <ul class="vertical-menu">
            <li class="footer-listitem-new"><a href="https://crate.io/resources/">Resource Library</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/docs/">Documentation</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/docs/support/">Support</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/events/">Events</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/blog/">Blog</a></li>
          </ul>
        </div>
        <div class="w-col w-col-3 footer-menu">
          <p class="menu-Label">Company</p>
          <ul class="vertical-menu">
            <li class="footer-listitem-new "><a href="https://crate.io/about/">About</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/jobs/">Jobs</a></li>
            <li class="footer-listitem-new "><a href="https://crate.io/partners/">Partners</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/in-the-news/">In the News</a></li>
          </ul>
        </div>
        <div class="w-col w-col-3">
          <ul class="footer-list w-list-unstyled" style="margin-top: 0; padding-left: 0;">
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://www.facebook.com/crate.io" target="_blank" style="padding-left: 0;">
                <img src="../_static/images/f-logo-facebook.png" width="12">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://twitter.com/Crateio" target="_blank">
                <img src="../_static/images/f-logo-twitter.png" width="23">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://plus.google.com/105753392254543335997" target="_blank">
                <img src="../_static/images/f-logo-google.png" width="23">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://www.linkedin.com/company/crateio" target="_blank">
                <img src="../_static/images/f-logo-linkedin.png" width="22">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://www.youtube.com/channel/UCcp_IqjXaejmwBcwg51n1AA" target="_blank">
                <img src="../_static/images/f-logo-youtube.png" width="24">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://github.com/crate">
                <img src="../_static/images/f-logo-github.png" width="22">
              </a>
            </li>
            <div class="mobileHoriztonalMenu">
              <li class="footer-listitem-new"><a href="https://crate.io/contact/">Contact</a></li>
              <li class="footer-listitem-new"><a href="https://crate.io/legal/">Legal</a></li>
              <li class="footer-listitem-new"><a href="https://crate.io/legal/imprint/">Imprint</a></li>
            </div>
            <li class="footer-listitem link-list">
              <a class="footer-link-eu w-inline-block" href="/erdf/">
                <img class="logo-eu" sizes="100px" src="../_static/images/logo-eu-optimized-1.jpg" width="101">
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="w-row">
        <a class="brand footer-brand w-inline-block" href="/">
          <img src="../_static/images/logo-crate.png" width="217">
        </a>
      </div>
    </div>
  </div>
</footer>

  <script>
  var $navAffix = $('#nav-affix');
  var $contentEl = $('.wrapper-content-right');
  // Desktop only
  if( !$('#mobile-menu-toggler').is(':visible') ) {

    // Only if the content is taller than the sidebar,
    // to avoid scroll jerk
    if ( $contentEl.height() > $navAffix.height() ) {
      // Init
      $navAffix.affix({
        offset: {
          top: 100,
          bottom: function () {
            return (this.bottom = $('footer').outerHeight(true) + 200)
          }
        }
      });
      // Recalculate the sidebar
      $(window).resize(function() {
        $navAffix.affix('checkPosition');
      });
    }

    $('body').scrollspy();

  } else {

    $('.wrapper-navleft').hide();
    $('#mobile-menu-toggler').click(function() {
      $('.wrapper-navleft').toggle();
    });

  }

  $(document).ready(function() {
    window.setTimeout(function() {$('body').append('<a href="https://crate.io/docs/support/slackin/" style="z-index: 10; position: fixed; bottom: 20px; right: ' + ($('#intercom-launcher').is(':visible') ? '90' : '20') + 'px; box-shadow: 0 6px 13px 0 rgba(0, 0, 0, .23)"><img src="../_static/images/slack.png" id="slack-container" /></a>'); }, 2000);
  });
  </script>

  <!-- Segment -->
  <script>
    !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","setAnonymousId"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
      analytics.load("FToR4cE5lXyQziQirvt0kSnFQj0rAgu9");
      analytics.setAnonymousId($.cookie('uid'));
      analytics.page();
      analytics.track('visited_section_docs', {
        project: 'crate',
        version: ''
      });
    }}();
  </script>
  </body>
</html>