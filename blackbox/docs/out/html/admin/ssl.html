<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Secured Communications (SSL/TLS) &mdash; CrateDB  documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/normalize.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/bootstrap.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/mmenu.all.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/components.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/crateio.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/crateio-rtd.css?ver=1.1" type="text/css" />
    <link rel="stylesheet" href="../_static/css/custom.css?ver=1.1" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!--[if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->
    <script type="text/javascript" src="https://cdn.crate.io/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script type="text/javascript" src="../_static/js/modernizr.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/underscore.min.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/doctools.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/searchtools.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/webflow.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/bootstrap.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/mmenu.all.min.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/fontawesome.js?ver=1.1"></script>
    <script type="text/javascript" src="../_static/js/custom.js?ver=1.1"></script>
    <link rel="top" title="CrateDB  documentation" href="../index.html" />
    <link rel="up" title="Administration" href="index.html" />
    <link rel="next" title="Ingestion Framework" href="ingestion/index.html" />
    <link rel="prev" title="Host Based Authentication (HBA)" href="auth/hba.html" />
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
  <meta name="apple-mobile-web-app-capable" content="yes">
  
  </head>
  <body>
  <header class="header-nav">
  <div class="container">
    <div class="navbar w-nav" data-animation="default" data-collapse="small" data-contain="1" data-duration="400">
      <a class="brand w-nav-brand" href="https://crate.io">
        <img src="../_static/images/logo-crate.png" width="217">
      </a>
      <nav class="w-nav-menu main-nav" role="navigation">
        <div class="dropdownBackground">
          <span class="arrow"></span>
        </div>
        <ul id="menu-top-navigation" class="menu">
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/overview/">CrateDB</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a href="https://crate.io/cratedb-solutions/">Use Cases</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/customers/">Customers</a></li>
              <li class="menu-item"><a href="https://crate.io/iot-sensor-solutions/">IoT &amp; Sensor Data</a></li>
              <li class="menu-item"><a href="https://crate.io/geospatial-analytics/">Geospatial Analytics</a></li>
              <li class="menu-item"><a href="https://crate.io/cyber-security/">Cyber Security</a></li>
              <li class="menu-item"><a href="https://crate.io/time-series/">Time Series</a></li>
            </ul>
          </li>
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/pricing/">Pricing</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a>Resources</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/docs/">Documentation</a></li>
              <li class="menu-item"><a href="https://crate.io/resources/">Resource Library</a></li>
              <li class="menu-item"><a href="https://crate.io/blog/">Blog</a></li>
              <li class="menu-item"><a href="https://crate.io/community/">Community</a></li>
            </ul>
          </li>
          <li class="btn-link w-nav-link menu-item"><a href="https://crate.io/download/">Download</a></li>
        </ul>
      </nav>

      <div id="mobile-nav" class="mm-menu">
        <ul class="offcanvas-menu">
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/overview/">CrateDB</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a href="https://crate.io/cratedb-solutions/">Use Cases</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/customers/">Customers</a></li>
              <li class="menu-item"><a href="https://crate.io/iot-sensor-solutions/">IoT &amp; Sensor Data</a></li>
              <li class="menu-item"><a href="https://crate.io/geospatial-analytics/">Geospatial Analytics</a></li>
              <li class="menu-item"><a href="https://crate.io/cyber-security/">Cyber Security</a></li>
              <li class="menu-item"><a href="https://crate.io/time-series/">Time Series</a></li>
            </ul>
          </li>
          <li class="navlink w-nav-link menu-item"><a href="https://crate.io/pricing/">Pricing</a></li>
          <li class="navlink w-nav-link menu-item menu-item-has-children"><a>Resources</a>
            <ul class="sub-menu">
              <li class="menu-item"><a href="https://crate.io/docs/">Documentation</a></li>
              <li class="menu-item"><a href="https://crate.io/resources/">Resource Library</a></li>
              <li class="menu-item"><a href="https://crate.io/blog/">Blog</a></li>
              <li class="menu-item"><a href="https://crate.io/community/">Community</a></li>
            </ul>
          </li>
          <li class="btn-link w-nav-link menu-item"><a href="https://crate.io/download/">Download</a></li>
        </ul>
      </div>

      <a href="#mobile-nav" class="fa fa-bars mobile-nav-button"></a>
    </div>
  </div>
</header>

  <div class="w-section section border-top">
    <div class="w-container w-hidden-main margin-bottom-32">
      <div class="section" style="margin: 0px">
        <a href="#" id="mobile-menu-toggler" class="w-button">Toggle Doc Menu</a>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-4 col-lg-3">
          <aside class="wrapper-navleft"><div role="complementary" class="bs-docs-sidebar hidden-print" id="nav-affix">
  <div class="search-link">
    <a href="../search.html" class="btn btn-primary">Search Documentation</a>
  </div>
  <ul class="bs-docs-sidenav bs-sidenav nav" role="complementary">

    

    
      <ul class="toctree nav nav-list">
  <li class="navleft-item">CrateDB</li>
  <ul>
    
    <li class="navleft-item"><a href="/docs/crate/getting-started/">Getting Started</a></li>
    
    
    <li class="current">
      <a class="current-active" href="../index.html" title="CrateDB">Reference</a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../run.html">Running CrateDB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../run.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../run.html#command-line-options">Command Line Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../run.html#signal-handling">Signal Handling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../config/node.html">Node Specific Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#basics">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#node-types">Node Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#read-only-node">Read-only node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#hosts">Hosts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#ports">Ports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#paths">Paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#plugins">Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#memory">Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#garbage-collection">Garbage Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#elasticsearch-http-rest-api">Elasticsearch HTTP REST API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#cross-origin-resource-sharing-cors">Cross-Origin Resource Sharing (CORS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#blobs">Blobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#repositories">Repositories</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#queries">Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/node.html#custom-attributes">Custom Attributes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../config/cluster.html">Cluster Wide Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#non-runtime-cluster-wide-settings">Non-Runtime Cluster Wide Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#collecting-stats">Collecting Stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#usage-data-collector">Usage Data Collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#graceful-stop">Graceful Stop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#bulk-operations">Bulk Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#discovery">Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#routing-allocation">Routing Allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#recovery">Recovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#store-level-throttling">Store Level Throttling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#query-circuit-breaker">Query Circuit Breaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#field-data-circuit-breaker">Field Data Circuit Breaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#request-circuit-breaker">Request Circuit Breaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#thread-pools">Thread Pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/cluster.html#metadata">Metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../config/session.html">Session Setting Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config/logging.html">Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/logging.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/logging.html#settings">Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../config/environment.html">Environment Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/environment.html#crate-home"><code class="docutils literal"><span class="pre">CRATE_HOME</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/environment.html#crate-java-opts"><code class="docutils literal"><span class="pre">CRATE_JAVA_OPTS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/environment.html#crate-heap-size"><code class="docutils literal"><span class="pre">CRATE_HEAP_SIZE</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../config/system.html">Operating System Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/system.html#virtual-memory">Virtual Memory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../config/enterprise.html">Enterprise Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../config/enterprise.html#enterprise-license">Enterprise License</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/enterprise.html#javascript-language">Javascript Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/enterprise.html#authentication">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../config/enterprise.html#secured-communications-ssl-tls">Secured Communications (SSL/TLS)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/ddl/index.html">Data Definition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/create-table.html">Creating Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/data-types.html">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/system-columns.html">System Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/generated-columns.html">Generated Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/constraints.html">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/storage.html">Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/partitioned-tables.html">Partitioned Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/sharding.html">Sharding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/replication.html">Replication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/column-policy.html">Column Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/fulltext-indices.html">Fulltext Indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/analyzers.html">Fulltext Analyzers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/show-create-table.html">Show Create Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/ddl/alter-table.html">Altering Tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/dml.html">Data Manipulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/dml.html#inserting-data">Inserting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dml.html#updating-data">Updating Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dml.html#deleting-data">Deleting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dml.html#import-and-export">Import and Export</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/dql/index.html">Querying Crate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/selects.html">Selecting Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/joins.html">Joins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/union.html">Union All</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/refresh.html">Refresh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/fulltext.html">Fulltext Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/dql/geo.html">Geo Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/builtins/index.html">Built-in Functions and Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/scalar.html">Scalar Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/aggregation.html">Aggregation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/arithmetic.html">Arithmetic Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/table-functions.html">Table Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/operators.html">Comparison Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/array-comparisons.html">Array Comparisons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/builtins/subquery-expressions.html">Subquery Expressions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/user-defined-functions.html">User-Defined Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#create-or-replace"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">OR</span> <span class="pre">REPLACE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#supported-types">Supported Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#overloading">Overloading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#determinism">Determinism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#drop-function"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/user-defined-functions.html#supported-languages">Supported Languages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/blobs.html">Blobs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#creating-a-table-for-blobs">Creating a Table for Blobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#custom-location-for-storing-blob-data">Custom Location for Storing Blob Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#list">List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#altering-a-blob-table">Altering a Blob Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#deleting-a-blob-table">Deleting a Blob Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/blobs.html#using-blob-tables">Using Blob Tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/occ.html">Optimistic Concurrency Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/occ.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/occ.html#optimistic-update">Optimistic Update</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/occ.html#optimistic-delete">Optimistic Delete</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/occ.html#known-limitations">Known Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../general/information-schema.html">Information Schema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../general/information-schema.html#access">Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/information-schema.html#virtual-tables">Virtual Tables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Administration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="system-information.html">System Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#cluster">Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#nodes">Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#node-checks">Node Checks</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#shards">Shards</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#jobs-operations-and-logs">Jobs, Operations, and Logs</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#cluster-checks">Cluster Checks</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#repositories">Repositories</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#snapshots">Snapshots</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#summits">Summits</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#users">Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#allocations">Allocations</a></li>
<li class="toctree-l3"><a class="reference internal" href="system-information.html#shard-table-permissions">Shard Table Permissions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="runtime-config.html">Runtime Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-management.html">User Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="user-management.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="user-management.html#create-user"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user-management.html#alter-user"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user-management.html#drop-user"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="user-management.html#list-users">List Users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="privileges.html">Privileges</a><ul>
<li class="toctree-l3"><a class="reference internal" href="privileges.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="privileges.html#privilege-types">Privilege Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="privileges.html#hierarchical-inheritance-of-privileges">Hierarchical Inheritance of Privileges</a></li>
<li class="toctree-l3"><a class="reference internal" href="privileges.html#behavior-of-grant-deny-and-revoke">Behavior of <code class="docutils literal"><span class="pre">GRANT</span></code>, <code class="docutils literal"><span class="pre">DENY</span></code> and <code class="docutils literal"><span class="pre">REVOKE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="privileges.html#list-privileges">List Privileges</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="auth/index.html">Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auth/methods.html">Authentication Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="auth/hba.html">Host Based Authentication (HBA)</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Secured Communications (SSL/TLS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ssl-tls-configuration">SSL/TLS Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-a-keystore-truststore-with-a-certificate-chain">Setting up a Keystore/Truststore With a Certificate Chain</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ingestion/index.html">Ingestion Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ingestion/sources/index.html">Ingestion Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="ingestion/rules.html">Ingestion Rules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="optimization.html">Optimization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="optimization.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="optimization.html#multiple-table-optimization">Multiple Table Optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="optimization.html#partition-optimization">Partition Optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="optimization.html#segments-upgrade">Segments Upgrade</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="jobs-management.html">Jobs Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">JMX Monitoring</a><ul>
<li class="toctree-l3"><a class="reference internal" href="monitoring.html#setup">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="monitoring.html#using-docker">Using Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="monitoring.html#jmx-beans">JMX Beans</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="snapshots.html">Snapshots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="snapshots.html#snapshot">Snapshot</a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshots.html#restore">Restore</a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshots.html#cleanup">Cleanup</a></li>
<li class="toctree-l3"><a class="reference internal" href="snapshots.html#requirements-for-using-hdfs-repositories">Requirements for Using HDFS Repositories</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="discovery.html">Cloud Discovery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="discovery.html#amazon-ec2-discovery">Amazon EC2 Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="discovery.html#microsoft-azure-discovery">Microsoft Azure Discovery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="udc.html">Usage Data Collector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="udc.html#technical-information">Technical Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="udc.html#admin-ui-tracking">Admin UI Tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="udc.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="udc.html#how-to-disable-udc">How to Disable UDC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sql/index.html">SQL Syntax</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sql/general/index.html">General SQL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sql/general/constraints.html">Constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/general/value-expressions.html">Value Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/general/lexical-structure.html">Lexical Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sql/statements/index.html">SQL Statements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/alter-cluster.html"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">CLUSTER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/alter-table.html"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/alter-user.html"><code class="docutils literal"><span class="pre">ALTER</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/copy-from.html"><code class="docutils literal"><span class="pre">COPY</span> <span class="pre">FROM</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/copy-to.html"><code class="docutils literal"><span class="pre">COPY</span> <span class="pre">TO</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-analyzer.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">ANALYZER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-blob-table.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">BLOB</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-function.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-ingest-rule.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">INGEST</span> <span class="pre">RULE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-repository.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">REPOSITORY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-snapshot.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">SNAPSHOT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-table.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/create-user.html"><code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/delete.html"><code class="docutils literal"><span class="pre">DELETE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/deny.html"><code class="docutils literal"><span class="pre">DENY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-function.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-ingest-rule.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">INGEST</span> <span class="pre">RULE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-repository.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">REPOSITORY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-snapshot.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">SNAPSHOT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-table.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/drop-user.html"><code class="docutils literal"><span class="pre">DROP</span> <span class="pre">USER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/explain.html"><code class="docutils literal"><span class="pre">EXPLAIN</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/grant.html"><code class="docutils literal"><span class="pre">GRANT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/insert.html"><code class="docutils literal"><span class="pre">INSERT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/kill.html"><code class="docutils literal"><span class="pre">KILL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/optimize.html"><code class="docutils literal"><span class="pre">OPTIMIZE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/refresh.html"><code class="docutils literal"><span class="pre">REFRESH</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/restore-snapshot.html"><code class="docutils literal"><span class="pre">RESTORE</span> <span class="pre">SNAPSHOT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/revoke.html"><code class="docutils literal"><span class="pre">REVOKE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/select.html"><code class="docutils literal"><span class="pre">SELECT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/set.html"><code class="docutils literal"><span class="pre">SET</span></code> and <code class="docutils literal"><span class="pre">RESET</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/set-transaction.html"><code class="docutils literal"><span class="pre">SET</span> <span class="pre">TRANSACTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/show-columns.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">COLUMNS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/show-create-table.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">CREATE</span> <span class="pre">TABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/show-schemas.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">SCHEMAS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/show-tables.html"><code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">TABLES</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../sql/statements/update.html"><code class="docutils literal"><span class="pre">UPDATE</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../interfaces/index.html">Client Interfaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/http.html">HTTP Endpoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#parameter-substitution">Parameter Substitution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#default-schema">Default Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#column-types">Column Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#bulk-operations">Bulk Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/http.html#error-handling">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../interfaces/postgres.html">PostgreSQL Wire Protocol</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/postgres.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/postgres.html#server-compatibility-and-implementation-status">Server Compatibility and Implementation Status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/postgres.html#client-compatibility">Client Compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../interfaces/postgres.html#implementation-differences">Implementation Differences</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../enterprise/index.html">Enterprise Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/index.html">Appendices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../appendices/release-notes/index.html">Release Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../appendices/release-notes/index.html#x">2.x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/release-notes/index.html#id6">1.x</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/sql-compliance.html">Standard SQL Compliance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#data-types">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#create-table">Create Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#alter-table">Alter Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#insert-update-and-delete">Insert, Update, and Delete</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#system-information-tables">System Information Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#blob-support">BLOB Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#transactions-begin-commit-and-rollback">Transactions (<code class="docutils literal"><span class="pre">BEGIN</span></code>, <code class="docutils literal"><span class="pre">COMMIT</span></code>, and <code class="docutils literal"><span class="pre">ROLLBACK</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../appendices/sql-compliance.html#unsupported-features-and-functions">Unsupported Features and Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/supported-features.html">Supported Features</a></li>
</ul>
</li>
</ul>

    </li>
    
    
    <li class="navleft-item"><a href="/docs/crate/guide">Guide</a></li>
    
  </ul>
  <li class="navleft-item">CrateDB Clients</li>
  <ul>
    
    <li class="navleft-item"><a href="/docs/clients/crash">The CrateDB Shell</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/python">Python</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/jdbc">JDBC</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/dbal">PHP DBAL</a></li>
    
    
    <li class="navleft-item"><a href="/docs/clients/pdo">PHP PDO</a></li>
    
  </ul>

  <li class="navleft-item border-top"><a href="https://github.com/crate/crate-sample-apps">Sample Applications</a></li>
  <li class="navleft-item"><a href="/docs/support/">Support</a></li>
</ul>
    

    
      
      
    

    
    

    
      <li></li>
    

  </ul>
</div>
            
          </aside>
        </div>
        <div class="col-md-8 col-lg-9">
          <div class="wrapper-content-right">
            
  <div class="section" id="secured-communications-ssl-tls">
<span id="admin-ssl"></span><h1>Secured Communications (SSL/TLS)<a class="headerlink" href="#secured-communications-ssl-tls" title="Permalink to this headline">¶</a></h1>
<p>Secured communication allows you to encrypt traffic between the CrateDB node
and a client. This applies to connections using HTTP (i.e. <a class="reference external" href="https://crate.io/docs/crate/guide/getting_started/connect/admin_ui.html">Admin UI</a>,
<a class="reference external" href="https://crate.io/docs/crate/guide/getting_started/connect/crash.html">Crash</a>,
<a class="reference internal" href="../interfaces/http.html#sql-http-endpoint"><span class="std std-ref">HTTP Endpoint</span></a>), the <a class="reference internal" href="../interfaces/postgres.html#postgres-wire-protocol"><span class="std std-ref">PostgreSQL Wire Protocol</span></a> (i.e. JDBC, psql),
and <a class="reference internal" href="ingestion/sources/mqtt.html#ingest-mqtt"><span class="std std-ref">MQTT Ingestion Source</span></a>.</p>
<p>Connections are secured using Transport Layer Security (TLS).</p>
<p>Note that once SSL is enabled for HTTP connections, only connections using
HTTPS are allowed. Same applies to secure MQTT connections.
This is in contrast to the PostgreSQL Wire Protocol, which still allows
non-encrypted connections when SSL is enabled. If you want to enforce SSL
usage, please consult the <a class="reference internal" href="auth/hba.html#admin-hba"><span class="std std-ref">Host Based Authentication (HBA)</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><em>Secured Communications</em> is an Enterprise Edition feature.</p>
</div>
<p class="rubric">Table of Contents</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#ssl-tls-configuration" id="id1">SSL/TLS Configuration</a><ul>
<li><a class="reference internal" href="#configure-the-keystore" id="id2">Configure the KeyStore</a></li>
<li><a class="reference internal" href="#configure-a-separate-truststore" id="id3">Configure a Separate Truststore</a></li>
<li><a class="reference internal" href="#connecting-to-a-cratedb-node-using-https" id="id4">Connecting to a CrateDB Node Using HTTPS</a><ul>
<li><a class="reference internal" href="#connect-to-a-cratedb-node-using-the-admin-ui" id="id5">Connect to a CrateDB Node Using the Admin UI</a></li>
<li><a class="reference internal" href="#connect-to-a-cratedb-node-using-crash" id="id6">Connect to a CrateDB Node Using Crash</a></li>
<li><a class="reference internal" href="#connect-to-a-cratedb-node-using-rest" id="id7">Connect to a CrateDB Node Using REST</a></li>
</ul>
</li>
<li><a class="reference internal" href="#connecting-to-a-cratedb-node-using-postgresql-wire-protocol-with-ssl-tls" id="id8">Connecting to a CrateDB Node Using PostgreSQL Wire Protocol With SSL/TLS</a><ul>
<li><a class="reference internal" href="#connect-to-a-cratedb-node-using-jdbc" id="id9">Connect to a CrateDB Node Using JDBC</a></li>
<li><a class="reference internal" href="#connect-to-a-cratedb-node-using-psql" id="id10">Connect to a CrateDB Node Using <code class="docutils literal"><span class="pre">psql</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#connecting-to-a-cratedb-mqtt-endpoint-with-ssl-tls" id="id11">Connecting to a CrateDB MQTT Endpoint With SSL/TLS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setting-up-a-keystore-truststore-with-a-certificate-chain" id="id12">Setting up a Keystore/Truststore With a Certificate Chain</a><ul>
<li><a class="reference internal" href="#generate-keystore-with-a-private-key" id="id13">Generate Keystore With a Private Key</a></li>
<li><a class="reference internal" href="#generate-a-certificate-signing-request" id="id14">Generate a Certificate Signing Request</a></li>
<li><a class="reference internal" href="#optional-use-a-self-signed-certificate-to-act-as-a-certificate-authority-ca" id="id15">Optional: Use a Self-Signed Certificate to Act as a Certificate Authority (CA)</a><ul>
<li><a class="reference internal" href="#generate-a-self-signed-certificate" id="id16">Generate a Self-Signed Certificate</a></li>
<li><a class="reference internal" href="#generate-a-signed-cert" id="id17">Generate a Signed Cert</a></li>
<li><a class="reference internal" href="#import-the-ca-certificate-into-the-keystore" id="id18">Import the CA Certificate Into the Keystore</a></li>
<li><a class="reference internal" href="#import-ca-into-truststore" id="id19">Import CA Into Truststore</a></li>
</ul>
</li>
<li><a class="reference internal" href="#import-the-signed-certificate" id="id20">Import the Signed Certificate</a></li>
<li><a class="reference internal" href="#configuring-cratedb" id="id21">Configuring CrateDB</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="ssl-tls-configuration">
<h2><a class="toc-backref" href="#id1">SSL/TLS Configuration</a><a class="headerlink" href="#ssl-tls-configuration" title="Permalink to this headline">¶</a></h2>
<p>To enable SSL a <code class="docutils literal"><span class="pre">keystore</span></code> and a few configuration changes are necessary.
These changes need to be made in the <code class="docutils literal"><span class="pre">crate.yml</span></code> file on <em>each</em> node that
should have secure communications enabled.</p>
<p>Skip to <a class="reference internal" href="#ssl-generate-keystore"><span class="std std-ref">Generate Keystore With a Private Key</span></a> for a step-by-step instruction on how to
create a <code class="docutils literal"><span class="pre">keystore</span></code>.</p>
<p>Once the <code class="docutils literal"><span class="pre">keystore</span></code> (and optional <code class="docutils literal"><span class="pre">truststore</span></code>) is created, continue with
the following steps:</p>
<blockquote>
<div><ul class="simple">
<li>Set <code class="docutils literal"><span class="pre">ssl.psql.enabled</span></code>, <code class="docutils literal"><span class="pre">ssl.http.enabled</span></code> or <code class="docutils literal"><span class="pre">ssl.ingestion.mqtt.enabled</span></code>
to <code class="docutils literal"><span class="pre">true</span></code>.</li>
<li><a class="reference internal" href="#ssl-configure-keystore"><span class="std std-ref">Configure the KeyStore</span></a></li>
<li>(Optional) <a class="reference internal" href="#ssl-configure-truststore"><span class="std std-ref">Configure a Separate Truststore</span></a></li>
</ul>
</div></blockquote>
<div class="section" id="configure-the-keystore">
<span id="ssl-configure-keystore"></span><h3><a class="toc-backref" href="#id2">Configure the KeyStore</a><a class="headerlink" href="#configure-the-keystore" title="Permalink to this headline">¶</a></h3>
<p>SSL/TLS needs a keystore. The keystore holds the node certificate(s) which
should be signed by a certificate authority (CA). A third-party CA or your
organization&#8217;s existing CA can be used.</p>
<p>When a client connects to a node using SSL/TLS, the client receives the
certificate provided by the node and will determine if the node&#8217;s certificate
is valid, trusted, and matches the hostname or IP address it is trying to
connect to.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Technically, it&#8217;s possible to disable CA checks for certificates on the
client. It is strongly recommended however to use certificates signed by
an official CA or by a private CA (company PKI) that is also known to the
client. This will help to ensure that establishing trust is as painless
as possible.</p>
</div>
<p>See <a class="reference internal" href="#ssl-generate-keystore"><span class="std std-ref">Generate Keystore With a Private Key</span></a> for information about how to create a keystore.</p>
<p>Once the keystore is prepared, define the absolute file path to the keystore
<code class="docutils literal"><span class="pre">.jks</span></code> file on the node using <code class="docutils literal"><span class="pre">ssl.keystore_filepath</span></code> setting.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure that the keystore file has the right permissions and is
accessible by the system user <code class="docutils literal"><span class="pre">crate</span></code>.</p>
</div>
<p>Also, define the password needed to decrypt the keystore by using the
<code class="docutils literal"><span class="pre">ssl.keystore_password</span></code> setting.</p>
<p>Use <code class="docutils literal"><span class="pre">ssl.keystore_key_password</span></code> setting to define the key password used when
creating the keystore.</p>
<p>For a full list of the settings needed to configure SSL/TLS, refer to
<a class="reference internal" href="../config/enterprise.html#ssl-config"><span class="std std-ref">SSL configuration reference</span></a>.</p>
</div>
<div class="section" id="configure-a-separate-truststore">
<span id="ssl-configure-truststore"></span><h3><a class="toc-backref" href="#id3">Configure a Separate Truststore</a><a class="headerlink" href="#configure-a-separate-truststore" title="Permalink to this headline">¶</a></h3>
<p>Trusted CA certificates can be stored in a node&#8217;s keystore or a separate
truststore can be used to store them.</p>
<p>If you want to use a separate truststore, create a node truststore and import
the CA certificate(s) you want to trust. Once the truststore is prepared,
define the absolute file path of the truststore <code class="docutils literal"><span class="pre">.jks</span></code> file on the node
using the <code class="docutils literal"><span class="pre">ssl.truststore_filepath</span></code> setting.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure that the truststore file has the right permissions and is
accessible by the system user <code class="docutils literal"><span class="pre">crate</span></code>.</p>
</div>
<p>Also define the password needed to decrypt the keystore by using the
<code class="docutils literal"><span class="pre">ssl.truststore_password</span></code> setting.</p>
<p>For a full list of the settings needed to configure SSL/TLS, refer to
<a class="reference internal" href="../config/enterprise.html#ssl-config"><span class="std std-ref">SSL configuration reference</span></a>.</p>
</div>
<div class="section" id="connecting-to-a-cratedb-node-using-https">
<h3><a class="toc-backref" href="#id4">Connecting to a CrateDB Node Using HTTPS</a><a class="headerlink" href="#connecting-to-a-cratedb-node-using-https" title="Permalink to this headline">¶</a></h3>
<div class="section" id="connect-to-a-cratedb-node-using-the-admin-ui">
<h4><a class="toc-backref" href="#id5">Connect to a CrateDB Node Using the Admin UI</a><a class="headerlink" href="#connect-to-a-cratedb-node-using-the-admin-ui" title="Permalink to this headline">¶</a></h4>
<p>Crate&#8217;s HTTP endpoint remains unchanged. When you have turned on secure
communication, it will use HTTPS instead of plain HTTP. Simply point your
browser to the same URL you used before but changing the protocol to https:</p>
<p>For example, <code class="docutils literal"><span class="pre">http://localhost:4200</span></code> becomes <code class="docutils literal"><span class="pre">https://localhost:4200</span></code>.
If you have not configured the CrateDB node&#8217;s Keystore with a signed
certificate from a Certificate Authority (CA), then you will get something
like the following: <code class="docutils literal"><span class="pre">NET::ERR_CERT_AUTHORITY_INVALID</span></code>. You either need to
get your certificate signed from one of the CAs included in your browser or
import your owned certificates into the browser. A third option is storing
an exception for the CrateDB node certification in your browser after
verifying that this is indeed a certificate you trust.</p>
</div>
<div class="section" id="connect-to-a-cratedb-node-using-crash">
<h4><a class="toc-backref" href="#id6">Connect to a CrateDB Node Using Crash</a><a class="headerlink" href="#connect-to-a-cratedb-node-using-crash" title="Permalink to this headline">¶</a></h4>
<p>You can connect to a CrateDB node using a secure communication:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">crash</span> <span class="o">--</span><span class="n">hosts</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">4200</span>
</pre></div>
</div>
<p>To validate the provided certificates, please see the options
<code class="docutils literal"><span class="pre">--verify-ssl</span></code> and <code class="docutils literal"><span class="pre">--key-file</span></code>.</p>
</div>
<div class="section" id="connect-to-a-cratedb-node-using-rest">
<h4><a class="toc-backref" href="#id7">Connect to a CrateDB Node Using REST</a><a class="headerlink" href="#connect-to-a-cratedb-node-using-rest" title="Permalink to this headline">¶</a></h4>
<p>Issue your REST requests to the node using the <code class="docutils literal"><span class="pre">https://</span></code> protocol. You
may have to configure your client to validate the received certificate
accordingly.</p>
</div>
</div>
<div class="section" id="connecting-to-a-cratedb-node-using-postgresql-wire-protocol-with-ssl-tls">
<h3><a class="toc-backref" href="#id8">Connecting to a CrateDB Node Using PostgreSQL Wire Protocol With SSL/TLS</a><a class="headerlink" href="#connecting-to-a-cratedb-node-using-postgresql-wire-protocol-with-ssl-tls" title="Permalink to this headline">¶</a></h3>
<div class="section" id="connect-to-a-cratedb-node-using-jdbc">
<h4><a class="toc-backref" href="#id9">Connect to a CrateDB Node Using JDBC</a><a class="headerlink" href="#connect-to-a-cratedb-node-using-jdbc" title="Permalink to this headline">¶</a></h4>
<p>JDBC needs to validate the CrateDB node&#8217;s identity by checking that the node
certificate is signed by a trusted authority. If the certificate is signed by
a certificate authority (CA) that is known to the Java runtime, there is
nothing further to do (as Java comes with copies of the most common CA&#8217;s
certificates).</p>
<p>If you have a certificate that is signed by a CA not known to the Java
runtime, you need to configure a truststore which contains the node&#8217;s
certificate and provide the path to the truststore file along with the
password when starting your Java application:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">java</span> <span class="o">-</span><span class="n">Djavax</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">ssl</span><span class="o">.</span><span class="n">trustStore</span><span class="o">=</span><span class="n">mystore</span> <span class="o">-</span><span class="n">Djavax</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">ssl</span><span class="o">.</span><span class="n">trustStorePassword</span><span class="o">=</span><span class="n">mypassword</span> <span class="n">com</span><span class="o">.</span><span class="n">mycompany</span><span class="o">.</span><span class="n">MyApp</span>
</pre></div>
</div>
<p>In case you face any issues extra debugging information is available by adding
<code class="docutils literal"><span class="pre">-Djavax.net.debug=ssl</span></code> to your command line.</p>
<p>Last but not least, the connection parameter <code class="docutils literal"><span class="pre">ssl=true</span></code> must be added to the
connection URL so that the JDBC driver will try and establish an SSL
connection.</p>
<p>For further information, visit <a class="reference external" href="https://jdbc.postgresql.org/documentation/head/ssl-client.html">jdbc ssl documentation</a>.</p>
</div>
<div class="section" id="connect-to-a-cratedb-node-using-psql">
<h4><a class="toc-backref" href="#id10">Connect to a CrateDB Node Using <code class="docutils literal"><span class="pre">psql</span></code></a><a class="headerlink" href="#connect-to-a-cratedb-node-using-psql" title="Permalink to this headline">¶</a></h4>
<p>By default, <code class="docutils literal"><span class="pre">psql</span></code> attempts to use ssl if available on the node. For further
information including the different SSL modes please visit the
<a class="reference external" href="https://www.postgresql.org/docs/current/static/app-psql.html">psql documentation</a>.</p>
</div>
</div>
<div class="section" id="connecting-to-a-cratedb-mqtt-endpoint-with-ssl-tls">
<h3><a class="toc-backref" href="#id11">Connecting to a CrateDB MQTT Endpoint With SSL/TLS</a><a class="headerlink" href="#connecting-to-a-cratedb-mqtt-endpoint-with-ssl-tls" title="Permalink to this headline">¶</a></h3>
<p>A CrateDB node configured to run as an <a class="reference internal" href="ingestion/sources/mqtt.html#ingest-mqtt"><span class="std std-ref">MQTT endpoint</span></a> can
only accept encrypted connections if SSL ingestion is enabled, namely if the
<a class="reference internal" href="../config/enterprise.html#ssl-ingestion-mqtt-enabled"><span class="std std-ref">ssl.ingestion.mqtt.enabled</span></a> setting is
configured to <code class="docutils literal"><span class="pre">true</span></code> and the <a class="reference internal" href="ingestion/sources/mqtt.html#ingestion-mqtt-port"><span class="std std-ref">ingestion.mqtt.port</span></a>
setting is <code class="docutils literal"><span class="pre">8883</span></code>.</p>
</div>
</div>
<div class="section" id="setting-up-a-keystore-truststore-with-a-certificate-chain">
<h2><a class="toc-backref" href="#id12">Setting up a Keystore/Truststore With a Certificate Chain</a><a class="headerlink" href="#setting-up-a-keystore-truststore-with-a-certificate-chain" title="Permalink to this headline">¶</a></h2>
<p>In case you need to setup a Keystore or a Trustore, here are the commands
to get you started. All the commands use a validity of 36500 days
(about 100 years). You might want to use less.</p>
<div class="section" id="generate-keystore-with-a-private-key">
<span id="ssl-generate-keystore"></span><h3><a class="toc-backref" href="#id13">Generate Keystore With a Private Key</a><a class="headerlink" href="#generate-keystore-with-a-private-key" title="Permalink to this headline">¶</a></h3>
<p>The first step is to create a keystore with a private key using the RSA
algorithm. The &#8220;first and last name&#8221; is the common name (CN) which should
overlap with the URL the service it is used with.</p>
<p>Command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">keytool</span> <span class="o">-</span><span class="n">keystore</span> <span class="n">keystore</span> <span class="o">-</span><span class="n">genkey</span> <span class="o">-</span><span class="n">keyalg</span> <span class="n">RSA</span> <span class="o">-</span><span class="n">alias</span> <span class="n">server</span> <span class="o">-</span><span class="n">validity</span> <span class="mi">36500</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Enter keystore password:
Re-enter new password:
What is your first and last name?
  [Unknown]:  ssl.crate.io
What is the name of your organizational unit?
  [Unknown]:  Cryptography Department
What is the name of your organization?
  [Unknown]:  Crate.io GmbH
What is the name of your City or Locality?
  [Unknown]:  Berlin
What is the name of your State or Province?
  [Unknown]:  Berlin
What is the two-letter country code for this unit?
  [Unknown]:  DE
Is CN=ssl.crate.io, OU=Cryptography Department, O=Crate.io GmbH, L=Berlin, ST=Berlin, C=DE correct?
  [no]:  yes

Enter key password for &lt;server&gt;
    (RETURN if same as keystore password):
Re-enter new password:
</pre></div>
</div>
</div>
<div class="section" id="generate-a-certificate-signing-request">
<h3><a class="toc-backref" href="#id14">Generate a Certificate Signing Request</a><a class="headerlink" href="#generate-a-certificate-signing-request" title="Permalink to this headline">¶</a></h3>
<p>To establish trust for this key, we need to sign it. This is done by generating
a certificate signing request.</p>
<p>If you have access to a certificate authority (CA), you can skip the next
steps and get the signed certificate from the CA using the signing request which
we will generate with the command below. If you don&#8217;t have access to a CA, then
follow the optional steps after this step to establish your own CA.</p>
<p>Command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">keytool</span> <span class="o">-</span><span class="n">keystore</span> <span class="n">keystore</span> <span class="o">-</span><span class="n">certreq</span> <span class="o">-</span><span class="n">alias</span> <span class="n">server</span> <span class="o">-</span><span class="n">keyalg</span> <span class="n">RSA</span> <span class="o">-</span><span class="n">file</span> <span class="n">server</span><span class="o">.</span><span class="n">csr</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Enter</span> <span class="n">keystore</span> <span class="n">password</span><span class="p">:</span>
<span class="n">Enter</span> <span class="n">key</span> <span class="n">password</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">server</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="optional-use-a-self-signed-certificate-to-act-as-a-certificate-authority-ca">
<h3><a class="toc-backref" href="#id15">Optional: Use a Self-Signed Certificate to Act as a Certificate Authority (CA)</a><a class="headerlink" href="#optional-use-a-self-signed-certificate-to-act-as-a-certificate-authority-ca" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only follow these optional steps if you want to create your own
Certificate Authority (CA). Otherwise, please request a signed
certificate from one of the CAs bundled with Java.</p>
</div>
<div class="section" id="generate-a-self-signed-certificate">
<h4><a class="toc-backref" href="#id16">Generate a Self-Signed Certificate</a><a class="headerlink" href="#generate-a-self-signed-certificate" title="Permalink to this headline">¶</a></h4>
<p>If you don&#8217;t get your certificate signed from one of the official CAs,
you might want to create your own CA with a self-signed certificate.
The common name (CN) should overlap with the CN of the server key
generated in the first step. For example, <code class="docutils literal"><span class="pre">ssl.crate.io</span></code> overlaps
with <cite>*.crate.io</cite>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In this step by step guide it is shown how to create a server certificate.
If you want to create a client certificate the steps are almost the same
with the exception of providing a common name that is equivalent to the
crate username as described in <a class="reference internal" href="auth/methods.html#auth-cert"><span class="std std-ref">client certificate authentication
method</span></a>.</p>
</div>
<p>Command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">openssl</span> <span class="n">req</span> <span class="o">-</span><span class="n">x509</span> <span class="o">-</span><span class="n">sha256</span> <span class="o">-</span><span class="n">nodes</span> <span class="o">-</span><span class="n">days</span> <span class="mi">36500</span> <span class="o">-</span><span class="n">newkey</span> <span class="n">rsa</span><span class="p">:</span><span class="mi">2048</span> \
    <span class="o">-</span><span class="n">keyout</span> <span class="n">rootCA</span><span class="o">.</span><span class="n">key</span> <span class="o">-</span><span class="n">out</span> <span class="n">rootCA</span><span class="o">.</span><span class="n">crt</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Generating</span> <span class="n">a</span> <span class="mi">2048</span> <span class="n">bit</span> <span class="n">RSA</span> <span class="n">private</span> <span class="n">key</span>
<span class="o">.......................................................................+++</span>
<span class="o">.............................................................+++</span>
<span class="n">writing</span> <span class="n">new</span> <span class="n">private</span> <span class="n">key</span> <span class="n">to</span> <span class="s1">&#39;rootCA.key&#39;</span>
<span class="o">-----</span>
<span class="n">You</span> <span class="n">are</span> <span class="n">about</span> <span class="n">to</span> <span class="n">be</span> <span class="n">asked</span> <span class="n">to</span> <span class="n">enter</span> <span class="n">information</span> <span class="n">that</span> <span class="n">will</span> <span class="n">be</span> <span class="n">incorporated</span>
<span class="n">into</span> <span class="n">your</span> <span class="n">certificate</span> <span class="n">request</span><span class="o">.</span>
<span class="n">What</span> <span class="n">you</span> <span class="n">are</span> <span class="n">about</span> <span class="n">to</span> <span class="n">enter</span> <span class="ow">is</span> <span class="n">what</span> <span class="ow">is</span> <span class="n">called</span> <span class="n">a</span> <span class="n">Distinguished</span> <span class="n">Name</span> <span class="ow">or</span> <span class="n">a</span> <span class="n">DN</span><span class="o">.</span>
<span class="n">There</span> <span class="n">are</span> <span class="n">quite</span> <span class="n">a</span> <span class="n">few</span> <span class="n">fields</span> <span class="n">but</span> <span class="n">you</span> <span class="n">can</span> <span class="n">leave</span> <span class="n">some</span> <span class="n">blank</span>
<span class="n">For</span> <span class="n">some</span> <span class="n">fields</span> <span class="n">there</span> <span class="n">will</span> <span class="n">be</span> <span class="n">a</span> <span class="n">default</span> <span class="n">value</span><span class="p">,</span>
<span class="n">If</span> <span class="n">you</span> <span class="n">enter</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">the</span> <span class="n">field</span> <span class="n">will</span> <span class="n">be</span> <span class="n">left</span> <span class="n">blank</span><span class="o">.</span>
<span class="o">-----</span>
<span class="n">Country</span> <span class="n">Name</span> <span class="p">(</span><span class="mi">2</span> <span class="n">letter</span> <span class="n">code</span><span class="p">)</span> <span class="p">[</span><span class="n">AU</span><span class="p">]:</span><span class="n">AT</span>
<span class="n">State</span> <span class="ow">or</span> <span class="n">Province</span> <span class="n">Name</span> <span class="p">(</span><span class="n">full</span> <span class="n">name</span><span class="p">)</span> <span class="p">[</span><span class="n">Some</span><span class="o">-</span><span class="n">State</span><span class="p">]:</span><span class="n">Vorarlberg</span>
<span class="n">Locality</span> <span class="n">Name</span> <span class="p">(</span><span class="n">eg</span><span class="p">,</span> <span class="n">city</span><span class="p">)</span> <span class="p">[]:</span><span class="n">Dornbirn</span>
<span class="n">Organization</span> <span class="n">Name</span> <span class="p">(</span><span class="n">eg</span><span class="p">,</span> <span class="n">company</span><span class="p">)</span> <span class="p">[</span><span class="n">Internet</span> <span class="n">Widgits</span> <span class="n">Pty</span> <span class="n">Ltd</span><span class="p">]:</span><span class="n">Crate</span><span class="o">.</span><span class="n">io</span>
<span class="n">Organizational</span> <span class="n">Unit</span> <span class="n">Name</span> <span class="p">(</span><span class="n">eg</span><span class="p">,</span> <span class="n">section</span><span class="p">)</span> <span class="p">[]:</span><span class="n">Cryptography</span> <span class="n">Department</span>
<span class="n">Common</span> <span class="n">Name</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">server</span> <span class="n">FQDN</span> <span class="ow">or</span> <span class="n">YOUR</span> <span class="n">name</span><span class="p">)</span> <span class="p">[]:</span><span class="o">*.</span><span class="n">crate</span><span class="o">.</span><span class="n">io</span>
<span class="n">Email</span> <span class="n">Address</span> <span class="p">[]:</span><span class="n">info</span><span class="nd">@crate</span><span class="o">.</span><span class="n">io</span>
</pre></div>
</div>
</div>
<div class="section" id="generate-a-signed-cert">
<h4><a class="toc-backref" href="#id17">Generate a Signed Cert</a><a class="headerlink" href="#generate-a-signed-cert" title="Permalink to this headline">¶</a></h4>
<p>In order that the server can prove itself to have a valid and trusted domain it
is required that the server certificate contains <a class="reference external" href="http://wiki.cacert.org/FAQ/subjectAltName">subjectAltName</a>.</p>
<p>Create a file called <code class="docutils literal"><span class="pre">ssl.ext</span></code> with the following content. In section
<code class="docutils literal"><span class="pre">[alt_names]</span></code> list valid domain names of the server:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">authorityKeyIdentifier</span><span class="o">=</span><span class="n">keyid</span><span class="p">,</span><span class="n">issuer</span>
<span class="n">basicConstraints</span><span class="o">=</span><span class="n">CA</span><span class="p">:</span><span class="n">FALSE</span>
<span class="n">keyUsage</span> <span class="o">=</span> <span class="n">digitalSignature</span><span class="p">,</span> <span class="n">nonRepudiation</span><span class="p">,</span> <span class="n">keyEncipherment</span><span class="p">,</span> <span class="n">dataEncipherment</span>
<span class="n">subjectAltName</span> <span class="o">=</span> <span class="nd">@alt_names</span>

<span class="p">[</span><span class="n">alt_names</span><span class="p">]</span>
<span class="n">DNS</span><span class="o">.</span><span class="mi">1</span> <span class="o">=</span> <span class="n">www</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>Now you can generate a signed cert from our certificate signing request.</p>
<p>Command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">openssl</span> <span class="n">x509</span> <span class="o">-</span><span class="n">req</span> <span class="o">-</span><span class="ow">in</span> <span class="n">server</span><span class="o">.</span><span class="n">csr</span> <span class="o">-</span><span class="n">CA</span> <span class="n">rootCA</span><span class="o">.</span><span class="n">crt</span> <span class="o">-</span><span class="n">CAkey</span> <span class="n">rootCA</span><span class="o">.</span><span class="n">key</span> \
    <span class="o">-</span><span class="n">CAcreateserial</span> <span class="o">-</span><span class="n">out</span> <span class="n">server</span><span class="o">.</span><span class="n">crt</span> <span class="o">-</span><span class="n">sha256</span> <span class="o">-</span><span class="n">days</span> <span class="mi">36500</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Signature</span> <span class="n">ok</span>
<span class="n">subject</span><span class="o">=/</span><span class="n">C</span><span class="o">=</span><span class="n">DE</span><span class="o">/</span><span class="n">ST</span><span class="o">=</span><span class="n">Berlin</span><span class="o">/</span><span class="n">L</span><span class="o">=</span><span class="n">Berlin</span><span class="o">/</span><span class="n">O</span><span class="o">=</span><span class="n">Crate</span><span class="o">.</span><span class="n">io</span> <span class="n">GmbH</span><span class="o">/</span><span class="n">OU</span><span class="o">=</span><span class="n">Cryptography</span> <span class="n">Department</span><span class="o">/</span><span class="n">CN</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">crate</span><span class="o">.</span><span class="n">io</span>
<span class="n">Getting</span> <span class="n">CA</span> <span class="n">Private</span> <span class="n">Key</span>
</pre></div>
</div>
</div>
<div class="section" id="import-the-ca-certificate-into-the-keystore">
<h4><a class="toc-backref" href="#id18">Import the CA Certificate Into the Keystore</a><a class="headerlink" href="#import-the-ca-certificate-into-the-keystore" title="Permalink to this headline">¶</a></h4>
<p>The CA needs to be imported to the Keystore for the certificate chain to be
available when we import our signed certificate.</p>
<p>Command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">keytool</span> <span class="o">-</span><span class="kn">import</span> <span class="o">-</span><span class="n">keystore</span> <span class="n">keystore</span> <span class="o">-</span><span class="n">file</span> <span class="n">rootCA</span><span class="o">.</span><span class="n">crt</span> <span class="o">-</span><span class="n">alias</span> <span class="n">theCARoot</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Enter keystore password:
Owner: EMAILADDRESS=info@crate.io, CN=*.crate.io, OU=Cryptography Department, O=Crate.io, L=Dornbirn, ST=Vorarlberg, C=AT
Issuer: EMAILADDRESS=info@crate.io, CN=*.crate.io, OU=Cryptography Department, O=Crate.io, L=Dornbirn, ST=Vorarlberg, C=AT
Serial number: f13562ec6184401e
Valid from: Mon Jun 12 13:09:17 CEST 2017 until: Wed May 19 13:09:17 CEST 2117
Certificate fingerprints:
     MD5:  BB:A1:79:53:FE:71:EC:61:2A:19:81:E8:0E:E8:C9:81
     SHA1: 96:66:C1:01:49:17:D1:19:FB:DB:83:86:50:3D:3D:AD:DA:F7:C6:A9
     SHA256: 69:82:C5:24:9A:A1:AE:DF:80:29:7A:26:92:C1:A5:9F:AF:7D:03:56:CC:C3:E9:73:3B:FD:85:66:35:D6:8A:9B
     Signature algorithm name: SHA256withRSA
     Version: 3

Extensions:

#1: ObjectId: 2.5.29.35 Criticality=false
AuthorityKeyIdentifier [
KeyIdentifier [
0000: CD 29 4E 07 3D C3 7C D0   16 45 FB 0A CE 8D B4 98  .)N.=....E......
0010: B7 A8 4C 79                                        ..Ly
]
[EMAILADDRESS=info@crate.io, CN=*.crate.io, OU=Cryptography Department, O=Crate.io, L=Dornbirn, ST=Vorarlberg, C=AT]
SerialNumber: [    f13562ec 6184401e]
]

#2: ObjectId: 2.5.29.19 Criticality=false
BasicConstraints:[
  CA:true
  PathLen:2147483647
]

#3: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: CD 29 4E 07 3D C3 7C D0   16 45 FB 0A CE 8D B4 98  .)N.=....E......
0010: B7 A8 4C 79                                        ..Ly
]
]

Trust this certificate? [no]:  yes
Certificate was added to keystore
</pre></div>
</div>
</div>
<div class="section" id="import-ca-into-truststore">
<h4><a class="toc-backref" href="#id19">Import CA Into Truststore</a><a class="headerlink" href="#import-ca-into-truststore" title="Permalink to this headline">¶</a></h4>
<p>If we are using our own CA, we should also import the certificate to the
Truststore, such that it is available for clients which want to verify
signatures.</p>
<p>Command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">keytool</span> <span class="o">-</span><span class="kn">import</span> <span class="o">-</span><span class="n">keystore</span> <span class="n">truststore</span> <span class="o">-</span><span class="n">file</span> <span class="n">rootCA</span><span class="o">.</span><span class="n">crt</span> <span class="o">-</span><span class="n">alias</span> <span class="n">theCARoot</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Enter keystore password:
Re-enter new password:
Owner: EMAILADDRESS=info@crate.io, CN=*.crate.io, OU=Cryptography Department, O=Crate.io, L=Dornbirn, ST=Vorarlberg, C=AT
Issuer: EMAILADDRESS=info@crate.io, CN=*.crate.io, OU=Cryptography Department, O=Crate.io, L=Dornbirn, ST=Vorarlberg, C=AT
Serial number: f13562ec6184401e
Valid from: Mon Jun 12 13:09:17 CEST 2017 until: Wed May 19 13:09:17 CEST 2117
Certificate fingerprints:
     MD5:  BB:A1:79:53:FE:71:EC:61:2A:19:81:E8:0E:E8:C9:81
     SHA1: 96:66:C1:01:49:17:D1:19:FB:DB:83:86:50:3D:3D:AD:DA:F7:C6:A9
     SHA256: 69:82:C5:24:9A:A1:AE:DF:80:29:7A:26:92:C1:A5:9F:AF:7D:03:56:CC:C3:E9:73:3B:FD:85:66:35:D6:8A:9B
     Signature algorithm name: SHA256withRSA
     Version: 3

Extensions:

#1: ObjectId: 2.5.29.35 Criticality=false
AuthorityKeyIdentifier [
KeyIdentifier [
0000: CD 29 4E 07 3D C3 7C D0   16 45 FB 0A CE 8D B4 98  .)N.=....E......
0010: B7 A8 4C 79                                        ..Ly
]
[EMAILADDRESS=info@crate.io, CN=*.crate.io, OU=Cryptography Department, O=Crate.io, L=Dornbirn, ST=Vorarlberg, C=AT]
SerialNumber: [    f13562ec 6184401e]
]

#2: ObjectId: 2.5.29.19 Criticality=false
BasicConstraints:[
  CA:true
  PathLen:2147483647
]

#3: ObjectId: 2.5.29.14 Criticality=false
SubjectKeyIdentifier [
KeyIdentifier [
0000: CD 29 4E 07 3D C3 7C D0   16 45 FB 0A CE 8D B4 98  .)N.=....E......
0010: B7 A8 4C 79                                        ..Ly
]
]

Trust this certificate? [no]:  yes
Certificate was added to keystore
</pre></div>
</div>
</div>
</div>
<div class="section" id="import-the-signed-certificate">
<h3><a class="toc-backref" href="#id20">Import the Signed Certificate</a><a class="headerlink" href="#import-the-signed-certificate" title="Permalink to this headline">¶</a></h3>
<p>Now we have a signed certificate, signed by either from a official CA
or from our own CA. Let&#8217;s import it to the keystore.</p>
<p>Command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">keytool</span> <span class="o">-</span><span class="kn">import</span> <span class="o">-</span><span class="n">keystore</span> <span class="n">keystore</span> <span class="o">-</span><span class="n">file</span> <span class="n">server</span><span class="o">.</span><span class="n">crt</span> <span class="o">-</span><span class="n">alias</span> <span class="n">server</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Enter</span> <span class="n">keystore</span> <span class="n">password</span><span class="p">:</span>
<span class="n">Enter</span> <span class="n">key</span> <span class="n">password</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">server</span><span class="o">&gt;</span>
<span class="n">Certificate</span> <span class="n">reply</span> <span class="n">was</span> <span class="n">installed</span> <span class="ow">in</span> <span class="n">keystore</span>
</pre></div>
</div>
</div>
<div class="section" id="configuring-cratedb">
<h3><a class="toc-backref" href="#id21">Configuring CrateDB</a><a class="headerlink" href="#configuring-cratedb" title="Permalink to this headline">¶</a></h3>
<p>Finally, you want to supply the keystore/truststore configuration in the
CrateDB config, see <a class="reference internal" href="../config/enterprise.html#ssl-config"><span class="std std-ref">Secured Communications (SSL/TLS)</span></a>.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
    </div>
  </div><footer class="footer">
  <div class="w-container">
    <div class="w-clearfix">
      <div class="w-row mobileAlign">
        <div class="w-col w-col-3 footer-menu">
          <p class="menu-Label">Product</p>
          <ul class="vertical-menu">
            <li class="footer-listitem-new"><a href="https://crate.io/overview/">Overview</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/download/">Download</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/use-cases/">Use Cases</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/customers/">Customers</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/pricing/">Pricing</a></li>
          </ul>
        </div>
        <div class="w-col w-col-3 footer-menu">
          <p class="menu-Label">Resources</p>
          <ul class="vertical-menu">
            <li class="footer-listitem-new"><a href="https://crate.io/resources/">Resource Library</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/docs/">Documentation</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/docs/support/">Support</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/events/">Events</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/blog/">Blog</a></li>
          </ul>
        </div>
        <div class="w-col w-col-3 footer-menu">
          <p class="menu-Label">Company</p>
          <ul class="vertical-menu">
            <li class="footer-listitem-new "><a href="https://crate.io/about/">About</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/jobs/">Jobs</a></li>
            <li class="footer-listitem-new "><a href="https://crate.io/partners/">Partners</a></li>
            <li class="footer-listitem-new"><a href="https://crate.io/in-the-news/">In the News</a></li>
          </ul>
        </div>
        <div class="w-col w-col-3">
          <ul class="footer-list w-list-unstyled" style="margin-top: 0; padding-left: 0;">
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://www.facebook.com/crate.io" target="_blank" style="padding-left: 0;">
                <img src="../_static/images/f-logo-facebook.png" width="12">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://twitter.com/Crateio" target="_blank">
                <img src="../_static/images/f-logo-twitter.png" width="23">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://plus.google.com/105753392254543335997" target="_blank">
                <img src="../_static/images/f-logo-google.png" width="23">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://www.linkedin.com/company/crateio" target="_blank">
                <img src="../_static/images/f-logo-linkedin.png" width="22">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://www.youtube.com/channel/UCcp_IqjXaejmwBcwg51n1AA" target="_blank">
                <img src="../_static/images/f-logo-youtube.png" width="24">
              </a>
            </li>
            <li class="footer-listitem">
              <a class="footer-link-connect w-inline-block" href="https://github.com/crate">
                <img src="../_static/images/f-logo-github.png" width="22">
              </a>
            </li>
            <div class="mobileHoriztonalMenu">
              <li class="footer-listitem-new"><a href="https://crate.io/contact/">Contact</a></li>
              <li class="footer-listitem-new"><a href="https://crate.io/legal/">Legal</a></li>
              <li class="footer-listitem-new"><a href="https://crate.io/legal/imprint/">Imprint</a></li>
            </div>
            <li class="footer-listitem link-list">
              <a class="footer-link-eu w-inline-block" href="/erdf/">
                <img class="logo-eu" sizes="100px" src="../_static/images/logo-eu-optimized-1.jpg" width="101">
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="w-row">
        <a class="brand footer-brand w-inline-block" href="/">
          <img src="../_static/images/logo-crate.png" width="217">
        </a>
      </div>
    </div>
  </div>
</footer>

  <script>
  var $navAffix = $('#nav-affix');
  var $contentEl = $('.wrapper-content-right');
  // Desktop only
  if( !$('#mobile-menu-toggler').is(':visible') ) {

    // Only if the content is taller than the sidebar,
    // to avoid scroll jerk
    if ( $contentEl.height() > $navAffix.height() ) {
      // Init
      $navAffix.affix({
        offset: {
          top: 100,
          bottom: function () {
            return (this.bottom = $('footer').outerHeight(true) + 200)
          }
        }
      });
      // Recalculate the sidebar
      $(window).resize(function() {
        $navAffix.affix('checkPosition');
      });
    }

    $('body').scrollspy();

  } else {

    $('.wrapper-navleft').hide();
    $('#mobile-menu-toggler').click(function() {
      $('.wrapper-navleft').toggle();
    });

  }

  $(document).ready(function() {
    window.setTimeout(function() {$('body').append('<a href="https://crate.io/docs/support/slackin/" style="z-index: 10; position: fixed; bottom: 20px; right: ' + ($('#intercom-launcher').is(':visible') ? '90' : '20') + 'px; box-shadow: 0 6px 13px 0 rgba(0, 0, 0, .23)"><img src="../_static/images/slack.png" id="slack-container" /></a>'); }, 2000);
  });
  </script>

  <!-- Segment -->
  <script>
    !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","setAnonymousId"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
      analytics.load("FToR4cE5lXyQziQirvt0kSnFQj0rAgu9");
      analytics.setAnonymousId($.cookie('uid'));
      analytics.page();
      analytics.track('visited_section_docs', {
        project: 'crate',
        version: ''
      });
    }}();
  </script>
  </body>
</html>