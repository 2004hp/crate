"use strict";var crateAdminApp=angular.module("crateAdminApp",["stats","common","overview","console","docs"]);crateAdminApp.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/overview.html",controller:"OverviewController"}).when("/console",{templateUrl:"views/console.html",controller:"ConsoleController"}).when("/docs",{templateUrl:"views/docs.html",controller:"DocsController"}).otherwise({redirectTo:"/"})}]),crateAdminApp.run(["ClusterState",function(){}]),angular.module("stats",[]).factory("ClusterState",["$http","$timeout","$location","$log","$rootScope",function(a,b,c,d){var e=c.search().prefix||"",f={green:"label-success",yellow:"label-warning",red:"label-important"},g={cluster_name:""},h=function(){a({method:"GET",url:e+"/_cluster/health"}).success(function(a){d.info("Received stats from cluster: "+a),d.info("Received stats from cluster, name: "+a.cluster_name),g.name=a.cluster_name,g.status=a.status,g.color=f[a.status]}).error(function(){}),b(h,5e3)};return h(),g}]),angular.module("common",["stats"]).controller("StatusBarController",["$scope","$log","ClusterState",function(a,b,c){a.cluster_state=c.status,a.cluster_name=c.name,a.cluster_color=c.color}]).controller("NavigationController",["$scope","$location",function(a,b){a.isActive=function(a){return a===b.path()}}]),angular.module("overview",["stats"]).controller("OverviewController",["$scope","$log","ClusterState",function(a,b,c){b.info("Cluster name: "+c.name),a.cluster_state=c.status,a.cluster_color=c.color,a.replicated_data="90%",a.available_data="100%",a.records_total=235e3,a.records_underreplicated=2e4,a.records_unavailable=0}]),angular.module("console",[]).controller("ConsoleController",["$scope","$http","$location",function(a,b,c){a.statement="",a.result={rows:[]},$("iframe").hide(),a.resultHeaders=[],a.error={},a.error.hide=!0,a.execute=function(){var d=c.search().prefix||"";b.post(d+"/_sql",{stmt:a.statement}).success(function(b){a.error.hide=!0,a.resultHeaders=[];for(var c in b.cols)a.resultHeaders.push(b.cols[c]);a.result=b}).error(function(b){a.error.hide=!1,a.error.message=b.error})}}]),angular.module("docs",[]).controller("DocsController",["$scope","$location",function(a,b){var c=b.search().prefix||"";c="http://localhost:9200",a.url=c+"/_plugin/docs"}]);