=========================
 Crate Admin site plugin
=========================

A web based admin interface for crate.

Accessible via http://localhost:9200/admin or by the classic site
plugin url http://localhost:9200/_plugin/crate-admin/


Installation
============

This plugin has been designed to be delivered as site plugin of
crate. It get's built and packed during the packaging process of
crate. Once crate has been installed, this plugin will be located at
``plugins/crate-admin/_site/``


Development
===========

This plugin is based on angularjs_. The basic structure and some basic
components has been generated by yeoman_. For tasks like running a
testserver, running tests or creating a distribution grunt_ has been
used.


Requirements
------------

To develop or deploy this app you'll need the following packages::

 $ sudo port install nodejs npm
 $ sudo npm install -g yo grunt-cli bower
 $ sudo npm install -g generator-angular
 $ sudo npm install -g generator-karma
 $ sudo npm install -g grunt-contrib-compass


running the app using the test-server
-------------------------------------

In the root of the package (here) start the grunt server::

 $ grunt server

This will start a http server on port 9000 and serves the app. A
browser displaying the index page of the app will get started
automatically.

Note: The app is designed to run as a site plugin of elasticsearch or
crate respectively and depends on the API of these services. The grunt
test-server does not provide this API and therefore some parts of the
app will not work correctly if it get served by any other server than
elasticsearch.


running tests
-------------

In the root of the package (here) start the test runner::

 $ grunt test

This will execute all tests defined in ``test/spec/``.


creating a distribution
-----------------------

The build step is part of the default task of grunt so it's usually ok
to just run ``grunt`` in the root of the package. Since the app
displays the version of crate and this version is not accessible by
any API it has to be passed in during the build step of the
application::

 $ grunt --crate_version=1.2.3

This will generate a distributable version of the app under ``dist``.


extending the app
-----------------

To add new components like controllers, directives, views etc. to the
app use ``yo``, the cli of yeoman_, in combination with the
angulargenerator_::

 $ yo angular:directive <name>
 $ yo angular:controller <name>
 $ yo angular:view <name>



.. _angularjs:         http://angularjs.org/
.. _yeoman:            http://yeoman.io/
.. _grunt:             http://gruntjs.com/
.. _angulargenerator:  https://github.com/yeoman/generator-angular
